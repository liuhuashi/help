<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>File Storage - 开发帮助文档</title> 
    <meta name="keyword" content="filesystem"> 
    <meta name="description" content="filesystem"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="7" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/artisan.html" title="Artisan 命令行">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Artisan 命令行
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authentication.html" title="用户认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authorization.html" title="用户授权">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户授权
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/blade.html" title="Blade 模板">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Blade 模板
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/broadcasting.html" title="广播系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    广播系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/cache.html" title="缓存系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    缓存系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/collections.html" title="集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/configuration.html" title="Configuration">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Configuration
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/console-tests.html" title="控制台测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    控制台测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/container.html" title="服务容器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务容器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contracts.html" title="契约">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    契约
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contributions.html" title="贡献导引">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    贡献导引
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/controllers.html" title="Controllers">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Controllers
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/csrf.html" title="CSRF 保护">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CSRF 保护
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database-testing.html" title="数据库测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database.html" title="数据库: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/deployment.html" title="部署">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    部署
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/documentation.html" title="前言">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    前言
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/dusk.html" title="Laravel Dusk">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Dusk
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-collections.html" title="Eloquent: 集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-mutators.html" title="Eloquent: 修改器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 修改器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-relationships.html" title="Eloquent: 关联">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 关联
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-resources.html" title="Eloquent: API 资源">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: API 资源
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-serialization.html" title="Eloquent: 序列化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 序列化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent.html" title="Eloquent: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/encryption.html" title="加密解密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    加密解密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/envoy.html" title="Laravel Envoy">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Envoy
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/errors.html" title="错误处理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    错误处理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/events.html" title="事件系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    事件系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/facades.html" title="Facades">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Facades
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/filesystem.html" title="File Storage">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    File Storage
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/frontend.html" title="JavaScript &amp; CSS 脚手架">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    JavaScript &amp; CSS 脚手架
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/hashing.html" title="哈希加密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    哈希加密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/helpers.html" title="辅助函数">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    辅助函数
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/homestead.html" title="Laravel Homestead">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Homestead
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/horizon.html" title="Laravel Horizon">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Horizon
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-client.html" title="HTTP 客户端">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 客户端
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-tests.html" title="HTTP Tests">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Tests
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/installation.html" title="安装">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/lifecycle.html" title="请求生命周期">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    请求生命周期
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/localization.html" title="本地化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    本地化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/logging.html" title="日志">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    日志
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mail.html" title="邮件发送">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    邮件发送
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/middleware.html" title="中间件">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    中间件
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/migrations.html" title="数据库：迁移">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：迁移
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mix.html" title="编辑资源 (Mix)">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    编辑资源 (Mix)
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mocking.html" title="Mocking">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Mocking
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/notifications.html" title="消息通知">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    消息通知
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/packages.html" title="Package Development">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Package Development
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/pagination.html" title="数据库: 分页">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 分页
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passport.html" title="Laravel Passport">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Passport
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passwords.html" title="重置密码">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    重置密码
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/providers.html" title="服务提供者">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务提供者
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queries.html" title="数据库：查询构造器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：查询构造器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queues.html" title="队列">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    队列
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/redis.html" title="Redis">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Redis
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/releases.html" title="发行说明">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    发行说明
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/requests.html" title="HTTP 请求">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 请求
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/responses.html" title="HTTP Responses">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Responses
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/routing.html" title="路由">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    路由
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sail.html" title="Laravel Sail">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sail
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sanctum.html" title="Laravel Sanctum">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sanctum
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scheduling.html" title="任务调度">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    任务调度
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scout.html" title="Laravel Scout">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Scout
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/seeding.html" title="数据库：填充">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：填充
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/session.html" title="HTTP 会话机制">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 会话机制
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/socialite.html" title="Laravel 社会化登录">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel 社会化登录
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/structure.html" title="目录结构">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    目录结构
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/telescope.html" title="Laravel Telescope">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Telescope
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/testing.html" title="测试：入门指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    测试：入门指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/upgrade.html" title="升级指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    升级指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/urls.html" title="生成 URL">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    生成 URL
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/valet.html" title="Laravel Valet">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Valet
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/validation.html" title="表单验证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表单验证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/verification.html" title="Email 认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Email 认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/views.html" title="视图">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    视图
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <h1>File Storage</h1>
<ul>
<li><a href="#introduction">简介</a></li>
<li><a href="#configuration">配置</a>
<ul>
<li><a href="#the-public-disk">公共磁盘</a></li>
<li><a href="#the-local-driver">本地驱动</a></li>
<li><a href="#driver-prerequisites">驱动先决条件</a></li>
<li><a href="#caching">缓存</a></li>
</ul></li>
<li><a href="#obtaining-disk-instances">获取磁盘实例</a></li>
<li><a href="#retrieving-files">检索文件</a>
<ul>
<li><a href="#downloading-files">下载文件</a></li>
<li><a href="#file-urls">文件URLs</a></li>
<li><a href="#file-paths">文件路径</a></li>
<li><a href="#file-metadata">文件源数据</a></li>
</ul></li>
<li><a href="#storing-files">保存文件</a>
<ul>
<li><a href="#file-uploads">文件上传</a></li>
<li><a href="#file-visibility">文件可见性</a></li>
</ul></li>
<li><a href="#deleting-files">删除文件</a></li>
<li><a href="#directories">目录</a></li>
<li><a href="#custom-filesystems">检索文件</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2>简介</h2>
<p>Laravel 提供了一个强大的文件系统抽象概念，这得益于 Frank de Jonge 强大的 <a href="https://github.com/thephpleague/flysystem">Flysystem</a> 扩展包。Laravel 文件系统集成为使用本地文件系统、Amazon S3 和 Rackspace 云存储提供了简单易用的驱动程序。更棒的是，由于每个系统的 API 保持不变，所以在这些存储选项之间切换是非常简单的。
<a name="configuration"></a></p>
<h2>配置</h2>
<p>文件系统的配置文件位于<code>config/filesystems.php</code>。在这个文件中你可以配置所有「磁盘」。每个磁盘代表特定的存储驱动及存储位置。每种支持的驱动程序的示例配置都包含在配置文件中。因此，只需要修改配置即可反映你的存储偏好和凭据。
当然，你可以根据需要配置多个磁盘，甚至你还可以使多个磁盘共用同一个驱动。</p>
<p><a name="the-public-disk"></a></p>
<h3>公共磁盘</h3>
<p><code>public</code> 磁盘适用于要公开访问的文件。默认情况下， <code>public</code> 磁盘使用 <code>local</code> 驱动，并且将这些文件存储在 <code>storage/app/public</code> 目录下。为了使它们能通过网络访问，你需要创建从 <code>public/storage</code> 到 <code>storage/app/public</code> 的符号链接。这种方式能把可公开访问文件都保留在同一个目录下，以便在使用零停机时间部署系统如 <a href="https://envoyer.io">Envoyer</a> 的时候，就可以轻松地在不同的部署之间共享这些文件。</p>
<p>你可以使用 Artisan 命令 <code>storage:link</code> 来创建符号链接：</p>
<pre><code>php artisan storage:link</code></pre>
<p>一旦一个文件被存储并且已经创建了符号链接，你就可以使用辅助函数 <code>asset</code> 来创建文件的 URL：</p>
<pre><code>echo asset('storage/file.txt');</code></pre>
<p>您可以在您的 <code>filesystems</code> 配置文件中配置额外的符号链接。 每一个配置的链接创建时，将运行 <code>storage:link</code> 命令:</p>
<pre><code>'links' =&gt; [
    public_path('storage') =&gt; storage_path('app/public'),
    public_path('images') =&gt; storage_path('app/images'),
],</code></pre>
<p><a name="the-local-driver"></a></p>
<h3>本地驱动</h3>
<p>使用 <code>local</code> 驱动时，所有文件操作都与 <code>filesystems</code> 配置文件中定义的 <code>root</code> 目录相关。 默认情况下，此值设置为 <code>storage/app</code> 目录。 因此，以下方法会把文件存储在 <code>storage/app/file.txt</code> 中：</p>
<pre><code>Storage::disk('local')-&gt;put('file.txt', 'Contents');</code></pre>
<h4>权限</h4>
<p><code>public</code> <a href="#file-visibility">可见性</a> 转换为目录的 <code>0755</code> 和文件的 <code>0644</code>。 你可以修改 <code>filesystems</code> 配置文件中的权限映射：</p>
<pre><code>'local' =&gt; [
    'driver' =&gt; 'local',
    'root' =&gt; storage_path('app'),
    'permissions' =&gt; [
        'file' =&gt; [
            'public' =&gt; 0664,
            'private' =&gt; 0600,
        ],
        'dir' =&gt; [
            'public' =&gt; 0775,
            'private' =&gt; 0700,
        ],
    ],
],</code></pre>
<p><a name="driver-prerequisites"></a></p>
<h3>驱动程序先决条件</h3>
<h4>Composer 包</h4>
<p>在使用 SFTP、S3 驱动之前，你需要通过 Composer 安装相应的软件包：</p>
<ul>
<li>SFTP: <code>league/flysystem-sftp ~1.0</code></li>
<li>Amazon S3: <code>league/flysystem-aws-s3-v3 ~1.0</code></li>
</ul>
<p>使用缓存适配器是提高性能的一个绝对必要条件。你需要一个额外的包：</p>
<ul>
<li>CachedAdapter: <code>league/flysystem-cached-adapter ~1.0</code></li>
</ul>
<h4>S3 驱动配置</h4>
<p>S3 驱动配置信息位于你的 <code>config/filesystems.php</code> 配置文件中。该文件包含 S3 驱动程序的示例配置数组。 你可以自由使用你自己的 S3 配置和凭证修改此配置数组。 为方便起见，这些环境变量与 AWS CLI 使用的命名约定相匹配。</p>
<h4>FTP 驱动配置</h4>
<p>Laravel 的文件系统集成能很好的适配 FTP，不过 FTP 的配置示例并没有被包含在框架默认的 <code>filesystems.php</code> 文件中。如果你需要配置 FTP 文件系统，则需要使用如下配置内容：</p>
<pre><code>'ftp' =&gt; [
    'driver' =&gt; 'ftp',
    'host' =&gt; 'ftp.example.com',
    'username' =&gt; 'your-username',
    'password' =&gt; 'your-password',

    // Optional FTP Settings...
    // 'port' =&gt; 21,
    // 'root' =&gt; '',
    // 'passive' =&gt; true,
    // 'ssl' =&gt; true,
    // 'timeout' =&gt; 30,
],</code></pre>
<h4>SFTP 驱动器的配置</h4>
<p>Laravel 的 Flysystem 集成包可以很好的适配 SFTP；只不过在该框架的默认配置文件 <code>filesystems.php</code> 中并没有包含示例。如果你需要配置 SFTP 文件系统，则需要使用如下配置内容：</p>
<pre><code>'sftp' =&gt; [
    'driver' =&gt; 'sftp',
    'host' =&gt; 'example.com',
    'username' =&gt; 'your-username',
    'password' =&gt; 'your-password',

    // Settings for SSH key based authentication...
    // 'privateKey' =&gt; '/path/to/privateKey',
    // 'password' =&gt; 'encryption-password',

    // Optional SFTP Settings...
    // 'port' =&gt; 22,
    // 'root' =&gt; '',
    // 'timeout' =&gt; 30,
],</code></pre>
<p><a name="caching"></a></p>
<h3>缓存</h3>
<p>给指定磁盘开启缓存功能，需要在该磁盘的配置项中直接添加 <code>cache</code> 配置项。 <code>cache</code> 配置内容是以数组形式存在的，由缓存驱动名称 <code>store</code> （译者注：文档原始描述文字 <code>disk</code> 与示例代码中的 <code>store</code> 不一致，验证代码后的确应该是 <code>store</code> ，故作此修改。）、 缓存过期时间 <code>expire</code>（单位：秒） ，以及缓存前缀 <code>prefix</code> 组成：</p>
<pre><code>'s3' =&gt; [
    'driver' =&gt; 's3',

    // Other Disk Options...

    'cache' =&gt; [
        'store' =&gt; 'memcached',
        'expire' =&gt; 600,
        'prefix' =&gt; 'cache-prefix',
    ],
],</code></pre>
<p><a name="obtaining-disk-instances"></a></p>
<h2>获取磁盘实例</h2>
<p><code>Storage</code> 门面适用于所有已配置的磁盘进行交互。例如，你可以使用门面中的 <code>put</code> 方法将头像存储到默认磁盘。如果你使用 <code>Storage</code> 门面时并没有使用 <code>disk</code> 方法，那么所有的方法调用将会自动传递给默认的磁盘：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

Storage::put('avatars/1', $fileContents);</code></pre>
<p>如果应用程序要与多个磁盘进行互操作，可使用 <code>Storage</code> 门面中的 <code>disk</code> 方法对特定磁盘上的文件进行操作：</p>
<pre><code>Storage::disk('s3')-&gt;put('avatars/1', $fileContents);</code></pre>
<p><a name="retrieving-files"></a></p>
<h2>检索文件</h2>
<p><code>get</code> 方法可以用于检索文件的内容，此方法返回该文件的原始字符串内容。 切记，所有文件路径的指定都应该相对于为磁盘配置的「root」目录：</p>
<pre><code>$contents = Storage::get('file.jpg');</code></pre>
<p><code>exists</code> 方法可以用来判断磁盘上是否存在指定的文件：</p>
<pre><code>$exists = Storage::disk('s3')-&gt;exists('file.jpg');</code></pre>
<p><code>missing</code> 方法可以用来判断磁盘上是否缺少指定的文件：</p>
<pre><code>$missing = Storage::disk('s3')-&gt;missing('file.jpg');</code></pre>
<p><a name="downloading-files"></a></p>
<h3>下载文件</h3>
<p><code>download</code> 方法可用于生成一个响应，强制用户的浏览器在给定路径下载文件。 <code>download</code> 方法接受一个文件名作为该方法的第二个参数，它将确定用户下载文件时看到的文件名。最后，你可以传递一个 HTTP 请求头的配置数组作为该方法的第三个参数：</p>
<pre><code>return Storage::download('file.jpg');

return Storage::download('file.jpg', $name, $headers);</code></pre>
<p><a name="file-urls"></a></p>
<h3>文件 URLs</h3>
<p>你可以使用 <code>url</code> 方法来获取给定文件的 URL。如果你使用的是 <code>local</code> 驱动，通常会给指定的路径前加上 <code>/storage</code> 并返回文件的相对 URL 地址。如果使用的是 <code>s3</code>驱动，则返回完整的远程 URL：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

$url = Storage::url('file.jpg');</code></pre>
<blockquote>
<p>注意：切记，如果使用的是 <code>local</code> 驱动，所有想被公开访问的文件都应该放在 <code>storage/app/public</code> 目录下。此外，你需要在 <code>public/storage</code>上 <a href="#the-public-disk">创建符号链接</a> 到 <code>storage/app/public</code> 目录上。
&lt;a name=&quot;file-paths&quot;&gt;</a></p>
</blockquote>
<h3> 文件路径</h3>
<p>你可以使用 <code>path</code> 方法来获取指定文件的路径。如果你使用的是 <code>local</code> 驱动，则返回文件的绝对路径。如果你使用的是 <code>s3</code> 驱动，则返回此文件在 S3 存储器中的相对路径：</p>
<p>    use Illuminate\Support\Facades\Storage;</p>
<p>    $path = Storage::path('file.jpg');</p>
<h4>临时 URLs</h4>
<p>对于使用 <code>s3</code> 驱动来存储文件，可以使用 <code>temporaryUrl</code> 方法创建给定文件的临时 URL。这个方法会接收路径和 <code>DateTime</code> 实例来指定 URL 何时过期：</p>
<pre><code>$url = Storage::temporaryUrl(
    'file.jpg', now()-&gt;addMinutes(5)
);</code></pre>
<p>对于使用 s3 驱动来存储文件，可以使用 temporaryUrl 方法创建给定文件的临时 URL。这个方法会接收路径和 DateTime 实例来指定 URL 何时过期：<a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html#RESTObjectGET-requests">S3 request parameters</a>, 你可以传递一个数组作为 temporaryUrl 方法的第三个参数：</p>
<pre><code>$url = Storage::temporaryUrl(
    'file.jpg',
    now()-&gt;addMinutes(5),
    ['ResponseContentType' =&gt; 'application/octet-stream']
);</code></pre>
<h4>自定义本地 URL 主机</h4>
<p>如果要使用 local 驱动为存储在磁盘上的文件预定义主机，可以向磁盘配置数组添加一个 <code>url</code> 选项：</p>
<pre><code>'public' =&gt; [
    'driver' =&gt; 'local',
    'root' =&gt; storage_path('app/public'),
    'url' =&gt; env('APP_URL').'/storage',
    'visibility' =&gt; 'public',
],</code></pre>
<p><a name="file-metadata"></a></p>
<h3>文件元数据</h3>
<p>除了读写文件外，Laravel 还可以提供有关文件本身的信息，例如，<code>size</code> 方法可用来获取文件的大小（以字节为单位）：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

$size = Storage::size('file.jpg');</code></pre>
<p><code>lastModified</code> 方法返回文件最后一次被修改的 UNIX 时间戳：</p>
<pre><code>$time = Storage::lastModified('file.jpg');</code></pre>
<p><a name="storing-files"></a></p>
<h2>保存文件</h2>
<p><code>put</code> 方法可用于将原始文件内容保存到磁盘上。你也可以传递 PHP 的 <code>resource</code> 给 <code>put</code> 方法，它将使用文件系统下的底层流支持。切记，所有的文件路径都是相对于磁盘配置中「根」的路径：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

Storage::put('file.jpg', $contents);

Storage::put('file.jpg', $resource);</code></pre>
<h4>自动流式传输</h4>
<p>您可以使用 <code>putFile</code> 或 <code>putFileAs</code> 方法来让 Laravel 自动将给定的文件流式传输到您的存储位置。该方法接收一个 <code>Illuminate\Http\File</code> 或 <code>Illuminate\Http\UploadedFile</code> 实例并自动将文件流式传输到您想要的位置：</p>
<pre><code>use Illuminate\Http\File;
use Illuminate\Support\Facades\Storage;

// 自动为文件名生成唯一 ID...
Storage::putFile('photos', new File('/path/to/photo'));

// 手动指定文件名...
Storage::putFileAs('photos', new File('/path/to/photo'), 'photo.jpg');</code></pre>
<p>关于 <code>putFile</code> 方法，有一些重点需要注意。请注意我们仅仅指定了目录名。默认情况下， <code>putFile</code> 方法将生成唯一的 ID 并将其作为文件名。文件的扩展名则是根据文件的 MIME 类型来进行判断。<code>putFile</code> 方法会返回文件的路径，您可以将其和生成的文件名存储到数据库中。</p>
<p><code>putFile</code> 和 <code>putFileAs</code> 方法接收一个参数用来指定存储文件的「可见性」。当您将文件存储到诸如 S3 的云盘上，并且想让其能够公开访问，此时，此举（指定存储文件的可见性）就很有帮助：</p>
<pre><code>Storage::putFile('photos', new File('/path/to/photo'), 'public');</code></pre>
<h4>文件数据写入</h4>
<p><code>prepend</code> 和 <code>append</code> 方法允许您在文件的开头和末尾写入数据：</p>
<pre><code>Storage::prepend('file.log', 'Prepended Text');

Storage::append('file.log', 'Appended Text');</code></pre>
<h4>复制和移动文件</h4>
<p>您可以使用 <code>copy</code> 方法来复制一个已经存在的文件到磁盘上的一个新位置，而 <code>move</code> 方法则可以重命名或移动一个已经存在的文件到新位置：</p>
<pre><code>Storage::copy('old/file.jpg', 'new/file.jpg');

Storage::move('old/file.jpg', 'new/file.jpg');</code></pre>
<p><a name="file-uploads"></a></p>
<h3>文件上传</h3>
<p>在 Web 应用中，最常见的文件存储用例便是上传用户头像、照片和文档。Laravel 上传文件的 <code>store</code> 方法可以轻松处理上传文件的存储。您只需要调用 <code>store</code> 方法，并将您预期的文件存储位置作为参数传递给它：</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;

class UserAvatarController extends Controller
{
    /**
     * 上传用户头像。
     *
     * @param  Request  $request
     * @return Response
     */
    public function update(Request $request)
    {
        $path = $request-&gt;file('avatar')-&gt;store('avatars');

        return $path;
    }
}</code></pre>
<p>在这个例子中，有一些重点需要注意。我们仅仅指定了目录名，并没有指定文件名。默认情况下，<code>store</code> 方法将会自动生成一个唯一的 ID 并将其作为文件的名称。而文件的扩展名则是根据文件的 MIME 类型来进行判断的。<code>store</code> 方法将会返回文件的路径，您可将其与生成的文件名一起存到数据库中。</p>
<p>您亦可调用 <code>Storage</code> 门面的 <code>putFile</code> 方法达到与上述例子中相同的效果：</p>
<pre><code>$path = Storage::putFile('avatars', $request-&gt;file('avatar'));</code></pre>
<h4>指定一个文件名</h4>
<p>如果您不想让应用在存储文件过程中自动生成文件名，您可以使用 <code>storeAs</code> 来实现之。该方法接受路径，文件名以及磁盘（可选）作为其参数：</p>
<pre><code>$path = $request-&gt;file('avatar')-&gt;storeAs(
    'avatars', $request-&gt;user()-&gt;id
);</code></pre>
<p>您亦可使用 <code>Storage</code> 门面的 <code>putFileAs</code> 方法来实现与上述例子中相同的效果：</p>
<pre><code>$path = Storage::putFileAs(
    'avatars', $request-&gt;file('avatar'), $request-&gt;user()-&gt;id
);</code></pre>
<blockquote>
<p>注意：文件路径中的非打印字符和无效的 unicode 字符将会被自动移除。因此，您可能希望在将路径传递给 Laravel 的文件存储方法前对其进行清理，您可以使用 <code>League\Flysystem\Util::normalizePath</code> 方法对其进行规范。</p>
</blockquote>
<h4>指定一个磁盘</h4>
<p>默认情况下，<code>store</code> 方法将使用默认的磁盘。如果您希望指定另一块磁盘，请将磁盘名称作为 <code>store</code> 方法的第二个参数传递给它：</p>
<pre><code>$path = $request-&gt;file('avatar')-&gt;store(
    'avatars/'.$request-&gt;user()-&gt;id, 's3'
);</code></pre>
<p>如果您使用 <code>storeAs</code> 方法，您可以将磁盘名称作为该方法的第三个参数：</p>
<pre><code>$path = $request-&gt;file('avatar')-&gt;storeAs(
    'avatars',
    $request-&gt;user()-&gt;id,
    's3'
);</code></pre>
<h4>其他文件信息</h4>
<p>您可以使用 <code>getClientOriginalName</code> 方法来获取上传文件的原始名称：</p>
<pre><code>$name = $request-&gt;file('avatar')-&gt;getClientOriginalName();</code></pre>
<p><code>extension</code> 可用于获取上传文件的扩展名：</p>
<pre><code>$extension = $request-&gt;file('avatar')-&gt;extension();</code></pre>
<p><a name="file-visibility"></a></p>
<h3>文件的可见性</h3>
<p>在 Laravel 继承的文件系统中，「可见性」是一个针对多平台的权限的抽象概念。文件可以定义为 <code>public</code> 或 <code>private</code> 。当文件被定义为 <code>public</code> 时，意味着其他人可以访问之。例如，当您使用 S3 驱动的时候，您可以检索声明为 <code>public</code> 的文件的 URL 。</p>
<p>在使用 <code>put</code> 方法的时候，您可以设置文件的可见性：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

Storage::put('file.jpg', $contents, 'public');</code></pre>
<p>您可以使用 <code>getVisibility</code> 和 <code>setVisibility</code> 方法对现有文件的可见性进行检索和设置：</p>
<pre><code>$visibility = Storage::getVisibility('file.jpg');

Storage::setVisibility('file.jpg', 'public');</code></pre>
<p>当和上传文件交互的时候，您可以使用 <code>storePublicly</code> 和 <code>storePubliclyAs</code> 方法来将文件的可见性设置为 <code>public</code> 并存储之：</p>
<pre><code>$path = $request-&gt;file('avatar')-&gt;storePublicly('avatars', 's3');

$path = $request-&gt;file('avatar')-&gt;storePubliclyAs(
    'avatars',
    $request-&gt;user()-&gt;id,
    's3'
);</code></pre>
<p><a name="deleting-files"></a></p>
<h2>删除文件</h2>
<p><code>delete</code> 方法接收一个文件名或一个文件名数组来将其从磁盘中删除：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

Storage::delete('file.jpg');

Storage::delete(['file.jpg', 'file2.jpg']);</code></pre>
<p>如果有必要，您可以指定删除的文件的磁盘：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

Storage::disk('s3')-&gt;delete('folder_path/file_name.jpg');</code></pre>
<p><a name="directories"></a></p>
<h2>目录</h2>
<h4>获取目录下所有的文件</h4>
<p><code>files</code> 将以数组的形式返回给定目录下所有的文件。如果您想要检索给定目录的所有文件及其子目录的所有文件，您可以使用 <code>allFiles</code> 方法：</p>
<pre><code>use Illuminate\Support\Facades\Storage;

$files = Storage::files($directory);

$files = Storage::allFiles($directory);</code></pre>
<h4>获取特定目录下的子目录</h4>
<p><code>directories</code> 方法以数组的形式返回给定目录中的所有目录。此外，您还可以使用 <code>allDirectories</code> 方法递归地获取给定目录中的所有目录及其子目录中的目录：</p>
<pre><code>$directories = Storage::directories($directory);

// 递归...
$directories = Storage::allDirectories($directory);</code></pre>
<h4>创建一个目录</h4>
<p><code>makeDirectory</code> 方法可递归的创建指定的目录：</p>
<pre><code>Storage::makeDirectory($directory);</code></pre>
<h4>删除一个目录</h4>
<p>最后，<code>deleteDirectory</code> 方法可用于删除一个目录及其下所有的文件：</p>
<pre><code>Storage::deleteDirectory($directory);</code></pre>
<p><a name="custom-filesystems"></a></p>
<h2>自定义文件系统</h2>
<p>Laravel 内置的文件系统提供了一些开箱即用的驱动；当然，它不仅仅是这些，它还提供了与其他存储系统的适配器。通过这些适配器，您可以在您的 Laravel 应用中创建自定义驱动。</p>
<p>要安装自定义文件系统，您可能需要一个文件系统适配器。让我们将社区维护的 Dropbox 适配器添加到项目中：</p>
<pre><code>composer require spatie/flysystem-dropbox</code></pre>
<p>接下来，您可以创建一个诸如 <code>DropboxServiceProvider</code> 这样的 <a href="/docs/laravel_8_zh/providers.html">服务提供者</a> 。在提供者的 <code>boot</code> 方法中，您可以使用 <code>Storage</code> 门面的 <code>extend</code> 方法来定义一个自定义驱动：</p>
<pre><code>&lt;?php

namespace App\Providers;

use Illuminate\Support\Facades\Storage;
use Illuminate\Support\ServiceProvider;
use League\Flysystem\Filesystem;
use Spatie\Dropbox\Client as DropboxClient;
use Spatie\FlysystemDropbox\DropboxAdapter;

class DropboxServiceProvider extends ServiceProvider
{
    /**
     * 注册应用服务。
     *
     * @return void
     */
    public function register()
    {
        //
    }

    /**
     * 驱动应用服务。
     *
     * @return void
     */
    public function boot()
    {
        Storage::extend('dropbox', function ($app, $config) {
            $client = new DropboxClient(
                $config['authorization_token']
            );

            return new Filesystem(new DropboxAdapter($client));
        });
    }
}</code></pre>
<p><code>extend</code> 方法的第一个参数是驱动的名称，第二个参数是一个闭包函数，这个闭包函数接收 <code>$app</code> 和 <code>$config</code> 变量。解析器的闭包函数必须返回一个 <code>League\Flysystem\Filesystem</code> 的实例。<code>$config</code> 变量包含了指定磁盘在 <code>config/filesystems.php</code> 文件中定义的值。</p>
<p>接下来，在您的 <code>config/app.php</code> 配置文件中注册服务提供者：</p>
<pre><code>'providers' =&gt; [
    // ...
    App\Providers\DropboxServiceProvider::class,
];</code></pre>
<p>当您成功注册了一个扩展的服务提供者后，您便可以在您的 <code>config/filesystems.php</code> 配置文件中使用 <code>dropbox</code> 驱动。</p>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 335);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>