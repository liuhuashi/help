<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>GearmanClient::addTaskBackground - 开发帮助文档</title> 
    <meta name="keyword" content="gearmanclient.addtaskbackground"> 
    <meta name="description" content="gearmanclient.addtaskbackground"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="358" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addoptions.html" title="GearmanClient::addOptions">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addOptions
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addserver.html" title="GearmanClient::addServer">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addServer
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addservers.html" title="GearmanClient::addServers">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addServers
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addtask.html" title="GearmanClient::addTask">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addTask
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addtaskbackground.html" title="GearmanClient::addTaskBackground">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addTaskBackground
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addtaskhigh.html" title="GearmanClient::addTaskHigh">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addTaskHigh
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addtaskhighbackground.html" title="GearmanClient::addTaskHighBackground">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addTaskHighBackground
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addtasklow.html" title="GearmanClient::addTaskLow">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addTaskLow
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addtasklowbackground.html" title="GearmanClient::addTaskLowBackground">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addTaskLowBackground
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.addtaskstatus.html" title="GearmanClient::addTaskStatus">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::addTaskStatus
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.clearcallbacks.html" title="GearmanClient::clearCallbacks">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::clearCallbacks
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.clone.html" title="GearmanClient::clone">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::clone
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.construct.html" title="GearmanClient::__construct">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::__construct
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.context.html" title="GearmanClient::context">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::context
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.data.html" title="GearmanClient::data">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::data
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.do.html" title="GearmanClient::do">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::do
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.dobackground.html" title="GearmanClient::doBackground">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doBackground
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.dohigh.html" title="GearmanClient::doHigh">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doHigh
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.dohighbackground.html" title="GearmanClient::doHighBackground">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doHighBackground
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.dojobhandle.html" title="GearmanClient::doJobHandle">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doJobHandle
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.dolow.html" title="GearmanClient::doLow">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doLow
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.dolowbackground.html" title="GearmanClient::doLowBackground">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doLowBackground
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.donormal.html" title="GearmanClient::doNormal">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doNormal
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.dostatus.html" title="GearmanClient::doStatus">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::doStatus
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.echo.html" title="GearmanClient::echo">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::echo
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.error.html" title="GearmanClient::error">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::error
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.geterrno.html" title="GearmanClient::getErrno">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::getErrno
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.jobstatus.html" title="GearmanClient::jobStatus">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::jobStatus
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.ping.html" title="GearmanClient::ping">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::ping
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.removeoptions.html" title="GearmanClient::removeOptions">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::removeOptions
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.returncode.html" title="GearmanClient::returnCode">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::returnCode
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.runtasks.html" title="GearmanClient::runTasks">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::runTasks
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setclientcallback.html" title="GearmanClient::setClientCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setClientCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setcompletecallback.html" title="GearmanClient::setCompleteCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setCompleteCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setcontext.html" title="GearmanClient::setContext">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setContext
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setcreatedcallback.html" title="GearmanClient::setCreatedCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setCreatedCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setdata.html" title="GearmanClient::setData">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setData
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setdatacallback.html" title="GearmanClient::setDataCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setDataCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setexceptioncallback.html" title="GearmanClient::setExceptionCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setExceptionCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setfailcallback.html" title="GearmanClient::setFailCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setFailCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setoptions.html" title="GearmanClient::setOptions">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setOptions
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setstatuscallback.html" title="GearmanClient::setStatusCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setStatusCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.settimeout.html" title="GearmanClient::setTimeout">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setTimeout
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setwarningcallback.html" title="GearmanClient::setWarningCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setWarningCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.setworkloadcallback.html" title="GearmanClient::setWorkloadCallback">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::setWorkloadCallback
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.timeout.html" title="GearmanClient::timeout">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::timeout
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/gearmanclient.wait.html" title="GearmanClient::wait">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    GearmanClient::wait
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="gearmanclient.addtask.html">« GearmanClient::addTask</a></li>
      <li style="float: right;"><a href="gearmanclient.addtaskhigh.html">GearmanClient::addTaskHigh »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="documentation.html">PHP Manual</a></li>
    <li><a href="class.gearmanclient.html">GearmanClient</a></li>
    <li>Add a background task to be run in parallel</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="gearmanclient.addtaskbackground" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">GearmanClient::addTaskBackground</h1>
  <p class="verinfo">(PECL gearman &gt;= 0.5.0)</p><p class="refpurpose"><span class="refname">GearmanClient::addTaskBackground</span> — <span class="dc-title">Add a background task to be run in parallel</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-gearmanclient.addtaskbackground-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>GearmanClient::addTaskBackground</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$function_name</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$workload</code></span>
   , <span class="methodparam"><span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span> <code class="parameter reference">&amp;$context</code><span class="initializer"> = ?</span></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$unique</code><span class="initializer"> = ?</span></span>
   ) : <span class="type"><a href="class.gearmantask.html" class="type GearmanTask">GearmanTask</a></span></div>

  <p class="para rdfs-comment">
   Adds a background task to be run in parallel with other tasks.  Call this method for all the tasks
   to be run in parallel, then call <span class="methodname"><a href="gearmanclient.runtasks.html" class="methodname">GearmanClient::runTasks()</a></span> to
   perform the work.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-gearmanclient.addtaskbackground-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">function_name</code></dt>

     <dd>

      <p class="para">
       由程序自动执行的已注册函数。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">workload</code></dt>

     <dd>

      <p class="para">
       被处理的序列化数据。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">context</code></dt>

     <dd>

      <p class="para">
       与任务关联的应用程序上下文。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">unique</code></dt>

     <dd>

      <p class="para">
       用于标识特定任务的唯一性 ID。
      </p>
     </dd>

    
   </dl>

  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-gearmanclient.addtaskbackground-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   A <a href="class.gearmantask.html" class="classname">GearmanTask</a> object or <strong><code>false</code></strong> if the task could not be added.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-gearmanclient.addtaskbackground-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   </p><div class="example" id="example-4394">
    <p><strong>示例 #1 Two tasks, one background and one not</strong></p>
    <div class="example-contents"><p>
     This example illustrates the difference between running a background task
     and a normal task.  The client adds two tasks to execute the same function,
     but one is added with <span class="methodname"><strong>addTaskBackground()</strong></span>.  A callback is 
     set so that progress of the job can be tracked.  A simple worker with an
     artificial delay reports on the job progress and the client picks this up
     through the callback.  Two workers are run for this example.  Note that the
     background task does not show in the client output.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000"># The client script<br><br># create our gearman client<br></span><span style="color: #0000BB">$gmc</span><span style="color: #007700">= new </span><span style="color: #0000BB">GearmanClient</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000"># add the default job server<br></span><span style="color: #0000BB">$gmc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addServer</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000"># set a couple of callbacks so we can track progress<br></span><span style="color: #0000BB">$gmc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCompleteCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"reverse_complete"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$gmc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStatusCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"reverse_status"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000"># add a task for the "reverse" function<br></span><span style="color: #0000BB">$task</span><span style="color: #007700">= </span><span style="color: #0000BB">$gmc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addTask</span><span style="color: #007700">(</span><span style="color: #DD0000">"reverse"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Hello World!"</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">, </span><span style="color: #DD0000">"1"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000"># add another task, but this one to run in the background<br></span><span style="color: #0000BB">$task</span><span style="color: #007700">= </span><span style="color: #0000BB">$gmc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addTaskBackground</span><span style="color: #007700">(</span><span style="color: #DD0000">"reverse"</span><span style="color: #007700">, </span><span style="color: #DD0000">"!dlroW olleH"</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">, </span><span style="color: #DD0000">"2"</span><span style="color: #007700">);<br><br>if (! </span><span style="color: #0000BB">$gmc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">runTasks</span><span style="color: #007700">())<br>{<br>    echo </span><span style="color: #DD0000">"ERROR " </span><span style="color: #007700">. </span><span style="color: #0000BB">$gmc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">error</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>    exit;<br>}<br><br>echo </span><span style="color: #DD0000">"DONE\n"</span><span style="color: #007700">;<br><br>function </span><span style="color: #0000BB">reverse_status</span><span style="color: #007700">(</span><span style="color: #0000BB">$task</span><span style="color: #007700">)<br>{<br>    echo </span><span style="color: #DD0000">"STATUS: " </span><span style="color: #007700">. </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unique</span><span style="color: #007700">() . </span><span style="color: #DD0000">", " </span><span style="color: #007700">. </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">jobHandle</span><span style="color: #007700">() . </span><span style="color: #DD0000">" - " </span><span style="color: #007700">. </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">taskNumerator</span><span style="color: #007700">() . <br>         </span><span style="color: #DD0000">"/" </span><span style="color: #007700">. </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">taskDenominator</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">reverse_complete</span><span style="color: #007700">(</span><span style="color: #0000BB">$task</span><span style="color: #007700">)<br>{<br>    echo </span><span style="color: #DD0000">"COMPLETE: " </span><span style="color: #007700">. </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unique</span><span style="color: #007700">() . </span><span style="color: #DD0000">", " </span><span style="color: #007700">. </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000"># The worker script<br><br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"Starting\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000"># Create our worker object.<br></span><span style="color: #0000BB">$gmworker</span><span style="color: #007700">= new </span><span style="color: #0000BB">GearmanWorker</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000"># Add default server (localhost).<br></span><span style="color: #0000BB">$gmworker</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addServer</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000"># Register function "reverse" with the server.<br></span><span style="color: #0000BB">$gmworker</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFunction</span><span style="color: #007700">(</span><span style="color: #DD0000">"reverse"</span><span style="color: #007700">, </span><span style="color: #DD0000">"reverse_fn"</span><span style="color: #007700">);<br><br>print </span><span style="color: #DD0000">"Waiting for job...\n"</span><span style="color: #007700">;<br>while(</span><span style="color: #0000BB">$gmworker</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">work</span><span style="color: #007700">())<br>{<br>  if (</span><span style="color: #0000BB">$gmworker</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">returnCode</span><span style="color: #007700">() != </span><span style="color: #0000BB">GEARMAN_SUCCESS</span><span style="color: #007700">)<br>  {<br>    echo </span><span style="color: #DD0000">"return_code: " </span><span style="color: #007700">. </span><span style="color: #0000BB">$gmworker</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">returnCode</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>    break;<br>  }<br>}<br><br>function </span><span style="color: #0000BB">reverse_fn</span><span style="color: #007700">(</span><span style="color: #0000BB">$job</span><span style="color: #007700">)<br>{<br>  echo </span><span style="color: #DD0000">"Received job: " </span><span style="color: #007700">. </span><span style="color: #0000BB">$job</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">handle</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br>  </span><span style="color: #0000BB">$workload </span><span style="color: #007700">= </span><span style="color: #0000BB">$job</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">workload</span><span style="color: #007700">();<br>  </span><span style="color: #0000BB">$workload_size </span><span style="color: #007700">= </span><span style="color: #0000BB">$job</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">workloadSize</span><span style="color: #007700">();<br><br>  echo </span><span style="color: #DD0000">"Workload: </span><span style="color: #0000BB">$workload</span><span style="color: #DD0000"> (</span><span style="color: #0000BB">$workload_size</span><span style="color: #DD0000">)\n"</span><span style="color: #007700">;<br><br>  </span><span style="color: #FF8000"># This status loop is not needed, just showing how it works<br>  </span><span style="color: #007700">for (</span><span style="color: #0000BB">$x</span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">; </span><span style="color: #0000BB">$x </span><span style="color: #007700">&lt; </span><span style="color: #0000BB">$workload_size</span><span style="color: #007700">; </span><span style="color: #0000BB">$x</span><span style="color: #007700">++)<br>  {<br>    echo </span><span style="color: #DD0000">"Sending status: " </span><span style="color: #007700">. (</span><span style="color: #0000BB">$x </span><span style="color: #007700">+ </span><span style="color: #0000BB">1</span><span style="color: #007700">) . </span><span style="color: #DD0000">"/</span><span style="color: #0000BB">$workload_size</span><span style="color: #DD0000"> complete\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$job</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendStatus</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">$workload_size</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$job</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendData</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$workload</span><span style="color: #007700">, </span><span style="color: #0000BB">$x</span><span style="color: #007700">, </span><span style="color: #0000BB">1</span><span style="color: #007700">));<br>    </span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>  }<br><br>  </span><span style="color: #0000BB">$result</span><span style="color: #007700">= </span><span style="color: #0000BB">strrev</span><span style="color: #007700">(</span><span style="color: #0000BB">$workload</span><span style="color: #007700">);<br>  echo </span><span style="color: #DD0000">"Result: </span><span style="color: #0000BB">$result</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br><br>  </span><span style="color: #FF8000"># Return what we want to send back to the client.<br>  </span><span style="color: #007700">return </span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     Worker output for two workers running:
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Received job: H:foo.local:65
Workload: !dlroW olleH (12)
1/12 complete
Received job: H:foo.local:66
Workload: Hello World! (12)
Sending status: 1/12 complete
Sending status: 2/12 complete
Sending status: 2/12 complete
Sending status: 3/12 complete
Sending status: 3/12 complete
Sending status: 4/12 complete
Sending status: 4/12 complete
Sending status: 5/12 complete
Sending status: 5/12 complete
Sending status: 6/12 complete
Sending status: 6/12 complete
Sending status: 7/12 complete
Sending status: 7/12 complete
Sending status: 8/12 complete
Sending status: 8/12 complete
Sending status: 9/12 complete
Sending status: 9/12 complete
Sending status: 10/12 complete
Sending status: 10/12 complete
Sending status: 11/12 complete
Sending status: 11/12 complete
Sending status: 12/12 complete
Sending status: 12/12 complete
Result: !dlroW olleH
Result: Hello World!
</pre></div>
    </div>
    <div class="example-contents"><p>
     Client output:
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
STATUS: 1, H:foo.local:66 - 1/12
STATUS: 1, H:foo.local:66 - 2/12
STATUS: 1, H:foo.local:66 - 3/12
STATUS: 1, H:foo.local:66 - 4/12
STATUS: 1, H:foo.local:66 - 5/12
STATUS: 1, H:foo.local:66 - 6/12
STATUS: 1, H:foo.local:66 - 7/12
STATUS: 1, H:foo.local:66 - 8/12
STATUS: 1, H:foo.local:66 - 9/12
STATUS: 1, H:foo.local:66 - 10/12
STATUS: 1, H:foo.local:66 - 11/12
STATUS: 1, H:foo.local:66 - 12/12
COMPLETE: 1, !dlroW olleH
DONE
</pre></div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-gearmanclient.addtaskbackground-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="methodname"><a href="gearmanclient.addtask.html" class="methodname" rel="rdfs-seeAlso">GearmanClient::addTask()</a> - Add a task to be run in parallel</span></li>
    <li class="member"><span class="methodname"><a href="gearmanclient.addtaskhigh.html" class="methodname" rel="rdfs-seeAlso">GearmanClient::addTaskHigh()</a> - Add a high priority task to run in parallel</span></li>
    <li class="member"><span class="methodname"><a href="gearmanclient.addtasklow.html" class="methodname" rel="rdfs-seeAlso">GearmanClient::addTaskLow()</a> - Add a low priority task to run in parallel</span></li>
    <li class="member"><span class="methodname"><a href="gearmanclient.addtaskhighbackground.html" class="methodname" rel="rdfs-seeAlso">GearmanClient::addTaskHighBackground()</a> - Add a high priority background task to be run in parallel</span></li>
    <li class="member"><span class="methodname"><a href="gearmanclient.addtasklowbackground.html" class="methodname" rel="rdfs-seeAlso">GearmanClient::addTaskLowBackground()</a> - Add a low priority background task to be run in parallel</span></li>
    <li class="member"><span class="methodname"><a href="gearmanclient.runtasks.html" class="methodname" rel="rdfs-seeAlso">GearmanClient::runTasks()</a> - Run a list of tasks in parallel</span></li>
   </ul>
  
 </div>


</div></div></div>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 5884);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>