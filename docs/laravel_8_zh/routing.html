<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>路由 - 开发帮助文档</title> 
    <meta name="keyword" content="routing"> 
    <meta name="description" content="routing"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="7" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/artisan.html" title="Artisan 命令行">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Artisan 命令行
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authentication.html" title="用户认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authorization.html" title="用户授权">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户授权
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/blade.html" title="Blade 模板">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Blade 模板
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/broadcasting.html" title="广播系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    广播系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/cache.html" title="缓存系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    缓存系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/collections.html" title="集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/configuration.html" title="Configuration">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Configuration
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/console-tests.html" title="控制台测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    控制台测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/container.html" title="服务容器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务容器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contracts.html" title="契约">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    契约
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contributions.html" title="贡献导引">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    贡献导引
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/controllers.html" title="Controllers">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Controllers
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/csrf.html" title="CSRF 保护">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CSRF 保护
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database-testing.html" title="数据库测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database.html" title="数据库: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/deployment.html" title="部署">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    部署
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/documentation.html" title="前言">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    前言
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/dusk.html" title="Laravel Dusk">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Dusk
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-collections.html" title="Eloquent: 集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-mutators.html" title="Eloquent: 修改器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 修改器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-relationships.html" title="Eloquent: 关联">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 关联
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-resources.html" title="Eloquent: API 资源">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: API 资源
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-serialization.html" title="Eloquent: 序列化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 序列化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent.html" title="Eloquent: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/encryption.html" title="加密解密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    加密解密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/envoy.html" title="Laravel Envoy">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Envoy
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/errors.html" title="错误处理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    错误处理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/events.html" title="事件系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    事件系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/facades.html" title="Facades">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Facades
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/filesystem.html" title="File Storage">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    File Storage
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/frontend.html" title="JavaScript &amp; CSS 脚手架">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    JavaScript &amp; CSS 脚手架
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/hashing.html" title="哈希加密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    哈希加密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/helpers.html" title="辅助函数">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    辅助函数
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/homestead.html" title="Laravel Homestead">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Homestead
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/horizon.html" title="Laravel Horizon">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Horizon
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-client.html" title="HTTP 客户端">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 客户端
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-tests.html" title="HTTP Tests">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Tests
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/installation.html" title="安装">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/lifecycle.html" title="请求生命周期">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    请求生命周期
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/localization.html" title="本地化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    本地化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/logging.html" title="日志">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    日志
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mail.html" title="邮件发送">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    邮件发送
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/middleware.html" title="中间件">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    中间件
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/migrations.html" title="数据库：迁移">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：迁移
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mix.html" title="编辑资源 (Mix)">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    编辑资源 (Mix)
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mocking.html" title="Mocking">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Mocking
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/notifications.html" title="消息通知">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    消息通知
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/packages.html" title="Package Development">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Package Development
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/pagination.html" title="数据库: 分页">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 分页
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passport.html" title="Laravel Passport">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Passport
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passwords.html" title="重置密码">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    重置密码
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/providers.html" title="服务提供者">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务提供者
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queries.html" title="数据库：查询构造器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：查询构造器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queues.html" title="队列">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    队列
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/redis.html" title="Redis">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Redis
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/releases.html" title="发行说明">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    发行说明
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/requests.html" title="HTTP 请求">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 请求
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/responses.html" title="HTTP Responses">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Responses
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/routing.html" title="路由">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    路由
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sail.html" title="Laravel Sail">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sail
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sanctum.html" title="Laravel Sanctum">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sanctum
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scheduling.html" title="任务调度">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    任务调度
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scout.html" title="Laravel Scout">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Scout
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/seeding.html" title="数据库：填充">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：填充
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/session.html" title="HTTP 会话机制">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 会话机制
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/socialite.html" title="Laravel 社会化登录">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel 社会化登录
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/structure.html" title="目录结构">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    目录结构
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/telescope.html" title="Laravel Telescope">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Telescope
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/testing.html" title="测试：入门指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    测试：入门指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/upgrade.html" title="升级指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    升级指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/urls.html" title="生成 URL">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    生成 URL
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/valet.html" title="Laravel Valet">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Valet
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/validation.html" title="表单验证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表单验证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/verification.html" title="Email 认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Email 认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/views.html" title="视图">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    视图
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <h1>路由</h1>
<ul>
<li><a href="#basic-routing">基本路由</a>
<ul>
<li><a href="#redirect-routes">路由重定向</a></li>
<li><a href="#view-routes">路由视图</a></li>
</ul></li>
<li><a href="#route-parameters">路由参数</a>
<ul>
<li><a href="#required-parameters">必选参数</a></li>
<li><a href="#parameters-optional-parameters">可选参数</a></li>
<li><a href="#parameters-regular-expression-constraints">正则约束</a></li>
</ul></li>
<li><a href="#named-routes">路由命名</a></li>
<li><a href="#route-groups">路由分组</a>
<ul>
<li><a href="#route-group-middleware">中间件</a></li>
<li><a href="#route-group-subdomain-routing">子域名路由</a></li>
<li><a href="#route-group-prefixes">路由前缀</a></li>
<li><a href="#route-group-name-prefixes">路由前缀命名</a></li>
</ul></li>
<li><a href="#route-model-binding">路由模型绑定</a>
<ul>
<li><a href="#implicit-binding">隐式绑定</a></li>
<li><a href="#explicit-binding">显示绑定</a></li>
</ul></li>
<li><a href="#fallback-routes">回退路由</a></li>
<li><a href="#rate-limiting">限流</a>
<ul>
<li><a href="#defining-rate-limiters">动态限流</a></li>
<li><a href="#attaching-rate-limiters-to-routes">独立访客和认证用户的限流</a></li>
</ul></li>
<li><a href="#form-method-spoofing">伪造表单方法</a></li>
<li><a href="#accessing-the-current-route">访问当前路由</a></li>
<li><a href="#cors">跨域资源共享(CORS)</a></li>
</ul>
<p><a name="basic-routing"></a></p>
<h2>基本路由</h2>
<p>构建基本路由只需要一个URI与一个 <code>闭包</code>，这里提供了一个非常简单优雅定义路由的方法：</p>
<pre><code>Route::get('foo', function () {
    return 'Hello World';
});</code></pre>
<p><a name="the-default-route-files"></a></p>
<h4>默认路由文件</h4>
<p>所有的 Laravel 路由都在<code>routes</code> 目录中定义，这些文件都由框架自动加载。<code>routes/web.php</code> 文件用于定义 <code>web</code> 界面的路由。这里面的路由会被分配给 <code>web</code> 中间件组，它提供了会话状态和CSRF保护等功能。 定义在 <code>routes/api.php</code> 中的路由都是无状态的，并且被分配了 <code>api</code> 中间件组。</p>
<p>大多数的应用构建，都是以在 <code>routes/web.php</code> 文件定义路由开始的。可以通过在浏览器中输入定义的路由 URL 来访问 <code>routes/web.php</code> 中定义的路由。例如，你可以在浏览器中输入 <code>http://your-app.test/user</code> 来访问以下路由：</p>
<pre><code>use App\Http\Controllers\UserController;

Route::get('/user', [UserController::class, 'index']);</code></pre>
<p>定义在 <code>routes/api.php</code> 文件中的路由是被 <code>RouteServiceProvider</code> 嵌套在一个路由组内。在这个路由组中，将自动应用 <code>/api</code> URI 前缀，所以你无需手动将其应用于文件中的每个路由。你可以通过修改 <code>RouteServiceProvider</code> 类来修改前缀和其他路由组选项。</p>
<p><a name="available-router-methods"></a></p>
<h4>可用的路由方法</h4>
<p>路由器允许你注册能响应任何 HTTP 请求的路由：</p>
<pre><code>Route::get($uri, $callback);
Route::post($uri, $callback);
Route::put($uri, $callback);
Route::patch($uri, $callback);
Route::delete($uri, $callback);
Route::options($uri, $callback);</code></pre>
<p>有的时候你可能需要注册一个可响应多个 HTTP 请求的路由，这时你可以使用 match 方法，也可以使用 any 方法注册一个实现响应所有 HTTP 请求的路由：</p>
<pre><code>Route::match(['get', 'post'], '/', function () {
    //
});

Route::any('/', function () {
    //
});</code></pre>
<p><a name="csrf-protection"></a></p>
<h4>CSRF 保护</h4>
<p>指向 <code>web</code> 路由文件中定义的 <code>POST</code>，<code>PUT</code>， <code>PATCH</code>， 或 <code>DELETE</code> 路由的任何 HTML 表单都应该包含一个 CSRF 令牌字段，否则，这个请求将会被拒绝。可以在 <a href="/docs/laravel_8_zh/csrf.html">CSRF 文档</a> 中阅读有关 CSRF 更多的信息：</p>
<pre><code>&lt;form method="POST" action="/profile"&gt;
    @csrf
    ...
&lt;/form&gt;</code></pre>
<p><a name="redirect-routes"></a></p>
<h3>重定向路由</h3>
<p>如果要定义重定向到另一个 URI 的路由，可以使用 Route::redirect 方法。这个方法提供了一种方便的快捷方式，因此你不必为执行简单的重定向而定义完整的路由或控制器：</p>
<pre><code>Route::redirect('/here', '/there');</code></pre>
<p>默认情况， <code>Route::redirect</code> 返回的状态码是 <code>302</code> 。但你可以使用第三个可选参数自定义状态码：</p>
<pre><code>Route::redirect('/here', '/there', 301);</code></pre>
<p>你也可以使用 <code>Route::permanentRedirect</code> 方法返回 <code>301</code> 状态码：</p>
<pre><code>Route::permanentRedirect('/here', '/there');</code></pre>
<blockquote>
<p>注意：在重定向路由中使用路由参数时，以下参数由 Laravel 保留，不能使用：<code>destination</code> 和 <code>status</code>。</p>
</blockquote>
<p><a name="view-routes"></a></p>
<h3>视图路由</h3>
<p>如果你的路由只需要返回一个视图， 你可以使用 <code>Route::view</code> 方法。 它和 <code>redirect</code> 一样，提供了一个简单的方式，而无需定义完整的路由或控制器。 <code>view</code> 方法接受一个URI作为第一个参数，一个视图名作为第二个参数。此外，还可以通过第三个可选参数将一个数据数组传递给视图：</p>
<pre><code>Route::view('/welcome', 'welcome');

Route::view('/welcome', 'welcome', ['name' =&gt; 'Taylor']);</code></pre>
<blockquote>
<p>注意：在视图路由中使用路由参数时，以下参数由Laravel保留，不能使用：<code>view</code>，<code>data</code>，<code>status</code> 和 <code>headers</code>。</p>
</blockquote>
<p><a name="route-parameters"></a></p>
<h2>路由参数</h2>
<p><a name="required-parameters"></a></p>
<h3>必填参数</h3>
<p>有时候你需要在路由中捕获一些 URL 片段。例如，从 URL 中捕获用户的 ID，那就这样来定义路由参数：</p>
<pre><code>Route::get('user/{id}', function ($id) {
    return 'User '.$id;
});</code></pre>
<p>也可以根据你的需要在路由中定义多个参数：</p>
<pre><code>Route::get('posts/{post}/comments/{comment}', function ($postId, $commentId) {
    //
});</code></pre>
<p>路由的参数通常都会被放在 <code>{}</code> 内，并且参数名只能为字母，而不能包含 <code>-</code> 符号。如果有需要，可以用下划线 (<code>_</code>) 代替 <code>-</code> 。路由参数会按路由定义的顺序依次注入到路由回调或者控制器中，而不受回调或者控制器的参数名称的影响。</p>
<p><a name="parameters-optional-parameters"></a></p>
<h3>可选参数</h3>
<p>有时，你可能需要指定一个路由参数，但你希望这个参数是可选的。你可以在参数后面加上？标记来实现，但前提是要确保路由的相应变量有默认值：</p>
<pre><code>Route::get('user/{name?}', function ($name = null) {
    return $name;
});

Route::get('user/{name?}', function ($name = 'John') {
    return $name;
});</code></pre>
<p><a name="parameters-regular-expression-constraints"></a></p>
<h3>正则表达式约束</h3>
<p>你可以使用路由实例上的 where 方法约束路由参数的格式。where 方法接受参数名称和定义参数应如何约束的正则表达式：</p>
<pre><code>Route::get('user/{name}', function ($name) {
    //
})-&gt;where('name', '[A-Za-z]+');

Route::get('user/{id}', function ($id) {
    //
})-&gt;where('id', '[0-9]+');

Route::get('user/{id}/{name}', function ($id, $name) {
    //
})-&gt;where(['id' =&gt; '[0-9]+', 'name' =&gt; '[a-z]+']);</code></pre>
<p>为了方便起见，一些常用的正则表达式模式具有帮助程序方法，这些方法可以使你快速向路由添加模式约束：</p>
<pre><code>Route::get('user/{id}/{name}', function ($id, $name) {
    //
})-&gt;whereNumber('id')-&gt;whereAlpha('name');

Route::get('user/{name}', function ($name) {
    //
})-&gt;whereAlphaNumeric('name');

Route::get('user/{id}', function ($id) {
    //
})-&gt;whereUuid('id');</code></pre>
<p><a name="parameters-global-constraints"></a></p>
<h4>全局约束</h4>
<p>如果你希望某个具体的路由参数都遵循同一个正则表达式的约束，就使用 <code>pattern</code> 方法在 <code>RouteServiceProvider</code> 的 <code>boot</code> 方法中定义这些：</p>
<pre><code>/**
 *  定义你的路由模型绑定, pattern 过滤器等
 *
 * @return void
 */
public function boot()
{
    Route::pattern('id', '[0-9]+');
}</code></pre>
<p>一旦定义好之后，便会自动应用这些规则到所有使用该参数名称的路由上：</p>
<pre><code>Route::get('user/{id}', function ($id) {
    //只有在 id 为数字时才执行...
});</code></pre>
<p><a name="parameters-encoded-forward-slashes"></a></p>
<h4>编码正斜杠字符</h4>
<p>Laravel 路由组件允许除 <code>/</code> 之外的所有字符。你必须使用 where 条件正则表达式显式地允许 <code>/</code> 成为占位符的一部分：</p>
<pre><code>Route::get('search/{search}', function ($search) {
    return $search;
})-&gt;where('search', '.*');</code></pre>
<blockquote>
<p>注意：正斜杠字符仅在最后一个路由段中是支持的。</p>
</blockquote>
<p><a name="named-routes"></a></p>
<h2>路由命名</h2>
<p>路由命名可以方便地为指定路由生成 URL 或者重定向。通过在路由定义上链式调用 <code>name</code> 方法可以指定路由名称：</p>
<pre><code>Route::get('user/profile', function () {
    //
})-&gt;name('profile');</code></pre>
<p>你还可以指定控制器行为的路由名称：</p>
<pre><code>Route::get('user/profile', [UserProfileController::class, 'show'])-&gt;name('profile');</code></pre>
<blockquote>
<p>注意：路由命名必须是唯一的</p>
</blockquote>
<p><a name="generating-urls-to-named-routes"></a></p>
<h4>生成指定路由的 URL</h4>
<p>一旦为路由指定了名称，就可以使用全局辅助函数 <code>route</code> 来生成链接或者重定向到该路由：</p>
<pre><code>// 生成链接...
$url = route('profile');

// 生成重定向...
return redirect()-&gt;route('profile');</code></pre>
<p>如果有定义参数的命名路由，可以把参数作为 <code>route</code> 函数的第二个参数传入，指定的参数将会自动插入到 URL 中对应的位置：</p>
<pre><code>Route::get('user/{id}/profile', function ($id) {
    //
})-&gt;name('profile');

$url = route('profile', ['id' =&gt; 1]);</code></pre>
<p>如果在数组中传递额外的参数，这些键或值将自动添加到生成的 URL 的查询字符串中：</p>
<pre><code>Route::get('user/{id}/profile', function ($id) {
    //
})-&gt;name('profile');

$url = route('profile', ['id' =&gt; 1, 'photos' =&gt; 'yes']);

// /user/1/profile?photos=yes</code></pre>
<blockquote>
<p>技巧：有时候，你可能希望为某些 URL 参数的请求范围指定默认值，例如在本地环境，你可以使用 <a href="/docs/laravel_8_zh/urls.html#default-values"><code>URL::defaults</code> 方法</a>。</p>
</blockquote>
<p><a name="inspecting-the-current-route"></a></p>
<h4>检查当前路由</h4>
<p>如果你想判断当前请求是否指向了某个命名过的路由，你可以调用路由实例上的 <code>named</code> 方法。例如，你可以在路由中间件中检查当前路由名称：</p>
<pre><code>/**
 * 处理一个请求
 *
 * @param  \Illuminate\Http\Request  $request
 * @param  \Closure  $next
 * @return mixed
 */
public function handle($request, Closure $next)
{
    if ($request-&gt;route()-&gt;named('profile')) {
        //
    }

    return $next($request);
}</code></pre>
<p><a name="route-groups"></a></p>
<h2>路由组</h2>
<p>路由组允许你在大量路由之间共享路由属性，例如中间件，而不需要为每个路由单独定义这些属性。</p>
<p>嵌套的组尝试智能地「合并」其属性及其父组。中间件和 <code>where</code> 条件语句在附加名称和前缀时被合并。在适当的情况下，命名空间的分隔符和斜线会被自动添加到 URI 前缀中。</p>
<p><a name="route-group-middleware"></a></p>
<h3>中间件</h3>
<p>要给路由组中所有的路由分配中间件，可以在 group 之前调用 <code>middleware</code> 方法，中间件会依照它们在数组中列出的顺序来运行：</p>
<pre><code>Route::middleware(['first', 'second'])-&gt;group(function () {
    Route::get('/', function () {
        // 使用 first 和 second 中间件
    });

    Route::get('user/profile', function () {
        // 使用 first 和 second 中间件
    });
});</code></pre>
<p><a name="route-group-subdomain-routing"></a></p>
<h3>子域名路由</h3>
<p>路由组也可以用来处理子域名。子域名可以像路由 URI 一样被分配路由参数，允许你获取一部分子域名作为参数给路由或控制器使用。可以在定义 <code>group</code> 之前调用 <code>domain</code> 方法来指定子域名：</p>
<pre><code>Route::domain('{account}.myapp.com')-&gt;group(function () {
    Route::get('user/{id}', function ($account, $id) {
        //
    });
});</code></pre>
<blockquote>
<p>注意：为了确保您的子域名路由是可访问的，您应该在注册根域名路由之前注册子域名路由。这将防止根域名路由覆盖具有相同 URI 路径的子域名路由。</p>
</blockquote>
<p><a name="route-group-prefixes"></a></p>
<h3>路由前缀</h3>
<p><code>prefix</code> 方法将会为路由组中的每一个 URI 添加前缀。例如，您可以给该组中所有的 URI 添加 <code>admin</code> 的前缀：</p>
<pre><code>Route::prefix('admin')-&gt;group(function () {
    Route::get('users', function () {
        // Matches The "/admin/users" URL
    });
});</code></pre>
<p><a name="route-group-name-prefixes"></a></p>
<h3>路由名称前缀</h3>
<p><code>name</code> 方法可以为路由组中每一个路由名称添加一个指定的字符串作为前缀。例如，您可以给已经分组的路径添加 <code>admin</code> 的前缀。给定的字符串与指定的路由名称前缀完全相同，因此我们将确保在前缀中提供尾部的 <code>.</code> 字符：</p>
<pre><code>Route::name('admin.')-&gt;group(function () {
    Route::get('users', function () {
        // Route assigned name "admin.users"...
    })-&gt;name('users');
});</code></pre>
<p><a name="route-model-binding"></a></p>
<h2>路由与模型绑定</h2>
<p>当向路由或控制器方法注入模型 ID 时，您可能总是会检索该 ID 与模型是否一致。Laravel 路由模型绑定提供了一个方便的方案，它可以自动注入模型实例到路由中。例如，您可以注入与给定 ID 匹配的整个 <code>User</code> 模型实例，而不是注入用户的 ID。</p>
<p><a name="implicit-binding"></a></p>
<h3>隐式绑定</h3>
<p>Laravel 会自动处理在路由或控制器方法中，与类型提示的变量名相匹配的路由段名称的的 Eloquent 模型。例如：</p>
<pre><code>Route::get('api/users/{user}', function (App\Models\User $user) {
    return $user-&gt;email;
});</code></pre>
<p>在这个例子中，由于 <code>$user</code> 变量被类型提示为 Eloquent 模型 <code>App\Models\User</code>，变量名称又与 URI 中的 <code>{user}</code> 匹配，因此，Laravel 会自动注入与请求 URI 中传入的 ID 匹配的用户模型实例。如果在数据库中未找到对应的模型实例，将会自动生成 404 异常。</p>
<p>当然，在使用控制器方法时也可以使用隐式绑定。同样，请注意 <code>{user}</code> URI 段与控制器中的 <code>$user</code> 变量匹配，该变量包含一个 <code>App\Models\User</code> 类型提示：</p>
<pre><code>use App\Http\Controllers\UserController;
use App\Models\User;

Route::get('users/{user}', [UserController::class, 'show']);

public function show(User $user)
{
    return view('user.profile', ['user' =&gt; $user]);
}</code></pre>
<p><a name="customizing-the-key"></a></p>
<h4>自定义键名</h4>
<p>有时，您可能希望使用 <code>id</code> 以外的列来解析 Eloquent 模型。为此，您可以在路由参数定义中指定列：</p>
<pre><code>Route::get('api/posts/{post:slug}', function (App\Models\Post $post) {
    return $post;
});</code></pre>
<p><a name="implicit-model-binding-scoping"></a></p>
<h4>自定义键和作用域</h4>
<p>有时，当一个路由定义中隐式绑定多个 Eloquent 模型时, 您可能需要限定第二个 Eloquent 模型的作用域，使它是第一个 Eloquent 模型的子模型。例如, 考虑这样一种情况，通过 slug 字段为特定用户检索博客文章:</p>
<pre><code>use App\Models\Post;
use App\Models\User;

Route::get('api/users/{user}/posts/{post:slug}', function (User $user, Post $post) {
    return $post;
});</code></pre>
<p>当使用自定义键值隐式绑定作为嵌套路由参数时，Laravel 将自动限定查询的范围，通过其父节点使用猜测父节点上关系名称的约定来检索嵌套模型。 在本例中，假定 <code>User</code> 模型有一个名为 <code>posts</code> 的关联(路由参数名的复数形式)，可用于检索 <code>Post</code> 模型。</p>
<p><a name="customizing-the-default-key-name"></a></p>
<h4>自定义键名</h4>
<p>如果您希望模型绑定在检索给定的模型类时，默认使用的是 <code>id</code> 以外的数据库字段，则可以重写 Eloquent 模型上的 <code>getRouteKeyName</code> 方法：</p>
<pre><code>/**
 * 获取该模型的路由的自定义键名
 *
 * @return string
 */
public function getRouteKeyName()
{
    return 'slug';
}</code></pre>
<p><a name="explicit-binding"></a></p>
<h3>显式绑定</h3>
<p>要注册显式绑定，请使用路由器的 <code>model</code> 方法为给定的参数指明参数对应的类。您应该在 <code>RouteServiceProvider</code> 类的 <code>boot</code> 方法的开头定义显式模型绑定：</p>
<pre><code>/**
 * 定义你的路由模型绑定, pattern 过滤器等
 *
 * @return void
 */
public function boot()
{
    Route::model('user', \App\Models\User::class);

    // ...
}</code></pre>
<p>接下来，定义一个包含 <code>{user}</code> 参数的路由：</p>
<pre><code>Route::get('profile/{user}', function (App\Models\User $user) {
    //
});</code></pre>
<p>由于我们已将所有 <code>{user}</code> 参数绑定至 <code>App\Models\User</code> 模型，所以 <code>User</code> 实例将被注入该路由。举个例子，<code>profile/1</code> 的请求会注入数据库中 ID 为 <code>1</code> 的 <code>User</code> 实例。</p>
<p>如果在数据库中找不到匹配的模型实例，就会自动抛出一个 404 异常。</p>
<p><a name="customizing-the-resolution-logic"></a></p>
<h4>自定义解析逻辑</h4>
<p>如果您希望使用自己的解析逻辑，应该使用 <code>Route::bind</code> 方法。传递给 <code>bind</code> 方法的 <code>闭包</code> 将接收 URI 中大括号对应的值，并返回您想要在该路由中注入的类的实例：</p>
<pre><code>/**
 * 定义你的路由模型绑定, pattern 过滤器等
 *
 * @return void
 */
public function boot()
{
    Route::bind('user', function ($value) {
        return App\Models\User::where('name', $value)-&gt;firstOrFail();
    });

    // ...
}</code></pre>
<p>或者，您可以重写 Eloquent 模型上的 <code>resolveRouteBinding</code> 方法。 此方法会接受 URI 中大括号对应的值，并且返回你想要在该路由中注入的类的实例：</p>
<pre><code>/**
 * 检查绑定值的模型
 *
 * @param  mixed  $value
 * @param  string|null  $field
 * @return \Illuminate\Database\Eloquent\Model|null
 */
public function resolveRouteBinding($value, $field = null)
{
    return $this-&gt;where('name', $value)-&gt;firstOrFail();
}</code></pre>
<p>如果路由使用<a href="https://laravel.com/docs/8.x/routing#implicit-model-binding-scoping">隐式绑定作用域</a>，<code>resolveChildRouteBinding</code> 方法将用于解析父模型的子绑定:</p>
<pre><code>/**
 * 检索子模型以获取绑定值。
 *
 * @param  string  $childType
 * @param  mixed  $value
 * @param  string|null  $field
 * @return \Illuminate\Database\Eloquent\Model|null
 */
public function resolveChildRouteBinding($childType, $value, $field)
{
    return parent::resolveChildRouteBinding($childType, $value, $field);
}</code></pre>
<p><a name="fallback-routes"></a></p>
<h2>回退路由</h2>
<p>使用 <code>Route::fallback</code> 方法， 您可以定义一个在没有其他路由可匹配传入的请求时才执行的路由。一般来说，未处理的请求会通过应用程序的异常处理程序自动呈现 「404」 页面。但是由于您可以在 <code>routes/web.php</code> 文件中定义 <code>fallback</code> 路由，因此 <code>web</code> 中间件组中的所有中间件都将应用于该路由。当然，您也可以根据需要随意向此路由添加其他中间件：</p>
<pre><code>Route::fallback(function () {
    //
});</code></pre>
<blockquote>
<p>注意：回退路由应始终是您应用程序注册的最后一个路由。</p>
</blockquote>
<p><a name="rate-limiting"></a></p>
<h2>限流</h2>
<p><a name="defining-rate-limiters"></a></p>
<h3>定义限流器</h3>
<p>Laravel 包含功能强大且可自定义的限流服务，您可以利用这些服务来限制给定的路由或一组路由的流量。首先，您应该定义满足应用需求的限流器配置。通常，这可以写在应用程序的 <code>RouteServiceProvider</code> 中。</p>
<p>限流器可以使用 <code>RateLimiter</code> 门面的 <code>for</code> 方法定义。 <code>for</code> 方法接受一个速率限制器名称和一个闭包会返回限制配置，该配置可以应用于分配了该限流器的路由：</p>
<pre><code>use Illuminate\Cache\RateLimiting\Limit;
use Illuminate\Support\Facades\RateLimiter;

RateLimiter::for('global', function (Request $request) {
    return Limit::perMinute(1000);
});</code></pre>
<p>如果传入的请求速率超过了设置的请求频率，Laravel 会自动的响应 HTTP 429 的状态码。如果你想自定义响应内容，使用 <code>response</code> 方法：</p>
<pre><code>RateLimiter::for('global', function (Request $request) {
    return Limit::perMinute(1000)-&gt;response(function () {
        return response('Custom response...', 429);
    });
});</code></pre>
<p>Laravel 提供了使用 $request 实例调取参数，如 user() 来进行身份验证从而自定义请求频率的大小或是否限制。</p>
<pre><code>RateLimiter::for('uploads', function (Request $request) {
    return $request-&gt;user()-&gt;vipCustomer()
                ? Limit::none()
                : Limit::perMinute(100);
});</code></pre>
<p><a name="segmenting-rate-limits"></a></p>
<h4>范围频率限制</h4>
<p>根据业务有时会按某个范围去限制频率。比如 VIP 用户无限制，不是 VIP 的用户每个 IP 每分钟只能请求100次：</p>
<pre><code>RateLimiter::for('uploads', function (Request $request) {
    return $request-&gt;user()-&gt;vipCustomer()
                ? Limit::none()
                : Limit::perMinute(100)-&gt;by($request-&gt;ip());
});</code></pre>
<p><a name="multiple-rate-limits"></a></p>
<h4>多个频率限制</h4>
<p>你可以使用数组的形式制定多个限制，路由会根据数组的先后顺序依次去执行：</p>
<pre><code>RateLimiter::for('login', function (Request $request) {
    return [
        Limit::perMinute(500),
        Limit::perMinute(3)-&gt;by($request-&gt;input('email')),
    ];
});</code></pre>
<p><a name="attaching-rate-limiters-to-routes"></a></p>
<h3>直接给路由配置限制</h3>
<p>将配置好的频率限制器直接配置到路由上，使用 <code>throttle</code> 关键字加上频率限制器的名字放到中间件 <a href="/docs/laravel_8_zh/middleware.html">middleware</a> 数组中即可：</p>
<pre><code>Route::middleware(['throttle:uploads'])-&gt;group(function () {
    Route::post('/audio', function () {
        //
    });

    Route::post('/video', function () {
        //
    });
});</code></pre>
<p><a name="throttling-with-redis"></a></p>
<h4>用 Redis 节流</h4>
<p>通常，<code>throttle</code> 中间件映射到 <code>Illuste\Routing\Middleware\ThrottleRequests</code> 类。此映射在应用程序的 HTTP 内核中定义。但是，如果你使用 Redis 作为应用程序的缓存驱动程序，那么你可能希望将此映射更改为使用 <code>Illuminate\Routing\Middleware\ThrottleRequestsWithRedis</code> 类。该类在使用 Redis 管理速率限制方面更有效：</p>
<pre><code>'throttle' =&gt; \Illuminate\Routing\Middleware\ThrottleRequestsWithRedis::class,</code></pre>
<p><a name="form-method-spoofing"></a></p>
<h2>表单方法伪造</h2>
<p>HTML 表单不支持 <code>PUT</code>， <code>PATCH</code> 或 <code>DELETE</code> 请求。所以当 HTML 表单调用请求方式为 <code>PUT</code>， <code>PATCH</code> 或 <code>DELET</code> 的路由时，您需要在表单中添加一个 <code>_method</code> 的隐藏域。<code>_method</code> 的值将会作为 HTTP 请求的方法。</p>
<pre><code>&lt;form action="/foo/bar" method="POST"&gt;
    &lt;input type="hidden" name="_method" value="PUT"&gt;
    &lt;input type="hidden" name="_token" value="{{ csrf_token() }}"&gt;
&lt;/form&gt;</code></pre>
<p>您也可以使用 <code>@method</code> Blade 指定生成 <code>_method</code> 隐藏域：</p>
<pre><code>&lt;form action="/foo/bar" method="POST"&gt;
    @method('PUT')
    @csrf
&lt;/form&gt;</code></pre>
<p><a name="accessing-the-current-route"></a></p>
<h2>访问当前路由</h2>
<p>您可以使用 <code>Route</code> 门面的 <code>current</code>， <code>currentRouteName</code> 和 <code>currentRouteAction</code> 方法处理传入的请求路由访问信息：</p>
<pre><code>$route = Route::current();

$name = Route::currentRouteName();

$action = Route::currentRouteAction();</code></pre>
<p>有关 <a href="https://laravel.com/api/laravel/8.x/Illuminate/Routing/Router.html">Route 门面</a> 和 <a href="https://laravel.com/api/laravel/8.x/Illuminate/Routing/Route.html">Route 实例</a>  的基础类的信息，请参阅 API 文档，以查看所有可访问的方法。</p>
<p><a name="cors"></a></p>
<h2>跨域资源共享 (CORS)</h2>
<p>Laravel 可以使用您配置的值自动响应 CORS OPTIONS 请求。所有的 CORS 设置都可以在您的 <code>cors</code> 配置文件中设置， 默认情况下的全局中间件堆中的 <code>HandleCors</code> 中间件会自动处理OPTIONS 请求。</p>
<blockquote>
<p>技巧：要获取 CORS 和 CORS 头的更多信息，请参阅 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#The_HTTP_response_headers">MDN web 文档上的 CORS 节</a>。</p>
</blockquote>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 364);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>