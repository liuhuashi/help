<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>Laravel Homestead - 开发帮助文档</title> 
    <meta name="keyword" content="homestead"> 
    <meta name="description" content="homestead"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="7" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/artisan.html" title="Artisan 命令行">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Artisan 命令行
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authentication.html" title="用户认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authorization.html" title="用户授权">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户授权
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/blade.html" title="Blade 模板">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Blade 模板
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/broadcasting.html" title="广播系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    广播系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/cache.html" title="缓存系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    缓存系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/collections.html" title="集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/configuration.html" title="Configuration">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Configuration
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/console-tests.html" title="控制台测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    控制台测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/container.html" title="服务容器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务容器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contracts.html" title="契约">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    契约
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contributions.html" title="贡献导引">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    贡献导引
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/controllers.html" title="Controllers">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Controllers
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/csrf.html" title="CSRF 保护">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CSRF 保护
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database-testing.html" title="数据库测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database.html" title="数据库: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/deployment.html" title="部署">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    部署
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/documentation.html" title="前言">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    前言
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/dusk.html" title="Laravel Dusk">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Dusk
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-collections.html" title="Eloquent: 集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-mutators.html" title="Eloquent: 修改器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 修改器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-relationships.html" title="Eloquent: 关联">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 关联
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-resources.html" title="Eloquent: API 资源">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: API 资源
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-serialization.html" title="Eloquent: 序列化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 序列化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent.html" title="Eloquent: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/encryption.html" title="加密解密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    加密解密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/envoy.html" title="Laravel Envoy">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Envoy
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/errors.html" title="错误处理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    错误处理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/events.html" title="事件系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    事件系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/facades.html" title="Facades">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Facades
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/filesystem.html" title="File Storage">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    File Storage
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/frontend.html" title="JavaScript &amp; CSS 脚手架">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    JavaScript &amp; CSS 脚手架
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/hashing.html" title="哈希加密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    哈希加密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/helpers.html" title="辅助函数">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    辅助函数
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/homestead.html" title="Laravel Homestead">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Homestead
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/horizon.html" title="Laravel Horizon">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Horizon
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-client.html" title="HTTP 客户端">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 客户端
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-tests.html" title="HTTP Tests">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Tests
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/installation.html" title="安装">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/lifecycle.html" title="请求生命周期">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    请求生命周期
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/localization.html" title="本地化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    本地化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/logging.html" title="日志">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    日志
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mail.html" title="邮件发送">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    邮件发送
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/middleware.html" title="中间件">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    中间件
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/migrations.html" title="数据库：迁移">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：迁移
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mix.html" title="编辑资源 (Mix)">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    编辑资源 (Mix)
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mocking.html" title="Mocking">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Mocking
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/notifications.html" title="消息通知">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    消息通知
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/packages.html" title="Package Development">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Package Development
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/pagination.html" title="数据库: 分页">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 分页
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passport.html" title="Laravel Passport">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Passport
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passwords.html" title="重置密码">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    重置密码
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/providers.html" title="服务提供者">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务提供者
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queries.html" title="数据库：查询构造器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：查询构造器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queues.html" title="队列">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    队列
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/redis.html" title="Redis">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Redis
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/releases.html" title="发行说明">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    发行说明
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/requests.html" title="HTTP 请求">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 请求
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/responses.html" title="HTTP Responses">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Responses
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/routing.html" title="路由">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    路由
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sail.html" title="Laravel Sail">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sail
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sanctum.html" title="Laravel Sanctum">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sanctum
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scheduling.html" title="任务调度">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    任务调度
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scout.html" title="Laravel Scout">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Scout
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/seeding.html" title="数据库：填充">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：填充
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/session.html" title="HTTP 会话机制">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 会话机制
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/socialite.html" title="Laravel 社会化登录">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel 社会化登录
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/structure.html" title="目录结构">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    目录结构
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/telescope.html" title="Laravel Telescope">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Telescope
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/testing.html" title="测试：入门指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    测试：入门指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/upgrade.html" title="升级指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    升级指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/urls.html" title="生成 URL">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    生成 URL
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/valet.html" title="Laravel Valet">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Valet
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/validation.html" title="表单验证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表单验证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/verification.html" title="Email 认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Email 认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/views.html" title="视图">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    视图
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <h1>Laravel Homestead</h1>
<ul>
<li><a href="#introduction">介绍</a></li>
<li><a href="#installation-and-setup">安装与设置</a>
<ul>
<li><a href="#first-steps">第一步</a></li>
<li><a href="#configuring-homestead">配置 Homestead</a></li>
<li><a href="#launching-the-vagrant-box">启动 Vagrant Box</a></li>
<li><a href="#per-project-installation">为项目单独安装</a></li>
<li><a href="#installing-optional-features">安装可选功能</a></li>
<li><a href="#aliases">别名</a></li>
</ul></li>
<li><a href="#daily-usage">日常使用方法</a>
<ul>
<li><a href="#accessing-homestead-globally">全局访问 Homestead</a></li>
<li><a href="#connecting-via-ssh">通过 SSH 连接</a></li>
<li><a href="#connecting-to-databases">连接数据库</a></li>
<li><a href="#database-backups">数据库备份</a></li>
<li><a href="#database-snapshots">数据库快照</a></li>
<li><a href="#adding-additional-sites">添加其他站点</a></li>
<li><a href="#environment-variables">环境变量</a></li>
<li><a href="#wildcard-ssl">通配符 SSL</a></li>
<li><a href="#configuring-cron-schedules">配置 Cron 调度器</a></li>
<li><a href="#configuring-mailhog">配置 Mailhog</a></li>
<li><a href="#configuring-minio">配置 Minio</a></li>
<li><a href="#ports">端口</a></li>
<li><a href="#sharing-your-environment">共享你的环境</a></li>
<li><a href="#multiple-php-versions">多 PHP 版本</a></li>
<li><a href="#web-servers">Web 服务器</a></li>
<li><a href="#mail">邮件</a></li>
</ul></li>
<li><a href="#debugging-and-profiling">调试与性能分析</a>
<ul>
<li><a href="#debugging-web-requests">使用 Xdebug 调试 Web 请求</a></li>
<li><a href="#debugging-cli-applications">调试 CLI 应用程序</a></li>
<li><a href="#profiling-applications-with-blackfire">使用 Blackfire 为应用程序分析性能</a></li>
</ul></li>
<li><a href="#network-interfaces">网络接口</a></li>
<li><a href="#extending-homestead">扩展 Homestead</a></li>
<li><a href="#updating-homestead">更新 Homestead</a></li>
<li><a href="#provider-specific-settings">针对虚拟机提供器的特殊设置</a>
<ul>
<li><a href="#provider-specific-virtualbox">VirtualBox</a></li>
</ul></li>
</ul>
<p><a name="introduction"></a></p>
<h2>介绍</h2>
<p>Laravel 致力于让整个 PHP 开发体验变得更愉快，这其中也包括你的本地开发环境。<a href="https://www.vagrantup.com">Vagrant</a> 提供了一种简单、优雅的方式来管理和配置虚拟机。</p>
<p>Laravel Homestead 是 Laravel 官方预封装的 Vagrant Box，它为你提供了一个完美的开发环境，让你不需要再本地开发机器上安装 PHP、Web 服务器以及其他的服务器软件。你再也不用担心会弄乱你的操作系统了！Vagrant Box 完全是一次性的。如果出现问题，你可以在几分钟内删除并重新创建 Box！</p>
<p>Homestead 可以在任何 Windows、Mac 或 Linux 系统上运行，它预装好了 Nginx、PHP、MySQL、PostgreSQL、Redis、Memcached、Node 以及开发令人惊叹的 Laravel 应用程序所需的所有其他软件。</p>
<blockquote>
<p>注意：如果你使用的是 Windows，你可能需要启用硬件虚拟化（VT-x）。该功能通常需要通过您的 BIOS 启用。如果您在 UEFI 系统上使用 Hyper-V，则可能还需要禁用 Hyper-V 才能访问 VT-x。</p>
</blockquote>
<p><a name="included-software"></a></p>
<h3>内置软件</h3>
<style>
    #software-list > ul {
        column-count: 3; -moz-column-count: 3; -webkit-column-count: 3;
        column-gap: 5em; -moz-column-gap: 5em; -webkit-column-gap: 5em;
        line-height: 1.9;
    }
</style>
<div id="software-list">
<ul>
<li>Ubuntu 18.04</li>
<li>Git</li>
<li>PHP 7.4</li>
<li>PHP 7.3</li>
<li>PHP 7.2</li>
<li>PHP 7.1</li>
<li>PHP 7.0</li>
<li>PHP 5.6</li>
<li>Nginx</li>
<li>MySQL</li>
<li>lmm for MySQL or MariaDB database snapshots</li>
<li>Sqlite3</li>
<li>PostgreSQL (9.6, 10, 11, 12)</li>
<li>Composer</li>
<li>Node (With Yarn, Bower, Grunt, and Gulp)</li>
<li>Redis</li>
<li>Memcached</li>
<li>Beanstalkd</li>
<li>Mailhog</li>
<li>avahi</li>
<li>ngrok</li>
<li>Xdebug</li>
<li>XHProf / Tideways / XHGui</li>
<li>wp-cli</li>
</ul>
</div>
<p><a name="optional-software"></a></p>
<h3>可选软件</h3>
<style>
    #software-list > ul {
        column-count: 3; -moz-column-count: 3; -webkit-column-count: 3;
        column-gap: 5em; -moz-column-gap: 5em; -webkit-column-gap: 5em;
        line-height: 1.9;
    }
</style>
<div id="software-list">
<ul>
<li>Apache</li>
<li>Blackfire</li>
<li>Cassandra</li>
<li>Chronograf</li>
<li>CouchDB</li>
<li>Crystal &amp; Lucky Framework</li>
<li>Docker</li>
<li>Elasticsearch</li>
<li>Gearman</li>
<li>Go</li>
<li>Grafana</li>
<li>InfluxDB</li>
<li>MariaDB</li>
<li>MinIO</li>
<li>MongoDB</li>
<li>MySQL 8</li>
<li>Neo4j</li>
<li>Oh My Zsh</li>
<li>Open Resty</li>
<li>PM2</li>
<li>Python</li>
<li>RabbitMQ</li>
<li>Solr</li>
<li>Webdriver &amp; Laravel Dusk Utilities</li>
</ul>
</div>
<p><a name="installation-and-setup"></a></p>
<h2>安装与设置</h2>
<p><a name="first-steps"></a></p>
<h3>第一步</h3>
<p>在你启动 Homestead 环境之前，你必须安装 <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox 6.x</a>, <a href="https://www.vmware.com">VMWare</a>, <a href="https://www.parallels.com/products/desktop/">Parallels</a> 或 <a href="https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v">Hyper-V</a> 以及 <a href="https://www.vagrantup.com/downloads.html">Vagrant</a>。以上所有软件均针对不同的操作系统提供了易于使用的可视化安装包。</p>
<p>若要使用 VMware 提供器，你需要购买 VMware Fusion / Workstation 和 <a href="https://www.vagrantup.com/vmware">VMware Vagrant plug-in</a>。 虽然它不是免费的，但是 VMware 可以提供更快的共享文件夹性能。</p>
<p>若要使用 Parallels 提供器，你需要安装免费的 <a href="https://github.com/Parallels/vagrant-parallels">Parallels Vagrant plug-in</a>。</p>
<p>由于 <a href="https://www.vagrantup.com/docs/hyperv/limitations.html">Vagrant 的限制</a>，Hyper-V 提供器会忽略所有的网络设置。</p>
<h4>安装 Homestead Vagrant Box</h4>
<p>一旦 VirtualBox / VMware 和 Vagrant 完成安装后，你可以在终端中使用下面的命令将 <code>laravel/homestead</code> box 添加到 Vagrant中。此举可能需要几分钟时间来下载 box，这取决于您的网速：</p>
<pre><code>vagrant box add laravel/homestead</code></pre>
<p>如果命令执行失败，请确保您安装了最新的 Vagrant。</p>
<blockquote>
<p>注意：Homestead 会定期发布「alpha」 / 「beta」box 用于测试，这可能会影响 <code>vagrant box add</code> 命令。如果您在运行 <code>vagrant box add</code> 时遇到问题，您可以运行 <code>vagrant up</code> 命令，Vagrant 尝试启动虚拟机的时候，将会下载正确的 box 。</p>
</blockquote>
<h4>安装 Homestead</h4>
<p>你可以克隆代码到你的宿主机上以安装 Homestead。推荐您将代码克隆到您的「home」目录下的 <code>Homestead</code> 文件夹中，这样，Homestead box 就可以作为你的所有 Laravel 项目的主机：</p>
<pre><code>git clone https://github.com/laravel/homestead.git ~/Homestead</code></pre>
<p>由于 Homestead 的 <code>master</code> 分支并不总是稳定的，您应该使用打过标签的版本。您可以在 <a href="https://github.com/laravel/homestead/releases">GitHub Release Page</a> 找到最新的稳定版本。或者，您可以 checkout 最新稳定版本中的 release分支：</p>
<pre><code>cd ~/Homestead

git checkout release</code></pre>
<p>一旦你克隆了 Homestead 仓库，您可以运行 <code>bash init.sh</code> 命令以创建 <code>Homestead.yaml</code> 配置文件。<code>Homestead.yaml</code> 将会置于 Homestead 目录中：</p>
<pre><code>// Mac / Linux...
bash init.sh

// Windows...
init.bat</code></pre>
<p><a name="configuring-homestead"></a></p>
<h3>配置 Homestead</h3>
<h4>设置您的提供器</h4>
<p><code>Homestead.yaml</code> 文件中的 <code>provider</code> 键指定了将使用哪一个 Vagrant 提供器，例如：<code>virtualbox</code>，<code>vmware_fusion</code>，<code>vmware_workstation</code>，<code>parallels</code> 和 <code>hyperv</code>。你可以根据你的喜好设定之：</p>
<pre><code>provider: virtualbox</code></pre>
<h4>配置共享文件夹</h4>
<p><code>Homestead.yaml</code> 文件中的 <code>folders</code> 属性列出了所有你想要与 Homestead 环境共享的文件夹。这些文件夹中的文件发生变化的时候，它们将会在您的本地机器与 Homestead 环境之间保持同步。您可按需配置多个共享文件夹：</p>
<pre><code>folders:
    - map: ~/code/project1
      to: /home/vagrant/project1</code></pre>
<blockquote>
<p>注意：Windows 不要使用 <code>~/</code> 路径语法，而应该使用项目的完整路径，如 <code>C:\Users\user\Code\project1</code>.</p>
</blockquote>
<p>您应该始终将各个项目映射到它们自己的文件夹映射，而不是映射整个 <code>~/code</code> 文件夹。映射文件夹时，虚拟机保持跟踪文件夹中 <em>每一个</em> 文件的所有磁盘 IO。当文件夹中有大量文件时，此举可能影响性能。</p>
<pre><code>folders:
    - map: ~/code/project1
      to: /home/vagrant/project1

    - map: ~/code/project2
      to: /home/vagrant/project2</code></pre>
<blockquote>
<p>注意：你不应该在使用 Homestead 的时候挂载 <code>.</code> （当前目录）。此举会导致 Vagrant 不会将当前文件夹映射到 <code>/vagrant</code>，并且在配置的时候可能会导致意外情况发生。</p>
</blockquote>
<p>要启用 <a href="https://www.vagrantup.com/docs/synced-folders/nfs.html">NFS</a> ，您只需要在共享文件夹配置中添加一个简单的标识：</p>
<pre><code>folders:
    - map: ~/code/project1
      to: /home/vagrant/project1
      type: "nfs"</code></pre>
<blockquote>
<p>注意：在 Windows 上使用 NFS 时，你应该考虑安装 <a href="https://github.com/winnfsd/vagrant-winnfsd">vagrant-winnfsd</a> 插件。它将会为您正确处理 Homestead box 中的文件和目录的用户和用户组权限问题。</p>
</blockquote>
<p>您也可以在 <code>options</code> 中列出任何受 Vagrant <a href="https://www.vagrantup.com/docs/synced-folders/basic_usage.html">同步文件夹</a> 支持的选项：</p>
<pre><code>folders:
    - map: ~/code/project1
      to: /home/vagrant/project1
      type: "rsync"
      options:
          rsync__args: ["--verbose", "--archive", "--delete", "-zz"]
          rsync__exclude: ["node_modules"]</code></pre>
<h4>配置 Nginx 站点</h4>
<p>对 Nginx 不熟悉？没关系。 <code>sites</code> 属性将允许您轻松的将「域名」映射到 Homstead 环境中的目录中去。<code>Homestead.yaml</code> 中包含了一个简单的站点配置。同样，您可以按需添加许多站点到您的 Homestead 环境中。Homsetad 能够为您开发每一个 Laravel 项目提供一个方便的、虚拟化环境：</p>
<pre><code>sites:
    - map: homestead.test
      to: /home/vagrant/project1/public</code></pre>
<p>如果您在启动了 Homestead box 后修改了 <code>site</code> 属性，您需要再次运行 <code>vagrant reload --provision</code> 命令以更新虚拟机中的 Nginx 配置。</p>
<blockquote>
<p>注意：Homestead 脚本设计时，尽可能保持操作的幂等。当然，如果你在 provisioning 过程中遇到了问题，您可以通过 <code>vagrant destroy &amp;&amp; vagrant up</code> 销毁和重构虚拟机。</p>
</blockquote>
<h4>启用/禁用服务</h4>
<p>默认情况下，Homestead 启动了许多服务；当然，你可以在启动过程中自行指定要启用和禁用的服务。例如，你可以启用 PostgreSQL 禁用 MySQL：</p>
<pre><code>services:
    - enabled:
        - "postgresql@12-main"
    - disabled:
        - "mysql"</code></pre>
<p>指定的服务将根据其在 <code>enabled</code> 和 <code>disabled</code> 指令中的顺序启停。</p>
<p><a name="hostname-resolution"></a></p>
<h4>主机名解析</h4>
<p>Homstead 通过 <code>mDNS</code> 发布主机名来自动解析主机。如果你在 <code>Homestead.yaml</code> 文件中设置了 <code>hostname: homestead</code> ，则主机将会以 <code>homestead.local</code> 的形式生效。MacOS， iOS 和 Linux 桌面系统默认包含了对 <code>mDNS</code> 的支持。Windows 则需要安装 <a href="https://support.apple.com/kb/DL999?viewlocale=en_US&amp;locale=en_US">Bonjour Print Services for Windows</a> 以期得到支持。</p>
<p>自动主机名在「每个项目」独立安装的 Homestead 中运行最好。如果您在一个 Homestead 实例中托管了多个站点，您可能需要添加站点的「域名」到您机器上的 <code>hosts</code> 文件中。<code>hosts</code> 文件将会重定向针对您的 Homestead 站点的请求到您的 Homestead 机器中。在 Mac 和 Linux 上, 其位于 <code>/etc/hosts</code> 。在 Windows 上，其位于 <code>C:\Windows\System32\drivers\etc\hosts</code> 。添加到 <code>hosts</code> 文件中的记录如下：</p>
<pre><code>192.168.10.10  homestead.test</code></pre>
<p>确保指定的 IP 地址和您在 <code>Homestead.yaml</code> 文件中指定的 IP 地址一致。一旦您将域名添加到 <code>hosts</code> 文件中，且启动了 Vagrant box，您就可以通过浏览器访问站点了：</p>
<pre><code>http://homestead.test</code></pre>
<p><a name="launching-the-vagrant-box"></a></p>
<h3>启动 Vagrant Box</h3>
<p>按照你的喜好编辑完 <code>Homestead.yaml</code> 之后，在 Homestead 目录下执行 <code>vagrant up</code> 命令，Vagrant 会启动虚拟机并自动配置你的共享文件夹和 Nginx 站点。</p>
<p>如需销毁虚拟机，请使用 <code>vagrant destroy --force</code> 命令。</p>
<p><a name="per-project-installation"></a></p>
<h3>根据项目安装</h3>
<p>除了全局安装 Homestead 并且在所有项目共享相同的 Homestead box 之外，你可以为每个项目配置 Homestead 实例。通过在项目下创建 <code>Vagrantfile</code>，其他的项目成员只需运行 <code>vagrant up</code> 就能拥有相同的开发环境。</p>
<p>要将 Homestead 直接安装到项目中，需要使用 Composer 命令：</p>
<pre><code>composer require laravel/homestead --dev</code></pre>
<p>Homestead 安装之后， 使用 <code>make</code> 命令在项目根目录中生成 <code>Vagrantfile</code> 和 <code>Homestead.yaml</code> 文件。<code>make</code> 命令会自动配置 <code>Homestead.yaml</code> 文件中的 <code>sites</code> 和 <code>folders</code> 指令。</p>
<p>Mac / Linux:</p>
<pre><code>php vendor/bin/homestead make</code></pre>
<p>Windows:</p>
<pre><code>vendor\\bin\\homestead make</code></pre>
<p>接下来，在命令行终端运行 <code>vagrant up</code> 命令，然后在浏览器中访问 <code>http://homestead.test</code>。记住，如果你没有使用自动 <a href="#hostname-resolution">主机名解析</a>，在访问之前你仍然需要在 <code>/etc/hosts</code> 文件中添加你的 <code>homestead.test</code> 记录或者其他的域名。</p>
<p><a name="installing-optional-features"></a></p>
<h3>安装可选功能</h3>
<p>安装可选功能可以在 Homestead 配置文件 <code>Homestead.yaml</code> 中使用 「features」 设置来实现，大部分功能只需要通过布尔值设置启用或者禁用来选择安装或者不安装，有些功能还允许配置多个选项：</p>
<pre><code>features:
    - blackfire:
        server_id: "server_id"
        server_token: "server_value"
        client_id: "client_id"
        client_token: "client_value"
    - cassandra: true
    - chronograf: true
    - couchdb: true
    - crystal: true
    - docker: true
    - elasticsearch:
        version: 7.9.0
    - gearman: true
    - golang: true
    - grafana: true
    - influxdb: true
    - mariadb: true
    - minio: true
    - mongodb: true
    - mysql8: true
    - neo4j: true
    - ohmyzsh: true
    - openresty: true
    - pm2: true
    - python: true
    - rabbitmq: true
    - solr: true
    - webdriver: true</code></pre>
<h4>MariaDB</h4>
<p>启用 MariaDB 将会移除 MySQL 并安装 MariaDB。MariaDB 是 MySQL 的替代品，完全兼容 MySQL，所以在应用的数据库配置中你仍然可以使用 mysql 驱动。</p>
<h4>MongoDB</h4>
<p>默认安装的 MongoDB 将会设置数据库用户名为 <code>homestead</code> 及对应的密码为 <code>secret</code>。</p>
<h4>Elasticsearch</h4>
<p>如果你要安装 Elasticsearch，你可以在  Homestead.yaml 文件中添加  elasticsearch 选项并指定支持的版本号。可以仅包含主版本，也可以是某个具体的版本号（major.minor.patch）。默认安装会创建一个名为「homestead」的集群。 注意永远不要赋予 Elasticsearch 超过操作系统一半的内存，因此请保证你的 Homestead 至少分配了两倍于 Elasticsearch 的内存。</p>
<blockquote>
<p>提示：你可以查看 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current">Elasticsearch documentation</a> 文档学习如何自定义你的配置。</p>
</blockquote>
<h4>Neo4j</h4>
<p>默认安装的 Neo4j 会设置数据库用户名为 <code>homestead</code> 及对应的密码 <code>secret</code>。要查看 Neo4j，可以在浏览器中访问 <code>http://homestead.test:7474</code>，Neo4j 对外提供了三个端口：<code>7687</code>（Bolt）、<code>7474</code>（HTTP）、<code>7473</code>（HTTPS） 用于从客户端访问。</p>
<h3>别名</h3>
<p>你可以在 Homestead 目录下通过编辑 <code>aliases</code> 文件为 Homestead 机器添加 Bash 别名：</p>
<pre><code>alias c='clear'
alias ..='cd ..'</code></pre>
<p>更新完 <code>aliases</code> 文件后，需要通过 <code>vagrant reload --provision</code> 命令重启 Homestead 机器，以确保新的别名在机器上生效。</p>
<h2>Daily Usage</h2>
<h3>Accessing Homestead Globally</h3>
<p>有时你可能想在文件系统的任意路径都能运行 <code>vagrant up</code> 命令启动 Homestead 虚拟机。在 Mac / Linux 系统上可以在 Bash 配置文件（ ~/.bash_profile ）中添加 Bash 函数 。在 Windows 上， 你可以添加「批处理」文件到 <code>PATH</code> 。这些脚本允许你在系统的任何位置运行 Vagrant 命令并自动将该命令指向 Homestead 的安装路径：</p>
<h4>Mac / Linux</h4>
<pre><code>function homestead() {
    ( cd ~/Homestead &amp;&amp; vagrant $* )
}</code></pre>
<p>确保将该函数中的 <code>~/Homestead</code> 路径调整为实际的 Homestead 安装路径。这样你就可以在系统的任意位置运行 <code>homestead up</code> 或 <code>homestead ssh</code> 等命令。</p>
<h4>Windows</h4>
<p>在系统的任意位置创建一个批处理文件 <code>homestead.bat</code> ，内容如下：</p>
<pre><code>@echo off

set cwd=%cd%
set homesteadVagrant=C:\Homestead

cd /d %homesteadVagrant% &amp;&amp; vagrant %*
cd /d %cwd%

set cwd=
set homesteadVagrant=</code></pre>
<p>一定要将脚本中 <code>C:\Homestead</code> 路径调整为 Homestead 的实际安装路径。创建文件后，将文件路径添加到 <code>PATH</code> 。然后你就可以在系统任意位置运行 <code>homestead up</code> 或 <code>homestead ssh</code> 等命令。</p>
<h3>通过 SSH 连接</h3>
<p>你可以通过在 Homestead 目录下运行 <code>vagrant ssh</code> 终端命令以 SSH 的方式连接到虚拟机。</p>
<p>但是，你可能需要频繁连接 Homestead 虚拟机，因此请考虑将上面的「函数」添加到主机以便快速地以 SSH 方式连接到 Homestead 虚拟机。</p>
<h3>连接数据库</h3>
<p><code>homestead</code> 默认已经在虚拟机中为 MySQL 和 PostgreSQL 数据库做好了配置。要从主机的数据库客户端连接到 MySQL 或 PostgreSQL ，应该连接到 <code>127.0.0.1</code> ，端口 <code>33060</code> （MySQL） 或 <code>54320</code> （PostgreSQL）。用户名和密码分别是 <code>homestead</code> / <code>secret</code> 。</p>
<blockquote>
<p>注意：只有从本地连接 Homestead 的数据库时才能使用这些非标准的端口。而 Laravel <em>在虚拟机中</em> 运行时还是应该使用默认的 3306 和 5432 端口进行数据库连接。</p>
</blockquote>
<h3>数据库备份</h3>
<p>当你的 Vagrant 盒子销毁时，Homestead 能自动备份你的数据库。为了利用这个功能，你必须使用 Vagrant 2.1.0 或者更高的版本。或者，如果你使用一个旧版本的 Vagrant，你必须安装 <code>vagrant-triggers</code> 插件。要开启自动数据库备份，需添加如下的行到你的 <code>Homestead.yaml</code> 文件：</p>
<pre><code>backup: true</code></pre>
<p>一旦配置了，当 <code>vagrant destroy</code> 命令被执行时，Homestead 将导出你的数据库到 <code>mysql_backup</code> 和 <code>postgres_backup</code> 目录。如果你使用 <a href="/docs/laravel_8_zh/homestead.html#per-project-installation">每个项目安装</a> 方法，则可以在克隆的 Homestead 或者在你的项目根目录中找到这些目录。</p>
<h3>数据库快照</h3>
<p>Homestead 支持保存 MySQL 和 MariaDB 数据库的状态并通过 <a href="https://github.com/Lullabot/lmm">Logical MySQL Manager</a> 在不同状态间进行切换。例如，假设你的站点数据库有几个 G 的数据量，你可以导入这个数据库并保存一份快照，在本地工作一段时间后有可能会创建一些新的测试内容，你可以通过快照快速恢复到最初的状态。</p>
<p>在底层，LMM 使用了 LVM 的支持写时复制的瘦快照功能，这意味着当修改表中某条记录时，只会将你所做的更改写入磁盘，从而在恢复期节省大量时间和磁盘空间。</p>
<p>由于 <code>lmm</code> 会与 LVM 进行交互，所以必须以 <code>root</code> 身份运行。要了解所有命令，可以在 Homestead 虚拟机中通过 <code>sudo lmm</code> 查看。常见的工作流会是这样：</p>
<ol>
<li>导入数据库到 lmm 默认的 <code>master</code> 分支。</li>
<li>运行 <code>sudo lmm branch prod-YYYY-MM-DD</code> 保存尚未做任何修改的数据库快照。</li>
<li>修改数据库记录。</li>
<li>运行 <code>sudo lmm merge prod-YYYY-MM-D</code> 撤销所有修改。</li>
<li>运行 <code>sudo lmm delete &lt;branch&gt;</code> 删除不需要的分支。</li>
</ol>
<h3>添加额外的站点</h3>
<p>一旦你的 Homestead 环境已配置并运行，你可以为你的 Laravel 应用添加额外的 Nginx 站点。你可能希望在单个 Homestead 环境运行多个 Laravel 安装。要添加额外的站点，到 <code>Homestead.yaml</code> 文件中添加站点：</p>
<pre><code>sites:
    - map: homestead.test
      to: /home/vagrant/project1/public
    - map: another.test
      to: /home/vagrant/project2/public</code></pre>
<p>如果 Vagrant 不能自动管理你的『hosts』文件，你可能还需要添加新的站点到该文件中：</p>
<pre><code>192.168.10.10  homestead.test
192.168.10.10  another.test</code></pre>
<p>一旦这个站点被添加，从你的 Homestead 目录运行 <code>vagrant reload --provision</code> 命令。</p>
<h4>站点类型</h4>
<p>Homestead 支持多种类型的站点，允许你轻松运行不是基于 Laravel 的项目。例如，我们可以使用 <code>symfony2</code> 站点类型轻松地添加一个 Symfony 应用到 Homestead：</p>
<pre><code>sites:
    - map: symfony2.test
      to: /home/vagrant/my-symfony-project/web
      type: "symfony2"</code></pre>
<p>可用的站点类型是：<code>apache</code>，<code>apigility</code>，<code>expressive</code>，<code>laravel</code>（默认），<code>proxy</code>，<code>silverstripe</code>，<code>statamic</code>，<code>symfony2</code>，<code>symfony4</code>，和 <code>zf</code>。</p>
<h4>站点参数</h4>
<p>你可以通过 <code>params</code> 站点指令添加额外的 Nginx <code>fastcgi_param</code> 值到你的站点。例如，我们可以添加一个 <code>FOO</code> 参数，对应参数值是 <code>BAR</code>：</p>
<pre><code>sites:
    - map: homestead.test
      to: /home/vagrant/project1/public
      params:
          - key: FOO
            value: BAR</code></pre>
<h3>环境变量</h3>
<p>你能通过添加如下的值到 <code>Homestead.yaml</code> 文件来设置全局环境变量：</p>
<pre><code>variables:
    - key: APP_ENV
      value: local
    - key: FOO
      value: bar</code></pre>
<p>更新 <code>Homestead.yaml</code> 文件之后，确保通过运行 <code>vagrant reload --provision</code> 命令重新配置机器。这个将更新所有安装 的 PHP 版本的 PHP-FPM 配置并为 <code>vagrant</code> 用户更新环境。</p>
<h3>通配符 SSL</h3>
<p>在 <code>Homestead.yaml</code> 文件的 <code>sites</code> 部分，可以给每个站点定义一个自签名 SSL 证书。如果你想给某个网站生成一个通配符 SSL 证书，可以通过添加 <code>wildcard</code> 配置项来实现。默认情况下，网站会使用通配符证书 <em>而不是</em> 特定域证书</p>
<pre><code>- map: foo.domain.test
  to: /home/vagrant/domain
  wildcard: "yes"</code></pre>
<p>如果 <code>use_wildcard</code> 配置项设置为 <code>no</code>，通配符证书会生产但是不会使用。</p>
<pre><code>- map: foo.domain.test
  to: /home/vagrant/domain
  wildcard: "yes"
  use_wildcard: "no"</code></pre>
<h3>配置 Cron 定时计划</h3>
<p>Laravel 提供了一种很方便的设置 <a href="/docs/laravel_8_zh/scheduling.html">定时计划作业</a> 的方式，只需每分钟运行一次 <code>schedule:run</code> Artisan 命令。<code>scheduler:run</code> 命令将根据您在 <code>App\Console\Kernel</code> 类中定义的计划来决定运行哪个作业。</p>
<p>如果您想要在 Homestead 站点中运行 <code>schedule:run</code> 命令，可在定义站点时将 <code>schedule</code> 选项置为 <code>true</code> ：</p>
<pre><code>sites:
    - map: homestead.test
      to: /home/vagrant/project1/public
      schedule: true</code></pre>
<p>站点的 Cron 作业定义在虚拟机中的 <code>/etc/cron.d</code> 目录中。</p>
<p><a name="configuring-mailhog"></a></p>
<h3>配置 Mailhog</h3>
<p>Mailhog 允许您在不实际发送邮件给收件人的情况下获取并检查您外发的邮件。可根据以下的邮件设置修改您的 <code>env</code> 以实现之：</p>
<pre><code>MAIL_MAILER=smtp
MAIL_HOST=localhost
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null</code></pre>
<p>当 Mailhog 完成配置后，您便可以通过 <code>http://localhost:8025</code> 访问 Mailhog 控制面板。</p>
<p><a name="configuring-minio"></a></p>
<h3>配置 Minio</h3>
<p>Minio 是一个兼容 Amazon S3 API 的开源的对象存储服务器。要安装 Minio ，请按照如下配置修改您的 <code>Homestead.yaml</code> 文件中的 <a href="#installing-optional-features">features</a> 项：</p>
<pre><code>minio: true</code></pre>
<p>默认情况下，Minio 使用 <code>9600</code> 端口。您可以通过 <code>http://localhost:9600/</code> 访问 Minio 控制面板。默认的 access key 是 <code>homestead</code>，secret key 是 <code>secretkey</code>。当访问 Minio 时，您应该使用 <code>us-east-1</code> 区域。</p>
<p>要使用 Minio ，您需要调整 <code>config/filesystems.php</code> 配置文件中的 S3 存储配置。您只需要在 存储配置中添加 <code>use_path_style_endpoint</code> 选项，并将 <code>url</code> 修改为 <code>endpoint</code> 。</p>
<pre><code>'s3' =&gt; [
    'driver' =&gt; 's3',
    'key' =&gt; env('AWS_ACCESS_KEY_ID'),
    'secret' =&gt; env('AWS_SECRET_ACCESS_KEY'),
    'region' =&gt; env('AWS_DEFAULT_REGION'),
    'bucket' =&gt; env('AWS_BUCKET'),
    'endpoint' =&gt; env('AWS_URL'),
    'use_path_style_endpoint' =&gt; true,
]</code></pre>
<p>最后，确保您的 <code>.env</code> 文件有如下配置：</p>
<pre><code>AWS_ACCESS_KEY_ID=homestead
AWS_SECRET_ACCESS_KEY=secretkey
AWS_DEFAULT_REGION=us-east-1
AWS_URL=http://localhost:9600</code></pre>
<p>要配置 buckets，请在您的 Homestead 配置文件中添加 <code>buckets</code> 指令：</p>
<pre><code>buckets:
    - name: your-bucket
      policy: public
    - name: your-private-bucket
      policy: none</code></pre>
<p><code>Policy</code> 支持的值有：<code>none</code> ， <code>download</code> ， <code>upload</code> ， 和 <code>public</code>。</p>
<p><a name="ports"></a></p>
<h3>端口</h3>
<p>默认情况下，下列端口将转发到您的 Homestead 环境：</p>
<div class="content-list">
<ul>
<li><strong>SSH:</strong> 2222 → 转发至 22</li>
<li><strong>ngrok UI:</strong> 4040 → 转发至 4040</li>
<li><strong>HTTP:</strong> 8000 → 转发至 80</li>
<li><strong>HTTPS:</strong> 44300 → 转发至 443</li>
<li><strong>MySQL:</strong> 33060 → 转发至 3306</li>
<li><strong>PostgreSQL:</strong> 54320 → 转发至 5432</li>
<li><strong>MongoDB:</strong> 27017 → 转发至 27017</li>
<li><strong>Mailhog:</strong> 8025 → 转发至 8025</li>
<li><strong>Minio:</strong> 9600 → 转发至 9600</li>
</ul>
</div>
<h4>转发额外的端口</h4>
<p>如果有需要，您亦可转发其他端口到 Vagrant box，同时指定其协议：</p>
<pre><code>ports:
    - send: 50000
      to: 5000
    - send: 7777
      to: 777
      protocol: udp</code></pre>
<p><a name="sharing-your-environment"></a></p>
<h3>共享您的环境</h3>
<p>有时，您可能希望跟您的同事共享您的工作内容。Vagrant 内置了一个通过 <code>vagrant share</code> 的方法实现之；但是，若您在 <code>Homestead.yaml</code> 文件中配置了多站点则无法正常工作。</p>
<p>要解决这个问题，Homestead 包含了自己的 <code>share</code> 命令。通过 <code>vagrant ssh</code> 进入到您的 Homestead 机器，然后运行 <code>share homestead.test</code> 以实现之。这将从您的 <code>Homestead.yaml</code> 配置文件共享 <code>homestead.test</code> 站点。 您可以用其他已经配置过的站点代替 <code>homestead.test</code> ：</p>
<pre><code>share homestead.test</code></pre>
<p>在运行这个命令之后，您的屏幕上将出现 Ngrok ，它包含了活动日志和共享站点的可公开访问的 URL。如果您想自定义区域，子域，或者是 Ngrok 的运行选项，您可以将其添加至 <code>share</code> 命令：</p>
<pre><code>share homestead.test -region=eu -subdomain=laravel</code></pre>
<blockquote>
<p>注意：记住，Vagrant 本质上是不安全的，并且当您运行 <code>share</code> 命令时将会是您的虚拟机暴露在互联网中。</p>
</blockquote>
<p><a name="multiple-php-versions"></a></p>
<h3>多版本 PHP</h3>
<p>Homestead 6 引入了在同一个虚拟机上支持多个版本的 PHP 。您可以在 <code>Homestead.yaml</code> 文件中指定用于站点的 PHP 的版本。可用的 PHP 版本包括：「5.6」, 「7.0」, 「7.1」, 「7.2」, 「7.3」（默认）：</p>
<pre><code>sites:
    - map: homestead.test
      to: /home/vagrant/project1/public
      php: "7.1"</code></pre>
<p>此外，您可以在 CLI 中使用任何受支持的 PHP 版本：</p>
<pre><code>php5.6 artisan list
php7.0 artisan list
php7.1 artisan list
php7.2 artisan list
php7.3 artisan list
php7.4 artisan list</code></pre>
<p>您还可以在虚拟机中使用如下的命令来更新默认的 CLI 版本：</p>
<pre><code>php56
php70
php71
php72
php73
php74</code></pre>
<p><a name="web-servers"></a></p>
<h3>Web Servers</h3>
<p>默认情况下，Homestead 使用 Nginx 作为 Web 服务其。不过，如果站点类型被指定为 <code>apache</code> ，也能安装 Apache 。甚至可以同时安装上述的两个服务器，但是不能同时 <em>启动</em> 。<code>flip</code> 命令用于简化在不同 Web 服务器之间的切换处理。其工作原理是自动判断哪个 Web 服务器正在运行，然后将其关闭，并启动另一个服务器。您可以通过 SSH 连接到您的 Homestead 机器后，在终端中运行这个命令：</p>
<pre><code>flip</code></pre>
<p><a name="mail"></a></p>
<h3>邮件</h3>
<p>Homestead 包含了 Postfix 邮件转发代理，默认监听 <code>1025</code> 端口。所以，您可以指定您的应用使用 <code>localhost</code> 端口为 <code>1025</code> 的 <code>smtp</code> 邮件驱动。这样，Postfix 将接管所有的邮件发送，并由 Mailhog 捕获，您可以在浏览器中打开 <a href="http://localhost:8025">http://localhost:8025</a> 查看您发送的邮件。</p>
<p><a name="debugging-and-profiling"></a></p>
<h2>调试 &amp; 分析</h2>
<p><a name="debugging-web-requests"></a></p>
<h3>使用 Xdebug 调试 Web 请求</h3>
<p>Homestead 包含了 <a href="https://xdebug.org">Xdebug</a> 的逐步调试功能。例如，您可以在浏览器中加载某个页面，PHP 将会连接到您的 IDE 以便允许对运行的代码进行检查和修改。</p>
<p>默认情况下，Xdebug 已经运行并且准备好了接受请求。若您想要在 CLI 中启用 Xdebug ，请在您的 Vagrant box 中运行 <code>sudo phpenmod xdebug</code> 命令。接下来，按照 IDE 的指示以启动调试。最后，可通过浏览器扩展或 <a href="https://www.jetbrains.com/phpstorm/marklets/">bookmarklet</a> 配置浏览器🛫 Xdebug 。</p>
<blockquote>
<p>注意：Xdebug 将会导致 PHP 运行缓慢。要禁用 Xdebug ，请在您的 Vagrant box 中运行 <code>sudo phpdismod xdebug</code> 命令并重启 FPM 服务。</p>
</blockquote>
<p><a name="debugging-cli-applications"></a></p>
<h3>调试 CLI 应用</h3>
<p>要调试 CLI 应用，请在您的 Vagrant box 中使用 <code>xphp</code> 命令：</p>
<pre><code>xphp path/to/script</code></pre>
<h4>自动启动 Xdebug</h4>
<p>当发送请求到 Web 服务器的调试功能进行测试时，自动启动调试要比通过自定义头或修改 cookie 以触发调试过程要方便得多。要设置 Xdebug 自动启动，请参照如下的配置修改您的 Vagrant box 中的 <code>/etc/php/7.x/fpm/conf.d/20-xdebug.ini</code> 文件：</p>
<pre><code>; If Homestead.yaml contains a different subnet for the IP address, this address may be different...
xdebug.remote_host = 192.168.10.1
xdebug.remote_autostart = 1</code></pre>
<p><a name="profiling-applications-with-blackfire"></a></p>
<h3>使用 Backfire 进行应用分析</h3>
<p><a href="https://blackfire.io/docs/introduction">Blackfire</a> 是一个提供了 Web 请求分析、CLI 应用和性能断言编写的 SaaS 服务。它提供了一个可交互的用户见面，来显示调用关系图和时间线。可在开发环境、预发布环境和生产环境中使用，对于终端用户亦没有额外的开销。可通过 <code>php.ini</code> 配置项来设置性能、质量和安全检查。</p>
<p><a href="https://blackfire.io/docs/player/index">Blackfire Player</a> 是一个开源的 Web 爬取、测试和数据抓取的应用，它可以和 Blackfire 一起用于脚本分析场景。</p>
<p>要启用 Blackfire，您可以在 Homestead 配置文件中配置 「features」 项：</p>
<pre><code>features:
    - blackfire:
        server_id: "server_id"
        server_token: "server_value"
        client_id: "client_id"
        client_token: "client_value"</code></pre>
<p>Blackfire 服务器证书和客户端证书 <a href="https://blackfire.io/signup">需要注册一个用户</a> 。Blackfire 为分析应用提供了各种各样的方案，包含了 CLI 工具和浏览器扩展。<a href="https://blackfire.io/docs/cookbooks/index">详细信息可查阅 Blackfire 文档</a> 。</p>
<h3>Profiling PHP Performance Using XHGui</h3>
<p><a href="https://www.github.com/perftools/xhgui">XHGui</a>  是一个审阅您的 PHP 应用性能的图形化界面的工具。要启用 XHGui，请在您的站点配置中添加 <code>xhgui: 'true'</code> :</p>
<pre><code>sites:
    -
        map: your-site.test
        to: /home/vagrant/your-site/public
        type: "apache"
        xhgui: 'true'</code></pre>
<p>若站点已经存在，请在修改配置文件后运行 <code>vagrant provision</code> 命令使之生效。</p>
<p>要分析一个 Web 请求，可以在请求中添加一个 <code>xhgui=on</code> 的参数以实现之。 XHGui 会自动添加 cookie 到响应中，之后的请求便不再需要添加请求参数。您可以在 <code>http://your-site.test/xhgui</code> 中查看您的应用的分析结果。</p>
<p>要使用 XHGui 分析一个 CLI 请求，请在命令前加上 <code>XHGUI=on</code>：</p>
<pre><code>XHGUI=on path/to/script</code></pre>
<p>CLI 分析结果的查看方式 Web 分析结果的查看方式一致。</p>
<p>注意，以上的分析行为将会导致脚本执行缓慢，甚至会导致性能下降一半。因此，我们通常会按照百分比取一小部分进行分析。同时，分析结果中包含了调试器的所有时间。</p>
<p>由于性能分析会占用大量的磁盘空间，因此它们将在几天后被删除。</p>
<p><a name="network-interfaces"></a></p>
<h2>网络接口</h2>
<p><code>Homestead.yaml</code> 配置文件中的 <code>networks</code> 属性指定了 Homestead 环境中的网络接口。您可以根据需要配置多个接口：</p>
<pre><code>networks:
    - type: "private_network"
      ip: "192.168.10.20"</code></pre>
<p>要启用 <a href="https://www.vagrantup.com/docs/networking/public_network.html">桥接</a> 接口，请配置 <code>bridge</code> 设置并修改网络类型为 <code>public_network</code> ：</p>
<pre><code>networks:
    - type: "public_network"
      ip: "192.168.10.20"
      bridge: "en1: Wi-Fi (AirPort)"</code></pre>
<p>要启用 <a href="https://www.vagrantup.com/docs/networking/public_network.html">DHCP</a> 接口，只需要从配置文件中移除 <code>ip</code> 选项：</p>
<pre><code>networks:
    - type: "public_network"
      bridge: "en1: Wi-Fi (AirPort)"</code></pre>
<p><a name="extending-homestead"></a></p>
<h2>扩展 Homestead</h2>
<p>您可以在您的 Homestead 的根目录下使用 <code>after.sh</code> 脚本来扩展 Homestead。在这个文件中，您可以根据需要添加任意的 shell 命令来配置和自定义您的虚拟机。</p>
<p>当您在自定义 Homestead 的时候，Ubuntu 可能让您确认要保留程序包的原有配置还是使用新的配置文件替代之。要避免这个问题，您可以在安装包的过程中使用下面的命令，它可以避免覆盖此前由 homestead 配置的任何配置：</p>
<pre><code>sudo apt-get -y \
    -o Dpkg::Options::="--force-confdef" \
    -o Dpkg::Options::="--force-confold" \
    install your-package</code></pre>
<h3>用户自定义</h3>
<p>在团队环境中使用 Homestead 时，你可能想要调整 Homestead 以便更好地适应你自己喜好的个人开发风格，这可以通过在 <code>Homestead</code> 根目录下创建 <code>user-customizations.sh</code> 文件来完成，在这个文件中，你可以做一些自己喜欢的定制化工作；不过，注意不要把 <code>user-customizations.sh</code> 文件提交到代码仓库中。</p>
<h2>更新 Homestead</h2>
<p>更新 Homestead 之前确保你已经在 Homestead 目录下通过如下命令移除了当前的虚拟机：</p>
<pre><code>vagrant destroy</code></pre>
<p>接下来，需要更新 Homestead 源码，如果你已经克隆仓库到本地，可以在项目根目录下运行如下命令进行更新：</p>
<pre><code>git fetch

git pull origin release</code></pre>
<p>这些命令从 GitHub 仓库拉取最新的 Homestead 代码，获取最新的标记，然后检出最新的标记版本。你能在 <a href="https://github.com/laravel/homestead/releases">GitHub 版本页面</a> 找到最新稳定的版本。</p>
<p>如果你通过你的项目的 <code>composer.json</code> 安装 Homestead，你应当确保你的 <code>composer.json</code> 包含 <code>"laravel/homestead": "^11"</code> 并更新你的依赖项：</p>
<pre><code>composer update</code></pre>
<p>然后，需要通过 <code>vagrant box update</code> 命令更新 Vagrant 盒子：</p>
<pre><code>vagrant box update</code></pre>
<p>然后，在 Homestead 目录下执行 <code>bash init.sh</code> 命令更新额外的配置文件。命令行将询问你是否要覆盖已经存在的 <code>Homestead.yaml</code>，<code>after.sh</code> 和 <code>aliases</code> 文件：</p>
<pre><code>// Mac / Linux...
bash init.sh

// Windows...
init.bat</code></pre>
<p>最后，你需要重新生成 Homestead 盒子来使用最新配置的 Vagrant：</p>
<pre><code>vagrant up</code></pre>
<p><a name="provider-specific-settings"></a></p>
<h2>针对 Provider 的特殊设置</h2>
<p><a name="provider-specific-virtualbox"></a></p>
<h3>VirtualBox</h3>
<h4><code>natdnshostresolver</code></h4>
<p>默认情况下，Homestead 将 <code>natdnshostresolver</code> 设置为 <code>on</code>。这允许 Homestead 去使用你的主机操作系统的 DNS 设置。如果你想要重写这个配置, 添加如下设置到你的 <code>Homestead.yaml</code> 文件：</p>
<pre><code>provider: virtualbox
natdnshostresolver: 'off'</code></pre>
<h4>Windows 上的符号链接</h4>
<p>如果符号链接在你的 Windows 机器上无法正常工作, 你可能需要添加以下的设置到 <code>Vagrantfile</code> 文件：</p>
<pre><code>config.vm.provider "virtualbox" do |v|
    v.customize ["setextradata", :id, "VBoxInternal2/SharedFoldersEnableSymlinksCreate/v-root", "1"]
end</code></pre>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 339);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>