<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>缓存系统 - 开发帮助文档</title> 
    <meta name="keyword" content="cache"> 
    <meta name="description" content="cache"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="7" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/artisan.html" title="Artisan 命令行">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Artisan 命令行
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authentication.html" title="用户认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authorization.html" title="用户授权">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户授权
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/blade.html" title="Blade 模板">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Blade 模板
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/broadcasting.html" title="广播系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    广播系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/cache.html" title="缓存系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    缓存系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/collections.html" title="集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/configuration.html" title="Configuration">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Configuration
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/console-tests.html" title="控制台测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    控制台测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/container.html" title="服务容器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务容器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contracts.html" title="契约">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    契约
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contributions.html" title="贡献导引">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    贡献导引
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/controllers.html" title="Controllers">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Controllers
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/csrf.html" title="CSRF 保护">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CSRF 保护
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database-testing.html" title="数据库测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database.html" title="数据库: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/deployment.html" title="部署">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    部署
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/documentation.html" title="前言">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    前言
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/dusk.html" title="Laravel Dusk">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Dusk
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-collections.html" title="Eloquent: 集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-mutators.html" title="Eloquent: 修改器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 修改器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-relationships.html" title="Eloquent: 关联">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 关联
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-resources.html" title="Eloquent: API 资源">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: API 资源
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-serialization.html" title="Eloquent: 序列化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 序列化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent.html" title="Eloquent: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/encryption.html" title="加密解密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    加密解密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/envoy.html" title="Laravel Envoy">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Envoy
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/errors.html" title="错误处理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    错误处理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/events.html" title="事件系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    事件系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/facades.html" title="Facades">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Facades
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/filesystem.html" title="File Storage">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    File Storage
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/frontend.html" title="JavaScript &amp; CSS 脚手架">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    JavaScript &amp; CSS 脚手架
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/hashing.html" title="哈希加密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    哈希加密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/helpers.html" title="辅助函数">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    辅助函数
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/homestead.html" title="Laravel Homestead">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Homestead
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/horizon.html" title="Laravel Horizon">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Horizon
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-client.html" title="HTTP 客户端">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 客户端
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-tests.html" title="HTTP Tests">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Tests
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/installation.html" title="安装">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/lifecycle.html" title="请求生命周期">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    请求生命周期
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/localization.html" title="本地化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    本地化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/logging.html" title="日志">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    日志
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mail.html" title="邮件发送">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    邮件发送
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/middleware.html" title="中间件">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    中间件
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/migrations.html" title="数据库：迁移">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：迁移
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mix.html" title="编辑资源 (Mix)">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    编辑资源 (Mix)
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mocking.html" title="Mocking">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Mocking
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/notifications.html" title="消息通知">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    消息通知
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/packages.html" title="Package Development">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Package Development
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/pagination.html" title="数据库: 分页">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 分页
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passport.html" title="Laravel Passport">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Passport
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passwords.html" title="重置密码">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    重置密码
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/providers.html" title="服务提供者">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务提供者
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queries.html" title="数据库：查询构造器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：查询构造器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queues.html" title="队列">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    队列
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/redis.html" title="Redis">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Redis
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/releases.html" title="发行说明">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    发行说明
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/requests.html" title="HTTP 请求">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 请求
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/responses.html" title="HTTP Responses">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Responses
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/routing.html" title="路由">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    路由
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sail.html" title="Laravel Sail">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sail
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sanctum.html" title="Laravel Sanctum">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sanctum
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scheduling.html" title="任务调度">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    任务调度
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scout.html" title="Laravel Scout">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Scout
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/seeding.html" title="数据库：填充">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：填充
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/session.html" title="HTTP 会话机制">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 会话机制
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/socialite.html" title="Laravel 社会化登录">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel 社会化登录
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/structure.html" title="目录结构">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    目录结构
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/telescope.html" title="Laravel Telescope">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Telescope
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/testing.html" title="测试：入门指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    测试：入门指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/upgrade.html" title="升级指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    升级指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/urls.html" title="生成 URL">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    生成 URL
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/valet.html" title="Laravel Valet">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Valet
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/validation.html" title="表单验证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表单验证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/verification.html" title="Email 认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Email 认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/views.html" title="视图">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    视图
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <h1>缓存系统</h1>
<ul>
<li><a href="#configuration">配置</a>
<ul>
<li><a href="#driver-prerequisites">驱动的前提条件</a></li>
</ul></li>
<li><a href="#cache-usage">缓存使用</a>
<ul>
<li><a href="#obtaining-a-cache-instance">获取缓存实例</a></li>
<li><a href="#retrieving-items-from-the-cache">从缓存中获取数据</a></li>
<li><a href="#storing-items-in-the-cache">在缓存中存储数据</a></li>
<li><a href="#removing-items-from-the-cache">从缓存中删除数据</a></li>
<li><a href="#the-cache-helper">cache 辅助函数</a></li>
</ul></li>
<li><a href="#cache-tags">缓存标记</a>
<ul>
<li><a href="#storing-tagged-cache-items">存储被标记的缓存数据</a></li>
<li><a href="#accessing-tagged-cache-items">访问被标记的缓存数据</a></li>
<li><a href="#removing-tagged-cache-items">删除被标记的缓存数据</a></li>
</ul></li>
<li><a href="#atomic-locks">原子锁</a>
<ul>
<li><a href="#lock-driver-prerequisites">驱动的前提条件</a></li>
<li><a href="#managing-locks">管理锁</a></li>
<li><a href="#managing-locks-across-processes">跨进程管理锁</a></li>
</ul></li>
<li><a href="#adding-custom-cache-drivers">添加自定义缓存驱动</a>
<ul>
<li><a href="#writing-the-driver">编写驱动</a></li>
<li><a href="#registering-the-driver">注册驱动</a></li>
</ul></li>
<li><a href="#events">事件</a></li>
</ul>
<p><a name="configuration"></a></p>
<h2>配置</h2>
<p>Laravel 为各种后端缓存提供了丰富而统一的 API，其缓存配置位于 <code>config/cache.php</code> 文件中。在该文件中你可以指定应用默认使用哪个缓存驱动。Laravel 支持当前流行的后端缓存，例如 <a href="https://memcached.org">Memcached</a> 和 <a href="https://redis.io">Redis</a>。</p>
<p>缓存配置文件还包含各种其他选项，这些选项都记录在文件中，因此请确保阅读这些选项。默认情况下，Laravel 配置为使用 <code>file</code> 缓存驱动，它将序列化的缓存对象存储在文件系统中。对于较大型应用，建议使用更强大的驱动程序，例如 Memcached 或 Redis。你甚至可以为同一个驱动程序配置多个缓存配置。</p>
<p><a name="driver-prerequisites"></a></p>
<h3>驱动的前提条件</h3>
<h4>数据库</h4>
<p>当使用 <code>database</code> 缓存驱动时，你需要配置一个表来存放缓存数据。下面是构建缓存数据表结构的 <code>Schema</code> 声明示例：</p>
<pre><code>Schema::create('cache', function ($table) {
    $table-&gt;string('key')-&gt;unique();
    $table-&gt;text('value');
    $table-&gt;integer('expiration');
});</code></pre>
<blockquote>
<p>提示：你也可以使用 Artisan 命令 <code>php artisan cache:table</code> 来生成合适的迁移。</p>
</blockquote>
<h4>Memcached</h4>
<p>使用 Memcached 驱动需要安装 <a href="https://pecl.php.net/package/memcached">Memcached PECL</a> 扩展包 。你可以把所有的 Memcached 服务器都列在 <code>config/cache.php</code> 配置文件中：</p>
<pre><code>'memcached' =&gt; [
    [
        'host' =&gt; '127.0.0.1',
        'port' =&gt; 11211,
        'weight' =&gt; 100
    ],
],</code></pre>
<p>你还可以将 <code>host</code> 选项设置为 UNIX socket 路径。如果你这样设置了， <code>port</code> 选项应该设置为 <code>0</code>：</p>
<pre><code>'memcached' =&gt; [
    [
        'host' =&gt; '/var/run/memcached/memcached.sock',
        'port' =&gt; 0,
        'weight' =&gt; 100
    ],
],</code></pre>
<h4>Redis</h4>
<p>在使用 Laravel 的 Redis 缓存之前，你需要通过PECL 安装 PhpRedis PHP 扩展，或者通过 Composer 安装 <code>predis/predis</code> 包（~1.0）。</p>
<p>如需了解更多关于 Redis 的配置，请参考 <a href="/docs/laravel_8_zh/redis.html#configuration"> Laravel Redis 文档</a>。</p>
<p><a name="cache-usage"></a></p>
<h2>缓存使用</h2>
<p><a name="obtaining-a-cache-instance"></a></p>
<h3>获取缓存实例</h3>
<p><code>Illuminate\Contracts\Cache\Factory</code> 和 <code>Illuminate\Contracts\Cache\Repository</code> <a href="/docs/laravel_8_zh/contracts.html">契约</a> 提供了 Laravel 缓存服务的访问机制。 <code>Factory</code> 契约为你的应用程序定义了访问所有缓存驱动的机制。 <code>Repository</code> 契约通常是由你的 <code>cache</code> 配置文件指定的默认缓存驱动实现的。</p>
<p>当然，你也可以使用 <code>Cache</code> Facade，我们将在后续的文档中介绍。<code>Cache</code> Facade 为 Laravel 缓存契约底层的实现提供了方便又简洁的方法：</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Illuminate\Support\Facades\Cache;

class UserController extends Controller
{
    /**
     * 显示该应用程序的所有用户的列表
     *
     * @return Response
     */
    public function index()
    {
        $value = Cache::get('key');

        //
    }
}</code></pre>
<h4>访问多个缓存存储</h4>
<p>使用 <code>Cache</code> Facade，你可以通过 <code>store</code> 方法来访问各种缓存存储。传入 <code>store</code> 方法的键应该对应 <code>cache</code> 配置信息文件中的 <code>stores</code> 配置数组中所列出的一个：</p>
<pre><code>$value = Cache::store('file')-&gt;get('foo');

Cache::store('redis')-&gt;put('bar', 'baz', 600); // 10 Minutes</code></pre>
<p><a name="retrieving-items-from-the-cache"></a></p>
<h3>从缓存中获取数据</h3>
<p><code>Cache</code> Facade 的 <code>get</code> 方法用于从缓存中获取数据。如果该数据在缓存中不存在，那么该方法将返回 <code>null</code> 。正如你想的那样，你也可以向 <code>get</code> 方法传递第二个参数，用来指定如果查找的数据不存在时你希望返回的默认值：</p>
<pre><code>$value = Cache::get('key');

$value = Cache::get('key', 'default');</code></pre>
<p>你甚至可以传递一个 <code>Closure</code> 作为默认值。如果指定的数据在缓存中不存在，将返回 <code>Closure</code> 的结果。传递闭包的方法允许你从数据库或其他外部服务中获取默认值。</p>
<pre><code>$value = Cache::get('key', function () {
    return DB::table(...)-&gt;get();
});</code></pre>
<h4>检查缓存项是否存在</h4>
<p><code>has</code> 方法可以用于判断缓存项是否存在。如果值为 null，则该方法将会返回 <code>false</code>：</p>
<pre><code>if (Cache::has('key')) {
    //
}</code></pre>
<h4>递增与递减值</h4>
<p><code>increment</code> 和 <code>decrement</code> 方法可以用来调整缓存中整数项的值。这两个方法都可以传入第二个可选参数，这个参数用来指明要递增或递减的数量：</p>
<pre><code>Cache::increment('key');
Cache::increment('key', $amount);
Cache::decrement('key');
Cache::decrement('key', $amount);</code></pre>
<h4>获取和存储</h4>
<p>有时你可能想从缓存中获取一个数据，而当请求的缓存项不存在时，程序能为你存储一个默认值。例如，你可能想从缓存中获取所有用户，当缓存中不存在这些用户时，程序将从数据库将这些用户取出并放入缓存。你可以使用 <code>Cache::remember</code> 方法来实现：</p>
<pre><code>$value = Cache::remember('users', $seconds, function () {
    return DB::table('users')-&gt;get();
});</code></pre>
<p>如果缓存中不存在你想要的数据时，则传递给 <code>remember</code> 方法的 <code>闭包</code> 将被执行，然后将其结果返回并放置到缓存中。</p>
<p>你可以使用 <code>rememberForever</code> 方法从缓存中获取数据或者永久存储它：</p>
<pre><code>$value = Cache::rememberForever('users', function () {
    return DB::table('users')-&gt;get();
});</code></pre>
<h4>获取和删除</h4>
<p>如果你需要从缓存中获取到数据之后再删除它，你可以使用 <code>pull</code> 方法。和 <code>get</code> 方法一样，如果缓存不存在，则返回 <code>null</code>：</p>
<pre><code>$value = Cache::pull('key');</code></pre>
<p><a name="storing-items-in-the-cache"></a></p>
<h3>在缓存中存储数据</h3>
<p>你可以使用 <code>Cache</code> Facade 的 <code>put</code> 方法将数据存储到缓存中：</p>
<pre><code>Cache::put('key', 'value', $seconds);</code></pre>
<p>如果缓存的过期时间没有传递给 <code>put</code> 方法， 则缓存将永久有效：</p>
<pre><code>Cache::put('key', 'value');</code></pre>
<p>除了以整数形式传递过期时间的秒数，你还可以传递一个 <code>DateTime</code> 实例来表示该数据的到期时间：</p>
<pre><code>Cache::put('key', 'value', now()-&gt;addMinutes(10));</code></pre>
<h4>只存储没有的数据</h4>
<p><code>add</code> 方法将只存储缓存中不存在的数据。如果存储成功，将返回 <code>true</code> ，否则返回 <code>false</code> ：</p>
<pre><code>Cache::add('key', 'value', $seconds);</code></pre>
<h4>数据永久存储</h4>
<p><code>forever</code> 方法可用于持久化将数据存储到缓存中。因为这些数据不会过期，所以必须通过 <code>forget</code> 方法从缓存中手动删除它们：</p>
<pre><code>Cache::forever('key', 'value');</code></pre>
<blockquote>
<p>技巧：如果你使用 Memcached 驱动，当缓存数据达到存储上限时，「永久存储」的数据可能会被删除。</p>
</blockquote>
<p><a name="removing-items-from-the-cache"></a></p>
<h3>从缓存中删除数据</h3>
<p>你可以使用 <code>forget</code> 方法从缓存中删除这些数据：</p>
<pre><code>Cache::forget('key');</code></pre>
<p>你也可以通过提供零或者负的 TTL 值来删除这些数据：</p>
<pre><code>Cache::put('key', 'value', 0);

Cache::put('key', 'value', -5);</code></pre>
<p>你可以使用 <code>flush</code> 方法清空所有的缓存：</p>
<pre><code>Cache::flush();</code></pre>
<blockquote>
<p>注意：清空缓存的方法并不会考虑缓存前缀，会将缓存中的所有内容删除。因此在清除与其它应用程序共享的缓存时，请慎重考虑。</p>
</blockquote>
<p><a name="the-cache-helper"></a></p>
<h3>Cache 辅助函数</h3>
<p>除了可以使用 <code>Cache</code> 的门面以及 <a href="/docs/laravel_8_zh/contracts.html">Cache 契约</a> 外，你也可以使用全局辅助函数 <code>cache</code> 来获取和保存缓存数据。当只使用一个字符串参数调用 <code>cache</code> 函数时，这将返回给定键对应的值。</p>
<pre><code>$value = cache('key');</code></pre>
<p>如果你向函数提供了一组带有过期时间的键值对，那么在这段时间内,它将缓存此数据。</p>
<pre><code>cache(['key' =&gt; 'value'], $seconds);

cache(['key' =&gt; 'value'], now()-&gt;addMinutes(10));</code></pre>
<p>当 <code>cache</code> 函数在没有任何参数的情况下被调用，那么它返回的将是一个实现<code>Illuminate\Contracts\Cache\Factory</code> 的实例，并且允许你调用其他的缓存方法：</p>
<pre><code>cache()-&gt;remember('users', $seconds, function () {
    return DB::table('users')-&gt;get();
});</code></pre>
<blockquote>
<p>技巧: 如果在测试中使用全局函数 <code>cache</code>，你可以使用<code>Cache::shouldReceive</code> 方法就像 <a href="/docs/laravel_8_zh/mocking.html#mocking-facades">测试 Facade</a>。</p>
</blockquote>
<p><a name="cache-tags"></a></p>
<h2>缓存标记</h2>
<blockquote>
<p>注意：当使用 <code>file</code>，<code>dynamodb</code> 或 <code>database</code> 缓存驱动时，缓存标记将不支持。此外，当使用多个带有「永久」存储的缓存的标记时，最好使用 自动清除陈旧记录的驱动程序 例如 <code>Memcached</code>  来获得最佳性能。</p>
</blockquote>
<p><a name="storing-tagged-cache-items"></a></p>
<h3>存储被打上标签的缓存数据</h3>
<p>缓存标签允许你给相关的缓存标签项打上同一个标签以便后续可以清除这些缓存值。你可以通过传入一个被排序的标签数组来访问这些缓存项。例如，我们可以在使用标签的同时使用  <code>put</code>  方法来设置缓存。</p>
<pre><code>Cache::tags(['people', 'artists'])-&gt;put('John', $john, $seconds);

Cache::tags(['people', 'authors'])-&gt;put('Anne', $anne, $seconds);</code></pre>
<p><a name="accessing-tagged-cache-items"></a></p>
<h3>访问被打上标签的缓存数据</h3>
<p>若要获取一个被打上标签的缓存数据，将相同标签的有序数组传递给  <code>tags</code> 方法，然后调用  <code>get</code> 方法检索你要获取的键：</p>
<pre><code>$john = Cache::tags(['people', 'artists'])-&gt;get('John');

$anne = Cache::tags(['people', 'authors'])-&gt;get('Anne');</code></pre>
<p><a name="removing-tagged-cache-items"></a></p>
<h3>移除带有标签的缓存数据</h3>
<p>你可能需要移除单个标签或者一组标签所标记的所有缓存数据，例如，下面这个例子将会移除带有  <code>people</code>, <code>authors</code> 或者两者都有的标签的所有缓存数据 , 所以 <code>Anne</code> 和  <code>John</code> 将会从缓存中删除：</p>
<pre><code>Cache::tags(['people', 'authors'])-&gt;flush();</code></pre>
<p>相反，下面的例子只会移除带有标签 <code>authors</code> 的缓存数据, 因此  <code>Anne</code> 缓存数据将会被移除， 但是  <code>John</code> 就不会：</p>
<pre><code>Cache::tags('authors')-&gt;flush();</code></pre>
<p><a name="atomic-locks"></a></p>
<h2>原子锁</h2>
<blockquote>
<p>注意：要利用此功能，您的应用程序必须使用<code>memcached</code>，<code>dynamodb</code>，<code>redis</code>，<code>database</code> 或 <code>array</code> 缓存驱动程序作为应用程序的默认缓存驱动程序。 此外，所有服务器必须与同一中央高速缓存服务器通信。</p>
</blockquote>
<p><a name="lock-driver-prerequisites"></a></p>
<h3>驱动的前提条件</h3>
<h4>数据库</h4>
<p>当使用 <code>database</code> 缓存驱动时，你需要配置一个表来存放原子锁。 下面是构建原子锁表结构的 Schema 声明：</p>
<pre><code>Schema::create('cache_locks', function ($table) {
    $table-&gt;string('key')-&gt;primary();
    $table-&gt;string('owner');
    $table-&gt;integer('expiration');
});</code></pre>
<p><a name="managing-locks"></a></p>
<h3>管理锁</h3>
<p>原子锁允许对分布式锁进行操作而不必担心竞争条件。例如，<a href="https://forge.laravel.com">Laravel Forge</a> 使用原子锁来确保在一台服务器上每次只有一个远程任务在执行。你可以使用 <code>Cache::lock</code> 方法来创建和管理锁：</p>
<pre><code>use Illuminate\Support\Facades\Cache;

$lock = Cache::lock('foo', 10);

if ($lock-&gt;get()) {
    // 获取锁定10秒...

    $lock-&gt;release();
}</code></pre>
<p><code>get</code> 方法也可以接收一个闭包。在闭包执行之后，Laravel 将会自动释放锁：</p>
<pre><code>Cache::lock('foo')-&gt;get(function () {
    // 获取无限期锁并自动释放...
});</code></pre>
<p>如果你在请求时锁无法使用，你可以控制 Laravel 等待指定的秒数。如果在指定的时间限制内无法获取锁，则会抛出 <code>Illuminate\Contracts\Cache\LockTimeoutException</code>：</p>
<pre><code>use Illuminate\Contracts\Cache\LockTimeoutException;

$lock = Cache::lock('foo', 10);

try {
    $lock-&gt;block(5);

    // 等待最多5秒后获取的锁...
} catch (LockTimeoutException $e) {
    // 无法获取锁...
} finally {
    optional($lock)-&gt;release();
}

Cache::lock('foo', 10)-&gt;block(5, function () {
    // 等待最多5秒后获取的锁...
});</code></pre>
<p><a name="managing-locks-across-processes"></a></p>
<h3>管理跨进程锁</h3>
<p>有时候, 你可能希望在一个进程中获取锁然后在另一个进程中释放它。例如，你可能在一个 Web 请求中获取锁并且希望在由该请求触发的队列任务结束时释放锁。对于这样的场景，你应该将锁的作用域 「owner token」传递给队列任务，以便该队列任务可以使用给定的 token 重新实例化锁：</p>
<pre><code>// 控制器里面...
$podcast = Podcast::find($id);

$lock = Cache::lock('foo', 120);

if ($result = $lock-&gt;get()) {
    ProcessPodcast::dispatch($podcast, $lock-&gt;owner());
}

// ProcessPodcast Job  里面...
Cache::restoreLock('foo', $this-&gt;owner)-&gt;release();</code></pre>
<p>如果你想在无视当前锁的所有者的情况下释放锁，你可以使用 <code>forceRelease</code> 方法：</p>
<pre><code>Cache::lock('foo')-&gt;forceRelease();</code></pre>
<p><a name="adding-custom-cache-drivers"></a></p>
<h2>添加自定义缓存驱动</h2>
<p><a name="writing-the-driver"></a></p>
<h3>编写驱动</h3>
<p>要创建自定义的缓存驱动，首先需要实现 <code>Illuminate\Contracts\Cache\Store</code> <a href="/docs/laravel_8_zh/contracts.html">contract</a> 契约。因此， MongoDB 缓存实现看起来就像是这样：</p>
<pre><code>&lt;?php

namespace App\Extensions;

use Illuminate\Contracts\Cache\Store;

class MongoStore implements Store
{
    public function get($key) {}
    public function many(array $keys) {}
    public function put($key, $value, $seconds) {}
    public function putMany(array $values, $seconds) {}
    public function increment($key, $value = 1) {}
    public function decrement($key, $value = 1) {}
    public function forever($key, $value) {}
    public function forget($key) {}
    public function flush() {}
    public function getPrefix() {}
}</code></pre>
<p>我们只需要 MongoDB 的连接来实现这些方法。 关于如何实现这些方法中的实例, 可以通过阅读源代码  <code>Illuminate\Cache\MemcachedStore</code> 来加以理解。 一旦我们完成契约接口的实现，我们就可以通过以下的示例来完成自定义驱动的注册了。</p>
<pre><code>Cache::extend('mongo', function ($app) {
    return Cache::repository(new MongoStore);
});</code></pre>
<blockquote>
<p>技巧: 如果你不知道该将缓存驱动的代码放在什么地方，你可以在你的 <code>app</code> 文件夹下创建一个  <code>Extensions</code> 的命名空间。 值得注意的是，Laravel 并没有硬性规定应用程序的结构。因此你可以根据自己的喜好自由的组织你的应用程序。</p>
</blockquote>
<p><a name="registering-the-driver"></a></p>
<h3>注册驱动</h3>
<p>在 Laravel 注册一个自定义的缓存驱动，我们需要在 <code>Cache</code> 门面上使用 <code>extend</code> 方法。 对 <code>Cache::extend</code> 的调用可以在新的Laravel应用程序中自带的 <code>App\Providers\AppServiceProvider</code> 的  <code>boot</code> 方法中完成，或者你也可以自己创建服务提供者来存放扩展，只是不要忘记在  <code>config/app.php</code> 的 provider 的数组中注册服务提供者：</p>
<pre><code>&lt;?php

namespace App\Providers;

use App\Extensions\MongoStore;
use Illuminate\Support\Facades\Cache;
use Illuminate\Support\ServiceProvider;

class CacheServiceProvider extends ServiceProvider
{
    /**
     * 注册应用服务
     *
     * @return void
     */
    public function register()
    {
        //
    }

    /**
     * 引导应用服务
     *
     * @return void
     */
    public function boot()
    {
        Cache::extend('mongo', function ($app) {
            return Cache::repository(new MongoStore);
        });
    }
}</code></pre>
<p>传递给  <code>extend</code> 方法的第一个参数是驱动程序的名称。 该值对应 <code>config/cache.php</code> 配置文件中的  <code>driver</code> 选项。 第二个参数是返回 <code>Illuminate\Cache\Repository</code> 实例的闭包。该闭包中被传入一个 <code>$app</code> 的实例， 也就是 <a href="/docs/laravel_8_zh/container.html">服务容器</a> 的一个实例。</p>
<p>一旦你的扩展被注册以后，只需要更新配置文件  <code>config/cache.php</code> 的  <code>driver</code> 选项作为自定义扩展名称即可。</p>
<p><a name="events"></a></p>
<h2>事件</h2>
<p>要在每次缓存操作时执行代码,你可以监听缓存触发的 <a href="/docs/laravel_8_zh/events.html">事件</a>。 通常，你应该将这些事件监听器放在 <code>EventServiceProvider</code> 中：</p>
<pre><code>/**
 * 应用程序的事件监听器映射
 *
 * @var array
 */
protected $listen = [
    'Illuminate\Cache\Events\CacheHit' =&gt; [
        'App\Listeners\LogCacheHit',
    ],

    'Illuminate\Cache\Events\CacheMissed' =&gt; [
        'App\Listeners\LogCacheMissed',
    ],

    'Illuminate\Cache\Events\KeyForgotten' =&gt; [
        'App\Listeners\LogKeyForgotten',
    ],

    'Illuminate\Cache\Events\KeyWritten' =&gt; [
        'App\Listeners\LogKeyWritten',
    ],
];</code></pre>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 310);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>