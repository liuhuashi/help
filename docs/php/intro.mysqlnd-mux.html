<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>简介 - 开发帮助文档</title> 
    <meta name="keyword" content="intro.mysqlnd-mux"> 
    <meta name="description" content="intro.mysqlnd-mux"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="825" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/intro.mysqlnd-mux.html" title="简介">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    简介
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/mysqlnd-mux.changes.html" title="Change History">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Change History
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/mysqlnd-mux.concepts.html" title="Concepts">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Concepts
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/mysqlnd-mux.constants.html" title="预定义常量">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    预定义常量
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/mysqlnd-mux.setup.html" title="安装／配置">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装／配置
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="book.mysqlnd-mux.html">« mysqlnd_mux</a></li>
      <li style="float: right;"><a href="mysqlnd-mux.concepts.html">Concepts »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="documentation.html">PHP Manual</a></li>
    <li><a href="book.mysqlnd-mux.html">mysqlnd_mux</a></li>
    <li>简介</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="intro.mysqlnd-mux" class="preface">
  <h1 class="title">简介</h1>
  <p class="para">
   The mysqlnd multiplexing plugin (<code class="literal">mysqlnd_mux</code>)
   multiplexes MySQL connections established by all PHP MySQL extensions 
   that use the MySQL native driver (<a href="book.mysqlnd.html" class="link">mysqlnd</a>)
   for PHP.
  </p>
  <p class="para">
   The MySQL native driver for PHP features an internal C API for plugins,
   such as the connection multiplexing plugin, which can extend the functionality of
   mysqlnd. See the <a href="book.mysqlnd.html" class="link">mysqlnd</a> for additional details
   about its benefits over the MySQL Client Library libmysqlclient.
  </p>
  <p class="para">
   Mysqlnd plugins like <code class="literal">mysqlnd_mux</code> operate, for the most part,
   transparently from a user perspective. The connection multiplexing
   plugin supports all PHP applications, and all MySQL PHP extensions.
   It does not change existing APIs. Therefore, it can easily be used with
   existing PHP applications.
  </p>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   </p><p class="para">
     This is a proof-of-concept. All features are at an early stage. Not all
     kinds of queries are handled by the plugin yet. Thus, it cannot be used
     in a drop-in fashion at the moment.
    </p>
    <p class="para">
      Please, do not use this version in production environments.
    </p>
  </blockquote>
  <div class="section" id="mysqlnd-mux.key-features">
   <h2 class="title">Key Features</h2>
   <p class="para">
    The key features of mysqlnd_mux are as follows:
   </p>
   <p class="para">
    </p><ul class="itemizedlist">
     <li class="listitem">
      <p class="para">
       Transparent and therefore easy to use:
      </p>
      <p class="para">
       </p><ul class="itemizedlist">
        <li class="listitem">
         <p class="para">
          Supports all of the PHP MySQL extensions.
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          Little to no application changes are required, dependent on the required usage scenario.
         </p>
        </li>
       </ul>
      
     </li>

     <li class="listitem">
      <p class="para">
       Reduces server load and connection establishment latency:
      </p>
      <p class="para">
       </p><ul class="itemizedlist">
        <li class="listitem">
         <p class="para">
           Opens less connections to the MySQL server.
         </p>
        </li>
        <li class="listitem">
         <p class="para">
           Less connections to MySQL mean less work for the MySQL server.
           In a client-server environment scaling the server is often more
           difficult than scaling the client. Multiplexing helps with
           horizontal scale-out (scale-by-client).
         </p>
        </li>
        <li class="listitem">
         <p class="para">
           Pooling saves connection time.
         </p>
        </li>
        <li class="listitem">
         <p class="para">
           Multiplexed connection: multiple user handles share the
           same network connection. Once opened,
           a network connection is cached and shared among
           multiple user handles. There is a 1:n relationship between
           internal network connection and user connection handles.
         </p>
        </li>
        <li class="listitem">
         <p class="para">
           Persistent connection: a network connection is kept open
           at the end of the web request, if the PHP deployment model allows.
           Thus, subsequently web requests can reuse a
           previously opened connection. Like other resources, network
           connections are bound to the scope of a process. Thus, they can
           be reused for all web requests served by a process.
         </p>
        </li>
       </ul>
      
     </li>

    </ul>
   
  </div>

  <div class="section" id="mysqlnd-mux.limitations">
   <h2 class="title">Limitations</h2>
   <p class="para">
    The proof-of-concept does not support unbuffered queries, prepared
    statements, and asynchronous queries.
   </p>
   <p class="para">
    The connection pool is using a combination of the transport method and
    hostname as keys. As a consequence, two connections to the same
    host using the same transport method (TCP/IP, Unix socket, Windows named pipe)
    will be linked to the same pooled connection even if username and
    password differ. Be aware of the possible security implications.
   </p>
   <p class="para">
    The proof-of-concept is transaction agnostic. It does not know about SQL
    transactions.
   </p>
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    </p><p class="para">
     Applications must be aware of the consequences of connection sharing connections.
    </p>
   </blockquote>
  </div>

  <div class="section" id="mysqlnd-mux.name">
   <h2 class="title">About the name mysqlnd_mux</h2>
   <p class="para">
    The shortcut <code class="literal">mysqlnd_mux</code>
    stands for <code class="literal">mysqlnd connection multiplexing plugin</code>.
   </p>
  </div>
 </div></div></div>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 7136);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>