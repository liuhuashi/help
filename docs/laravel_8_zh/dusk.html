<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>Laravel Dusk - 开发帮助文档</title> 
    <meta name="keyword" content="dusk"> 
    <meta name="description" content="dusk"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="7" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/artisan.html" title="Artisan 命令行">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Artisan 命令行
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authentication.html" title="用户认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/authorization.html" title="用户授权">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    用户授权
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/blade.html" title="Blade 模板">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Blade 模板
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/broadcasting.html" title="广播系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    广播系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/cache.html" title="缓存系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    缓存系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/collections.html" title="集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/configuration.html" title="Configuration">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Configuration
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/console-tests.html" title="控制台测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    控制台测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/container.html" title="服务容器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务容器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contracts.html" title="契约">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    契约
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/contributions.html" title="贡献导引">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    贡献导引
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/controllers.html" title="Controllers">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Controllers
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/csrf.html" title="CSRF 保护">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CSRF 保护
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database-testing.html" title="数据库测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/database.html" title="数据库: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/deployment.html" title="部署">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    部署
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/documentation.html" title="前言">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    前言
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/dusk.html" title="Laravel Dusk">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Dusk
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-collections.html" title="Eloquent: 集合">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 集合
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-mutators.html" title="Eloquent: 修改器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 修改器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-relationships.html" title="Eloquent: 关联">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 关联
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-resources.html" title="Eloquent: API 资源">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: API 资源
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent-serialization.html" title="Eloquent: 序列化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 序列化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/eloquent.html" title="Eloquent: 入门">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Eloquent: 入门
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/encryption.html" title="加密解密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    加密解密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/envoy.html" title="Laravel Envoy">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Envoy
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/errors.html" title="错误处理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    错误处理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/events.html" title="事件系统">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    事件系统
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/facades.html" title="Facades">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Facades
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/filesystem.html" title="File Storage">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    File Storage
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/frontend.html" title="JavaScript &amp; CSS 脚手架">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    JavaScript &amp; CSS 脚手架
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/hashing.html" title="哈希加密">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    哈希加密
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/helpers.html" title="辅助函数">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    辅助函数
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/homestead.html" title="Laravel Homestead">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Homestead
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/horizon.html" title="Laravel Horizon">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Horizon
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-client.html" title="HTTP 客户端">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 客户端
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/http-tests.html" title="HTTP Tests">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Tests
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/installation.html" title="安装">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/lifecycle.html" title="请求生命周期">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    请求生命周期
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/localization.html" title="本地化">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    本地化
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/logging.html" title="日志">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    日志
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mail.html" title="邮件发送">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    邮件发送
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/middleware.html" title="中间件">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    中间件
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/migrations.html" title="数据库：迁移">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：迁移
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mix.html" title="编辑资源 (Mix)">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    编辑资源 (Mix)
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/mocking.html" title="Mocking">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Mocking
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/notifications.html" title="消息通知">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    消息通知
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/packages.html" title="Package Development">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Package Development
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/pagination.html" title="数据库: 分页">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库: 分页
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passport.html" title="Laravel Passport">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Passport
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/passwords.html" title="重置密码">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    重置密码
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/providers.html" title="服务提供者">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    服务提供者
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queries.html" title="数据库：查询构造器">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：查询构造器
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/queues.html" title="队列">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    队列
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/redis.html" title="Redis">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Redis
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/releases.html" title="发行说明">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    发行说明
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/requests.html" title="HTTP 请求">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 请求
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/responses.html" title="HTTP Responses">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP Responses
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/routing.html" title="路由">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    路由
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sail.html" title="Laravel Sail">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sail
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/sanctum.html" title="Laravel Sanctum">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Sanctum
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scheduling.html" title="任务调度">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    任务调度
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/scout.html" title="Laravel Scout">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Scout
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/seeding.html" title="数据库：填充">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据库：填充
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/session.html" title="HTTP 会话机制">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    HTTP 会话机制
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/socialite.html" title="Laravel 社会化登录">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel 社会化登录
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/structure.html" title="目录结构">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    目录结构
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/telescope.html" title="Laravel Telescope">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Telescope
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/testing.html" title="测试：入门指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    测试：入门指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/upgrade.html" title="升级指南">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    升级指南
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/urls.html" title="生成 URL">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    生成 URL
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/valet.html" title="Laravel Valet">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel Valet
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/validation.html" title="表单验证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表单验证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/verification.html" title="Email 认证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Email 认证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel_8_zh/views.html" title="视图">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    视图
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <h1>Laravel Dusk</h1>
<ul>
<li><a href="#introduction">介绍</a></li>
<li><a href="#installation">安装</a>
<ul>
<li><a href="#managing-chromedriver-installations">管理 ChromeDriver 安装</a></li>
<li><a href="#using-other-browsers">使用其他浏览器</a></li>
</ul></li>
<li><a href="#getting-started">开始</a>
<ul>
<li><a href="#generating-tests">创建测试</a></li>
<li><a href="#running-tests">运行测试</a></li>
<li><a href="#environment-handling">环境变量处理</a></li>
<li><a href="#creating-browsers">创建浏览器</a></li>
<li><a href="#browser-macros">浏览器宏</a></li>
<li><a href="#authentication">用户认证</a></li>
<li><a href="#migrations">数据库迁移</a></li>
<li><a href="#cookies">Cookies</a></li>
<li><a href="#taking-a-screenshot">获取截图</a></li>
<li><a href="#storing-console-output-to-disk">输出结果保存到硬盘</a></li>
<li><a href="#storing-page-source-to-disk">页面源码保存到硬盘</a></li>
</ul></li>
<li><a href="#interacting-with-elements">与元素交互</a>
<ul>
<li><a href="#dusk-selectors">Dusk 选择器</a></li>
<li><a href="#clicking-links">点击链接</a></li>
<li><a href="#text-values-and-attributes">文本、值和属性</a></li>
<li><a href="#using-forms">使用表单</a></li>
<li><a href="#attaching-files">附加文件</a></li>
<li><a href="#using-the-keyboard">使用键盘</a></li>
<li><a href="#using-the-mouse">使用鼠标</a></li>
<li><a href="#javascript-dialogs">JavaScript 对话框</a></li>
<li><a href="#scoping-selectors">作用域选择</a></li>
<li><a href="#waiting-for-elements">等待元素渲染</a></li>
<li><a href="#scrolling-an-element-into-view">将元素滚动到可见区域</a></li>
<li><a href="#making-vue-assertions">Vue 组件断言</a></li>
</ul></li>
<li><a href="#available-assertions">可用的断言</a></li>
<li><a href="#pages">网页</a>
<ul>
<li><a href="#generating-pages">创建网页</a></li>
<li><a href="#configuring-pages">配置网页</a></li>
<li><a href="#navigating-to-pages">导航至网页</a></li>
<li><a href="#shorthand-selectors">选择器简写</a></li>
<li><a href="#page-methods">网页方法</a></li>
</ul></li>
<li><a href="#components">组件</a>
<ul>
<li><a href="#generating-components">创建组件</a></li>
<li><a href="#using-components">使用组件</a></li>
</ul></li>
<li><a href="#continuous-integration">持续集成</a>
<ul>
<li><a href="#running-tests-on-circle-ci">CircleCI</a></li>
<li><a href="#running-tests-on-codeship">Codeship</a></li>
<li><a href="#running-tests-on-heroku-ci">Heroku CI</a></li>
<li><a href="#running-tests-on-travis-ci">Travis CI</a></li>
<li><a href="#running-tests-on-github-actions">GitHub Actions</a></li>
</ul></li>
</ul>
<p><a name="introduction"></a></p>
<h2>介绍</h2>
<p>Laravel Dusk 提供了富有表现力、简单易用的浏览器自动化及测试 API 。默认情况下，Dusk 不需要在你的机器上安装 JDK 或者 Selenium 。而是需要使用单独的 <a href="https://sites.google.com/a/chromium.org/chromedriver/home">ChromeDriver</a> 进行安装。当然，你也可以自由使用其他的兼容 Selenium 的驱动程序。</p>
<p><a name="installation"></a></p>
<h2>安装</h2>
<p>你应该先向你的项目中添加 <code>laravel/dusk</code> Composer 依赖 ：</p>
<pre><code>composer require --dev laravel/dusk</code></pre>
<blockquote>
<p>注意：如果你是手动注册 Dusk 服务提供者，一定 <strong>不能</strong> 在你的生产环境中注册，这样可能会导致一些不守规矩的用户拥有控制你应用的权限。</p>
</blockquote>
<p>安装好 Dusk 包后，运行 <code>dusk:install</code> 命令：</p>
<pre><code>php artisan dusk:install</code></pre>
<p><code>Browser</code> 目录将会在 <code>tests</code> 目录下被创建，并且包含一个测试用例。接下来，在你的 <code>.env</code> 文件中设置 <code>APP_URL</code> 变量。这个值应该与你在浏览器中打开本应用的 URL 相匹配。</p>
<p>要运行测试，使用 <code>dusk</code> 命令。 <code>dusk</code> 命令可以使用与 <code>phpunit</code> 命令同样的参数：</p>
<pre><code>php artisan dusk</code></pre>
<p>如果上次运行 Dusk 命令时测试失败，则可以通过使用 <code>dusk:fails</code> 命令重新运行失败的测试来节省时间：</p>
<pre><code>php artisan dusk:fails</code></pre>
<p><a name="managing-chromedriver-installations"></a></p>
<h3>管理 ChromeDriver 安装</h3>
<p>如果你想安装与 Laravel Dusk 附带版本不同的 ChromeDriver，可以使用 <code>dusk:chrome driver</code> 命令：</p>
<pre><code># 为你的操作系统安装最新版本的 ChromeDriver...
php artisan dusk:chrome-driver

# 为你的操作系统安装指定版本的 ChromeDriver...
php artisan dusk:chrome-driver 74

# 为所有支持的操作系统安装指定版本的 ChromeDriver...
php artisan dusk:chrome-driver --all</code></pre>
<blockquote>
<p>注意：Dusk 要求 <code>ChromeDriver</code> 二进制文件是可执行的。如果在 Dusk 运行时遇到问题，可以使用以下命令确保二进制文件是可执行的：<code>chmod -R 0755 vendor/laravel/dusk/bin</code>。</p>
</blockquote>
<p><a name="using-other-browsers"></a></p>
<h3>使用其他浏览器</h3>
<p>默认情况下， Dusk 使用 Google Chrome 浏览器和一个单独安装的 ChromeDriver 来运行你的浏览器测试。当然，你可以运行你自己的 Selenium 服务，用任何你想用的浏览器来进行测试。</p>
<p>如果要这么做，打开 <code>tests/DuskTestCase.php</code> 文件，这个是应用测试用例的基类。在这个文件中，你可以移除对 <code>startChromeDriver</code> 方法的调用。这样 Dusk 就不会自动启动 ChromeDriver 了。</p>
<pre><code>/**
 * 准备执行 Dusk 测试。
 *
 * @beforeClass
 * @return void
 */
public static function prepare()
{
    // static::startChromeDriver();
}</code></pre>
<p>然后，你可以按照自己的意愿修改 <code>driver</code> 方法来连接到你选定的 URL 和端口。此外，你可以修改 「desired capabilities」（期望能力），它将会被传递给 WebDriver：</p>
<pre><code>/**
 * 创建 RemoteWebDriver 实例。
 *
 * @return \Facebook\WebDriver\Remote\RemoteWebDriver
 */
protected function driver()
{
    return RemoteWebDriver::create(
        'http://localhost:4444/wd/hub', DesiredCapabilities::phantomjs()
    );
}</code></pre>
<p><a name="getting-started"></a></p>
<h2>开始</h2>
<p><a name="generating-tests"></a></p>
<h3>创建测试</h3>
<p>要创建一个 Dusk 测试，可以使用 <code>dusk:make</code> 命令。创建的测试将会被放在 <code>tests/Browser</code> 目录中：</p>
<pre><code>php artisan dusk:make LoginTest</code></pre>
<p><a name="running-tests"></a></p>
<h3>运行测试</h3>
<p>使用 <code>dusk</code> Artisan 命令来运行你的浏览器测试：</p>
<pre><code>php artisan dusk</code></pre>
<p>如果上次运行 dusk 命令时测试失败，则可以通过使用 <code>dusk:fails</code> 命令重新运行失败的测试来节省时间：</p>
<pre><code>php artisan dusk:fails</code></pre>
<p><code>dusk</code> 命令接受任何能让 PHPUnit 正常运行的参数。例如，让你可以在指定 <a href="https://phpunit.de/manual/current/en/appendixes.annotations.html#appendixes.annotations.group">group</a> 中运行测试：</p>
<pre><code>php artisan dusk --group=foo</code></pre>
<h4>手动运行 ChromeDriver</h4>
<p>默认情况下，Dusk 会尝试自动运行 ChromeDriver。如果你在特定的系统中不能运行，可以在运行 <code>dusk</code> 命令前通过手动的方式来运行 ChromeDriver。 如果你选择手动运行 ChromeDriver，你需要在你的 <code>tests/DuskTestCase.php</code> 文件中注释掉下面这一行：</p>
<pre><code>/**
 * 为 Dusk 测试做准备。
 *
 * @beforeClass
 * @return void
 */
public static function prepare()
{
    // static::startChromeDriver();
}</code></pre>
<p>另外， 如果你的 ChromeDriver 运行在不是 9515 的其他端口 ，你需要修改同一个类中的 driver 方法：</p>
<pre><code>/**
 * 创建 RemoteWebDriver 实例。
 *
 * @return \Facebook\WebDriver\Remote\RemoteWebDriver
 */
protected function driver()
{
    return RemoteWebDriver::create(
        'http://localhost:9515', DesiredCapabilities::chrome()
    );
}</code></pre>
<p><a name="environment-handling"></a></p>
<h3>环境处理</h3>
<p>为了让 Dusk 使用自己的环境文件来运行测试，你需要在项目根目录创建一个 <code>.env.dusk.{environment}</code> 文件。例如，你想用 <code>local</code> 环境来运行 <code>dusk</code> 命令，你需要创建一个 <code>.env.dusk.local</code> 文件。</p>
<p>运行测试的时候，Dusk 会备份你的 <code>.env</code> 文件并且重命名你的 Dusk 环境文件为 <code>.env</code>。当测试结束后，它会恢复你的 <code>.env</code> 文件。</p>
<p><a name="creating-browsers"></a></p>
<h3>创建浏览器</h3>
<p>首先让我们来写一个测试用例，这个例子可以验证我们是否能够登录系统。生成测试用例之后，我们可以对它稍作调整并让它可以跳转到登录界面，输入登录信息之后，点击「登录」按钮。我们通过 <code>browse</code> 方法来创建一个浏览器实例：</p>
<pre><code>&lt;?php

namespace Tests\Browser;

use App\Models\User;
use Illuminate\Foundation\Testing\DatabaseMigrations;
use Laravel\Dusk\Chrome;
use Tests\DuskTestCase;

class ExampleTest extends DuskTestCase
{
    use DatabaseMigrations;

    /**
     * 一个基本的浏览器测试示例
     *
     * @return void
     */
    public function testBasicExample()
    {

        $user = User::factory()-&gt;create([
            'email' =&gt; 'taylor@laravel.com',
        ]);

        $this-&gt;browse(function ($browser) use ($user) {
            $browser-&gt;visit('/login')
                    -&gt;type('email', $user-&gt;email)
                    -&gt;type('password', 'password')
                    -&gt;press('Login')
                    -&gt;assertPathIs('/home');
        });
    }
}</code></pre>
<p>如上例所示，<code>browse</code> 方法接收了一个回调参数。Dusk 会自动将这个浏览器实例注入到回调过程中，而且这个浏览器实例可以和你的应用进行交互和断言。</p>
<h4>创建多个浏览器</h4>
<p>有时候你可能需要多个浏览器才能正确的进行测试。例如，使用多个浏览器测试通过 websockets 进行通讯的在线聊天页面。想要创建多个浏览器，需要在 <code>browse</code> 方法的回调中，用名字来区分浏览器实例，然后传给回调去「申请」多个浏览器实例：</p>
<pre><code>$this-&gt;browse(function ($first, $second) {
    $first-&gt;loginAs(User::find(1))
          -&gt;visit('/home')
          -&gt;waitForText('Message');

    $second-&gt;loginAs(User::find(2))
           -&gt;visit('/home')
           -&gt;waitForText('Message')
           -&gt;type('message', 'Hey Taylor')
           -&gt;press('Send');

    $first-&gt;waitForText('Hey Taylor')
          -&gt;assertSee('Jeffrey Way');
});</code></pre>
<h4>改变浏览器窗口大小</h4>
<p>你可以使用 <code>resize</code> 方法去调整浏览器的窗口大小：</p>
<pre><code>$browser-&gt;resize(1920, 1080);</code></pre>
<p><code>maximize</code> 方法可以将浏览器窗口最大化：</p>
<pre><code>$browser-&gt;maximize();</code></pre>
<p><code>fitContent</code> 方法将自动适配浏览器的窗口大小和页面内容的尺寸：</p>
<pre><code>$browser-&gt;fitContent();</code></pre>
<p>测试失败时，Dusk 会自动将浏览器窗口缩放至内容大小并拍下屏幕快照，你可以通过调用 <code>disableFitOnFailure</code> 方法来禁用这一特性：</p>
<pre><code>$browser-&gt;disableFitOnFailure();</code></pre>
<p>你可以使用 <code>move</code> 方法将浏览器窗口移动到屏幕上的其他位置：</p>
<pre><code>$browser-&gt;move(100, 100);</code></pre>
<p><a name="browser-macros"></a></p>
<h3>浏览器宏</h3>
<p>如果你想定义一个可以在各种测试中重复使用的自定义浏览器方法，可以在 <code>Browser</code> 类中使用 <code>macro</code> 方法。通常，你应该从 <a href="/docs/laravel_8_zh/providers.html">服务提供者</a> 的 <code>boot</code> 方法中调用它：</p>
<pre><code>&lt;?php

namespace App\Providers;

use Illuminate\Support\ServiceProvider;
use Laravel\Dusk\Browser;

class DuskServiceProvider extends ServiceProvider
{
    /**
     * 注册Dusk的浏览器宏。
     *
     * @return void
     */
    public function boot()
    {
        Browser::macro('scrollToElement', function ($element = null) {
            $this-&gt;script("$('html, body').animate({ scrollTop: $('$element').offset().top }, 0);");

            return $this;
        });
    }
}</code></pre>
<p><code>macro</code> 函数接收方法名作为其第一个参数，并接收闭包作为其第二个参数。 将宏作为 <code>Browser</code> 实现上的方法调用宏时，将执行宏的闭包：</p>
<pre><code>$this-&gt;browse(function ($browser) use ($user) {
    $browser-&gt;visit('/pay')
            -&gt;scrollToElement('#credit-card-details')
            -&gt;assertSee('Enter Credit Card Details');
});</code></pre>
<p><a name="authentication"></a></p>
<h3>用户认证</h3>
<p>我们经常会测试需要身份验证的页面，你可以使用 Dusk 的 <code>loginAs</code> 方法来避免在每次测试期间与登录页面进行交互。 <code>loginAs</code> 方法接收用户 ID 或者用户模型实例：</p>
<pre><code>$this-&gt;browse(function ($first, $second) {
    $first-&gt;loginAs(User::find(1))
          -&gt;visit('/home');
});</code></pre>
<blockquote>
<p>注意：使用<code>loginAs</code>方法后，用户会话在文件中的所有测试被维护。</p>
</blockquote>
<p><a name="migrations"></a></p>
<h3>数据库迁移</h3>
<p>当你的测试需要迁移时，例如上面的身份验证示例，不能用 <code>RefreshDatabase</code> trait。 <code>RefreshDatabase</code> 特征利用了数据库事务，该事务不适用于HTTP请求。 而是使用 <code>DatabaseMigrations</code> trait ：</p>
<pre><code>&lt;?php

namespace Tests\Browser;

use App\Models\User;
use Illuminate\Foundation\Testing\DatabaseMigrations;
use Laravel\Dusk\Chrome;
use Tests\DuskTestCase;

class ExampleTest extends DuskTestCase
{
    use DatabaseMigrations;
}</code></pre>
<p><a name="cookies"></a></p>
<h3>Cookies</h3>
<p>你可以使用 <code>cookie</code> 方法来获取或者设置加密过的 cookie 的值：</p>
<pre><code>$browser-&gt;cookie('name');

$browser-&gt;cookie('name', 'Taylor');</code></pre>
<p>使用 <code>plainCookie</code> 则可以获取或者设置未加密过的 cookie 的值：</p>
<pre><code>$browser-&gt;plainCookie('name');

$browser-&gt;plainCookie('name', 'Taylor');</code></pre>
<p>你可以使用 <code>deleteCookie</code> 方法删除指定的 cookie：</p>
<pre><code>$browser-&gt;deleteCookie('name');</code></pre>
<p><a name="taking-a-screenshot"></a></p>
<h3>获取截图</h3>
<p>你可以使用 <code>screenshot</code> 方法来截图并将其指定文件名存储，所有截图都将存放在 <code>tests/Browser/screenshots</code> 目录下：</p>
<pre><code>$browser-&gt;screenshot('filename');</code></pre>
<p><a name="storing-console-output-to-disk"></a></p>
<h3>控制台输出结果保存到硬盘</h3>
<p>你可以使用 <code>storeConsoleLog</code> 方法将控制台输出指定文件名并写入磁盘，控制台输出默认存放在 <code>tests/Browser/console</code> 目录下：</p>
<pre><code>$browser-&gt;storeConsoleLog('filename');</code></pre>
<p><a name="storing-page-source-to-disk"></a></p>
<h3>页面源码保存到硬盘</h3>
<p>你可以使用 <code>storeSource</code> 方法将页面当前源代码指定文件名并写入磁盘，页面源代码默认会存放到 <code>tests/Browser/source</code> 目录：</p>
<pre><code>$browser-&gt;storeSource('filename');</code></pre>
<p><a name="interacting-with-elements"></a></p>
<h2>与元素交互</h2>
<p><a name="dusk-selectors"></a></p>
<h3>Dusk 选择器</h3>
<p>编写 Dusk 测试最困难的部分之一就是选择良好的 CSS 选择器与元素进行交互。 随着时间的推移，前端的更改可能会导致如下所示的 CSS 选择器无法通过测试：</p>
<pre><code>// HTML...

&lt;button&gt;Login&lt;/button&gt;

// 测试...

$browser-&gt;click('.login-page .container div &gt; button');</code></pre>
<p>Dusk 选择器可以让你专注于编写有效的测试，而不必记住 CSS 选择器。要定义一个选择器，你需要添加一个 <code>dusk</code> 属性在 HTML 元素中。然后在选择器前面加上 <code>@</code> 用来在 Dusk 测试中操作元素：</p>
<pre><code>// HTML...

&lt;button dusk="login-button"&gt;Login&lt;/button&gt;

// 测试...

$browser-&gt;click('@login-button');</code></pre>
<p><a name="clicking-links"></a></p>
<h3>点击链接</h3>
<p>要点击链接，可以在浏览器实例下使用 <code>clickLink</code> 方法。 <code>clickLink</code> 方法将点击指定文本的链接：</p>
<pre><code>$browser-&gt;clickLink($linkText);</code></pre>
<p>您可以使用 <code>seeLink</code> 方法来确定具有给定显示文本的链接在页面上是否可见：</p>
<pre><code>if ($browser-&gt;seeLink($linkText)) {
    // ...
}</code></pre>
<blockquote>
<p>注意：这些方法与 jQuery 交互。 如果页面上没有 jQuery ， Dusk 会自动将其注入到页面中，以便在测试期间可用。</p>
</blockquote>
<p><a name="text-values-and-attributes"></a></p>
<h3>文本、值 &amp; 属性</h3>
<h4>获取 &amp; 设置值</h4>
<p>Dusk 提供了多个方法用于和页面元素的当前显示文本、值和属性进行交互，例如，要获取匹配指定选择器的元素的「值」，使用 <code>value</code> 方法：</p>
<pre><code>// 获取值...
$value = $browser-&gt;value('selector');

// 设置值...
$browser-&gt;value('selector', 'value');</code></pre>
<p>你可以使用 <code>inputValue</code> 方法来获取包含指定字段名称的输入元素的「值」：</p>
<pre><code>// 获取输入元素的值...
$inputValue = $browser-&gt;inputValue('field');</code></pre>
<h4>获取文本</h4>
<p><code>text</code> 方法可以用于获取匹配指定选择器元素文本：</p>
<pre><code>$text = $browser-&gt;text('selector');</code></pre>
<h4>获取属性</h4>
<p>最后，<code>attribute</code> 方法可以用于获取匹配指定选择器元素属性：</p>
<pre><code>$attribute = $browser-&gt;attribute('selector', 'value');</code></pre>
<p><a name="using-forms"></a></p>
<h3>使用表单</h3>
<h4>输入值</h4>
<p>Dusk提供了多种方法来与表单和输入元素进行交互。首先，让我们看一个在字段中输入值的示例：</p>
<pre><code>$browser-&gt;type('email', 'taylor@laravel.com');</code></pre>
<p>注意，尽管该方法在需要时接收，但是我们不需要将 CSS 选择器传递给 <code>type</code> 方法。如果没有提供 CSS 选择器，Dusk 会搜索包含指定 <code>name</code> 属性的输入字段，最后，Dusk 会尝试查找包含指定 <code>name</code> 属性的 <code>textarea</code> 。</p>
<p>要想将文本附加到一个字段之后而且不清除其内容， 你可以使用 <code>append</code> 方法：</p>
<pre><code>$browser-&gt;type('tags', 'foo')
        -&gt;append('tags', ', bar, baz');</code></pre>
<p>你可以使用 clear 方法清除输入值：</p>
<pre><code>$browser-&gt;clear('email');</code></pre>
<p>你可以使用<code>typeSlowly</code>方法指示 Dusk 缓慢键入。 默认情况下，Dusk 在两次按键之间将暂停100毫秒。 要自定义按键之间的时间量，你可以将适当的毫秒数作为方法的第二个参数传递：</p>
<pre><code>$browser-&gt;typeSlowly('mobile', '+1 (202) 555-5555');

$browser-&gt;typeSlowly('mobile', '+1 (202) 555-5555', 300);</code></pre>
<p>你可以使用 <code>appendSlowly</code> 方法缓慢添加文本：</p>
<pre><code>$browser-&gt;type('tags', 'foo')
        -&gt;appendSlowly('tags', ', bar, baz');</code></pre>
<h4>下拉菜单</h4>
<p>需要在下拉菜单中选择值，你可以使用 <code>select</code> 方法。 类似于  <code>type</code>  方法， <code>select</code> 方法并不是一定要传入 CSS 选择器。 当使用 <code>select</code> 方法时，你应该传递选项实际的值而不是它的显示文本：</p>
<pre><code>$browser-&gt;select('size', 'Large');</code></pre>
<p>你也可以通过省略第二个参数来随机选择一个选项：</p>
<pre><code>$browser-&gt;select('size');</code></pre>
<h4>复选框</h4>
<p>使用「check」 复选框时，你可以使用 <code>check</code> 方法。 像其他许多与input 相关的方法，并不是必须传入 CSS 选择器。 如果准确的选择器无法找到的时候，Dusk 会搜索能够与 <code>name</code> 属性匹配的复选框：</p>
<pre><code>$browser-&gt;check('terms');

$browser-&gt;uncheck('terms');</code></pre>
<h4>单选按钮</h4>
<p>使用 「select」中单选按钮选项时，你可以使用 <code>radio</code> 这个方法。 像很多其他的与输入相关的方法一样， 它也并不是必须传入 CSS 选择器。如果准确的选择器无法被找到的时候， Dusk 会搜索能够与 <code>name</code> 属性或者 <code>value</code> 属性相匹配的单选按钮：</p>
<pre><code>$browser-&gt;radio('version', 'php7');</code></pre>
<p><a name="attaching-files"></a></p>
<h3>附件</h3>
<p><code>attach</code> 方法可以附加一个文件到  <code>file</code>  input 元素中。 像很多其他的与输入相关的方法一样，他也并不是必须传入CSS 选择器。如果准确的选择器没有被找到的时候， Dusk 会搜索与 <code>name</code> 属性匹配的文件输入框：</p>
<pre><code>$browser-&gt;attach('photo', __DIR__.'/photos/me.png');</code></pre>
<blockquote>
<p>注意：attach 方法需要使用 PHP <code>Zip</code>  扩展，你的服务器必须安装了此扩展。</p>
</blockquote>
<p><a name="using-the-keyboard"></a></p>
<h3>使用键盘</h3>
<p><code>keys</code> 方法让你可以再指定元素中输入比 <code>type</code> 方法更加复杂的输入序列。例如，你可以在输入值的同时按下按键。在这个例子中,  输入 <code>taylor</code> 时， <code>shift</code> 键也同时被按下。当 <code>taylor</code> 输入完之后， 将会输入 <code>otwell</code> 而不会按下任何按键：</p>
<pre><code>$browser-&gt;keys('selector', ['{shift}', 'taylor'], 'otwell');</code></pre>
<p>你甚至可以在你的应用中选中某个元素之后按下「快捷键」：</p>
<pre><code>$browser-&gt;keys('.app', ['{command}', 'j']);</code></pre>
<blockquote>
<p>技巧：所有包在 <code>{}</code> 中的键盘按键，都对应定义于 <code>Facebook\WebDriver\WebDriverKeys</code> 类中, 你可以在 <a href="https://github.com/php-webdriver/php-webdriver/blob/master/lib/WebDriverKeys.php">GitHub</a>中找到。</p>
</blockquote>
<p><a name="using-the-mouse"></a></p>
<h3>使用鼠标</h3>
<h4>点击元素</h4>
<p><code>click</code> 方法可用于「点击」与给定选择器匹配的元素：</p>
<pre><code>$browser-&gt;click('.selector');</code></pre>
<p><code>clickAtXPath</code> 方法可用于「单击」与给定 XPath 表达式匹配的元素：</p>
<pre><code>$browser-&gt;clickAtXPath('//div[@class = "selector"]');</code></pre>
<p><code>clickAtPoint</code> 方法可用于「点击」相对于浏览器可视区域的给定坐标对上的最高元素：</p>
<pre><code>$browser-&gt;clickAtPoint(0, 0);</code></pre>
<p><code>doubleClick</code> 方法可用于模拟鼠标的双击：</p>
<pre><code>$browser-&gt;doubleClick();</code></pre>
<p><code>rightClick</code> 方法可用于模拟鼠标的右击：</p>
<pre><code>$browser-&gt;rightClick();

$browser-&gt;rightClick('.selector');</code></pre>
<p><code>clickAndHold</code> 方法可用于模拟被单击并按住的鼠标按钮。 随后调用<code>releaseMouse</code> 方法将撤消此行为并释放鼠标按钮：</p>
<pre><code>$browser-&gt;clickAndHold()
        -&gt;pause(1000)
        -&gt;releaseMouse();</code></pre>
<h4>鼠标悬停</h4>
<p><code>mouseover</code> 方法可用于与给定选择器匹配的元素的鼠标悬停动作：</p>
<pre><code>$browser-&gt;mouseover('.selector');</code></pre>
<h4>拖放</h4>
<p><code>drag</code> 方法用于将与指定选择器匹配的元素拖到其它元素：</p>
<pre><code>$browser-&gt;drag('.from-selector', '.to-selector');</code></pre>
<p>或者，可以在单一方向上拖动元素：</p>
<pre><code>$browser-&gt;dragLeft('.selector', 10);
$browser-&gt;dragRight('.selector', 10);
$browser-&gt;dragUp('.selector', 10);
$browser-&gt;dragDown('.selector', 10);</code></pre>
<p>最后，你可以将元素拖动给定的偏移量：</p>
<pre><code>$browser-&gt;dragOffset('.selector', 10, 10);</code></pre>
<p><a name="javascript-dialogs"></a></p>
<h3>JavaScript 对话框</h3>
<p>Dusk 提供了几种与 JavaScript 对话框交互的方法：</p>
<pre><code>// 等待对话框显示：
$browser-&gt;waitForDialog($seconds = null);

// 断言对话框已经显示，并且其消息与给定值匹配：
$browser-&gt;assertDialogOpened('value');

// 在打开的 JavaScript 提示对话框中输入给定值：
$browser-&gt;typeInDialog('Hello World');</code></pre>
<p>通过点击确定按钮关闭打开的 JavaScript 对话框：</p>
<pre><code>$browser-&gt;acceptDialog();</code></pre>
<p>通过点击取消按钮关闭打开的 JavaScript 对话框（仅对确认对话框有效）：</p>
<pre><code>$browser-&gt;dismissDialog();</code></pre>
<p><a name="scoping-selectors"></a></p>
<h3>选择器作用范围</h3>
<p>有时可能希望在给定的选择器范围内执行多个操作。比如，可能想要断言表格中存在某些文本，然后点击表格中的一个按钮。可以使用 <code>with</code> 方法实现此需求。回调函数内所有被执行的操作都被限定在原始的选择器上：
有时，您可能希望在给定选择器内确定所有操作范围的同时执行多项操作。 例如，您可能希望断言某些文本仅存在于表中，然后单击该表中的按钮。 您可以使用“ with”方法来完成此操作。 在给<code>with</code>方法的回调中执行的所有操作都将限于原始选择器：</p>
<pre><code>$browser-&gt;with('.table', function ($table) {
    $table-&gt;assertSee('Hello World')
          -&gt;clickLink('Delete');
});</code></pre>
<p>你可能偶尔需要在当前范围之外执行断言。 你可以使用 <code>elsewhere</code> 方法来完成此操作：</p>
<pre><code> $browser-&gt;with('.table', function ($table) {
    // Current scope is `body .table`...
    $browser-&gt;elsewhere('.page-title', function ($title) {
        // Current scope is `body .page-title`...
        $title-&gt;assertSee('Hello World');
    });
 });</code></pre>
<p><a name="waiting-for-elements"></a></p>
<h3>等待元素</h3>
<p>在测试大面积使用 JavaScript 的应用时，在进行测试之前，经常需要「等待」指定元素或数据可用。Dusk 使之更容易。使用一系列方法，可以等到页面元素可用，甚至给定的 JavaScript 表达式执行结果为 <code>true</code>。</p>
<h4>等待</h4>
<p>如果需要测试暂停指定的毫秒数，可以使用 <code>pause</code> 方法：</p>
<pre><code>$browser-&gt;pause(1000);</code></pre>
<h4>等待选择器</h4>
<p><code>waitFor</code> 方法可以用于暂停执行测试，直到页面上与给定 CSS 选择器匹配的元素被显示。默认情况下，将在暂停超过 5 秒后抛出异常。如果有必要，可以传递自定义超时时长作为其第二个参数：</p>
<pre><code>// 等待选择器 5 秒时间...
$browser-&gt;waitFor('.selector');

// 等待选择器 1 秒时间...
$browser-&gt;waitFor('.selector', 1);</code></pre>
<p>你也可以等待指定选择器从页面消失:</p>
<pre><code>$browser-&gt;waitUntilMissing('.selector');

$browser-&gt;waitUntilMissing('.selector', 1);</code></pre>
<h4>选择器可用时限定作用域范围</h4>
<p>有时, 你或许希望等待给定选择器, 然后与匹配选择器的元素进行交互。例如，你可能希望等到模态窗口可用，然后在模态窗口中点击「确定」按钮。在这种情况下,可以使用 <code>whenAvailable</code> 方法。给定回调内的所有要执行的元素操作都将被限定在起始选择器上:</p>
<pre><code>$browser-&gt;whenAvailable('.modal', function ($modal) {
    $modal-&gt;assertSee('Hello World')
          -&gt;press('OK');
});</code></pre>
<h4>等待文本</h4>
<p><code>waitForText</code> 方法可以用于等待页面上给定文字被显示：</p>
<pre><code>// 等待指定文本删除 5 秒时间...
$browser-&gt;waitForText('Hello World');

// 等待指定文本删除 1 秒时间...
$browser-&gt;waitForText('Hello World', 1);</code></pre>
<p>你可以使用 <code>waitUntilMissingText</code> 方法来等待，直到显示的文本已从页面中删除为止:</p>
<pre><code>// 等待指定文本删除 5 秒时间...
$browser-&gt;waitUntilMissingText('Hello World');

// 等待指定文本删除 1 秒时间...
$browser-&gt;waitUntilMissingText('Hello World', 1);</code></pre>
<h4>等待链接</h4>
<p><code>waitForLink</code> 方法用于等待给定链接文字在页面上显示:</p>
<pre><code>// 等待指定链接 5 秒时间...
$browser-&gt;waitForLink('Create');

// 等待指定链接 1 秒时间...
$browser-&gt;waitForLink('Create', 1);</code></pre>
<h4>等待页面跳转</h4>
<p>在给出类似 <code>$browser-&gt;assertPathIs('/home')</code> 路径断言时, 如果 <code>window.location.pathname</code> 被异步更新，断言就会失败。可以使用 <code>waitForLocation</code> 方法等待页面跳转到给定路径：</p>
<pre><code>$browser-&gt;waitForLocation('/secret');</code></pre>
<p>还可以等待被命名的路由跳转：</p>
<pre><code>$browser-&gt;waitForRoute($routeName, $parameters);</code></pre>
<h4>等待页面重新加载</h4>
<p>如果要在页面重新加载后断言，可以使用 <code>waitForReload</code> 方法：</p>
<pre><code>$browser-&gt;click('.some-action')
        -&gt;waitForReload()
        -&gt;assertSee('something');</code></pre>
<h4>等待 JavaScript 表达式</h4>
<p>有时会希望暂停执行测试，直到给定的 JavaScript 表达式执行结果为 <code>true</code>。可以使用 <code>waitUntil</code> 方法轻易地达成此目的。传送一个表达式给此方法，不需要包含 <code>return</code> 关键字或者结束分号：</p>
<pre><code>// 等待表达式为 true 5 秒时间...
$browser-&gt;waitUntil('App.dataLoaded');

$browser-&gt;waitUntil('App.data.servers.length &gt; 0');

// 等待表达式为 true 1 秒时间...
$browser-&gt;waitUntil('App.data.servers.length &gt; 0', 1);</code></pre>
<h4>等待 Vue 表达式</h4>
<p>下述方法可用于一直等待，直到一个给定的 Vue 组件属性有特定的值：</p>
<pre><code>// 一直等待，直到组件属性有特定的值
$browser-&gt;waitUntilVue('user.name', 'Taylor', '@user');

// 一直等待，直到组件不包含给定的值
$browser-&gt;waitUntilVueIsNot('user.name', null, '@user');</code></pre>
<h4>等待回调函数</h4>
<p>Dusk 中的许多 &quot;wait&quot; 方法都依赖于底层方法 <code>waitUsing</code>。你可以直接用这个方法去等待一个回调函数返回 <code>true</code>。<code>waitUsing</code> 方法接收一个最大的等待秒数，闭包执行的内部时间，闭包，以及一个可选的失败信息：</p>
<pre><code>$browser-&gt;waitUsing(10, 1, function () use ($something) {
    return $something-&gt;isReady();
}, "Something wasn't ready in time.");</code></pre>
<p><a name="scrolling-an-element-into-view"></a></p>
<h3>滚动到视图中</h3>
<p>有时您可能无法单击某个元素，因为该元素在浏览器的可见区域之外。 <code>scrollIntoView</code> 方法可以将元素滚动到浏览器可视窗口内：</p>
<pre><code>$browser-&gt;scrollIntoView('selector')
        -&gt;click('selector');</code></pre>
<p><a name="making-vue-assertions"></a></p>
<h3>创建 Vue 断言</h3>
<p>Dusk 甚至还允许你对 <a href="https://vuejs.org">Vue</a> 组件数据的状态进行断言。比如：假设你的应用有如下的 Vue 组件：</p>
<pre><code>// HTML...

&lt;profile dusk="profile-component"&gt;&lt;/profile&gt;

//组件的定义

Vue.component('profile', {
    template: '&lt;div&gt;{{ user.name }}&lt;/div&gt;',

    data: function () {
        return {
            user: {
                name: 'Taylor'
            }
        };
    }
});</code></pre>
<p>你可以像这样对 Vue 组件状态进行断言：</p>
<pre><code>/**
 * Vue 基础测试案例
 *
 * @return void
 */
public function testVue()
{
    $this-&gt;browse(function (Browser $browser) {
        $browser-&gt;visit('/')
                -&gt;assertVue('user.name', 'Taylor', '@profile-component');
    });
}</code></pre>
<p><a name="available-assertions"></a></p>
<h2>可用的断言</h2>
<p>Dusk 提供了各种你可以对应用使用的断言。所有可用的断言列表如下：</p>
<style>
    .collection-method-list > p {
        column-count: 3; -moz-column-count: 3; -webkit-column-count: 3;
        column-gap: 2em; -moz-column-gap: 2em; -webkit-column-gap: 2em;
    }

    .collection-method-list a {
        display: block;
    }
</style>
<div class="collection-method-list">
<p><a href="#assert-title">assertTitle</a>
<a href="#assert-title-contains">assertTitleContains</a>
<a href="#assert-url-is">assertUrlIs</a>
<a href="#assert-scheme-is">assertSchemeIs</a>
<a href="#assert-scheme-is-not">assertSchemeIsNot</a>
<a href="#assert-host-is">assertHostIs</a>
<a href="#assert-host-is-not">assertHostIsNot</a>
<a href="#assert-port-is">assertPortIs</a>
<a href="#assert-port-is-not">assertPortIsNot</a>
<a href="#assert-path-begins-with">assertPathBeginsWith</a>
<a href="#assert-path-is">assertPathIs</a>
<a href="#assert-path-is-not">assertPathIsNot</a>
<a href="#assert-route-is">assertRouteIs</a>
<a href="#assert-query-string-has">assertQueryStringHas</a>
<a href="#assert-query-string-missing">assertQueryStringMissing</a>
<a href="#assert-fragment-is">assertFragmentIs</a>
<a href="#assert-fragment-begins-with">assertFragmentBeginsWith</a>
<a href="#assert-fragment-is-not">assertFragmentIsNot</a>
<a href="#assert-has-cookie">assertHasCookie</a>
<a href="#assert-has-plain-cookie">assertHasPlainCookie</a>
<a href="#assert-cookie-missing">assertCookieMissing</a>
<a href="#assert-plain-cookie-missing">assertPlainCookieMissing</a>
<a href="#assert-cookie-value">assertCookieValue</a>
<a href="#assert-plain-cookie-value">assertPlainCookieValue</a>
<a href="#assert-see">assertSee</a>
<a href="#assert-dont-see">assertDontSee</a>
<a href="#assert-see-in">assertSeeIn</a>
<a href="#assert-dont-see-in">assertDontSeeIn</a>
<a href="#assert-script">assertScript</a>
<a href="#assert-source-has">assertSourceHas</a>
<a href="#assert-source-missing">assertSourceMissing</a>
<a href="#assert-see-link">assertSeeLink</a>
<a href="#assert-dont-see-link">assertDontSeeLink</a>
<a href="#assert-input-value">assertInputValue</a>
<a href="#assert-input-value-is-not">assertInputValueIsNot</a>
<a href="#assert-checked">assertChecked</a>
<a href="#assert-not-checked">assertNotChecked</a>
<a href="#assert-radio-selected">assertRadioSelected</a>
<a href="#assert-radio-not-selected">assertRadioNotSelected</a>
<a href="#assert-selected">assertSelected</a>
<a href="#assert-not-selected">assertNotSelected</a>
<a href="#assert-select-has-options">assertSelectHasOptions</a>
<a href="#assert-select-missing-option">assertSelectMissingOption</a>
<a href="#assert-select-missing-options">assertSelectMissingOptions</a>
<a href="#assert-select-has-option">assertSelectHasOption</a>
<a href="#assert-value">assertValue</a>
<a href="#assert-attribute">assertAttribute</a>
<a href="#assert-aria-attribute">assertAriaAttribute</a>
<a href="#assert-data-attribute">assertDataAttribute</a>
<a href="#assert-visible">assertVisible</a>
<a href="#assert-present">assertPresent</a>
<a href="#assert-missing">assertMissing</a>
<a href="#assert-dialog-opened">assertDialogOpened</a>
<a href="#assert-enabled">assertEnabled</a>
<a href="#assert-disabled">assertDisabled</a>
<a href="#assert-button-enabled">assertButtonEnabled</a>
<a href="#assert-button-disabled">assertButtonDisabled</a>
<a href="#assert-focused">assertFocused</a>
<a href="#assert-not-focused">assertNotFocused</a>
<a href="#assert-authenticated">assertAuthenticated</a>
<a href="#assert-guest">assertGuest</a>
<a href="#assert-authenticated-as">assertAuthenticatedAs</a>
<a href="#assert-vue">assertVue</a>
<a href="#assert-vue-is-not">assertVueIsNot</a>
<a href="#assert-vue-contains">assertVueContains</a>
<a href="#assert-vue-does-not-contain">assertVueDoesNotContain</a></p>
</div>
<p><a name="assert-title"></a></p>
<h4>assertTitle</h4>
<p>断言页面的标题（title）为给定值：</p>
<pre><code>$browser-&gt;assertTitle($title);</code></pre>
<p><a name="assert-title-contains"></a></p>
<h4>assertTitleContains</h4>
<p>断言页面标题（title）包含给定值：</p>
<pre><code>$browser-&gt;assertTitleContains($title);</code></pre>
<p><a name="assert-url-is"></a></p>
<h4>assertUrlIs</h4>
<p>断言当前的 URL（不包含 query 字符串）满足给定的字符串：</p>
<pre><code>$browser-&gt;assertUrlIs($url);</code></pre>
<p><a name="assert-scheme-is"></a></p>
<h4>assertSchemeIs</h4>
<p>断言当前的 URL scheme 满足给定的 scheme：</p>
<pre><code>$browser-&gt;assertSchemeIs($scheme);</code></pre>
<p><a name="assert-scheme-is-not"></a></p>
<h4>assertSchemeIsNot</h4>
<p>断言当前的 URL scheme 不满足给定的 scheme：</p>
<pre><code>$browser-&gt;assertSchemeIsNot($scheme);</code></pre>
<p><a name="assert-host-is"></a></p>
<h4>assertHostIs</h4>
<p>断言当前的 URL host 满足给定的 host：</p>
<pre><code>$browser-&gt;assertHostIs($host);</code></pre>
<p><a name="assert-host-is-not"></a></p>
<h4>assertHostIsNot</h4>
<p>断言当前的 URL host 不满足给定的 host：</p>
<pre><code>$browser-&gt;assertHostIsNot($host);</code></pre>
<p><a name="assert-port-is"></a></p>
<h4>assertPortIs</h4>
<p>断言当前的 URL 端口满足给定的端口：</p>
<pre><code>$browser-&gt;assertPortIs($port);</code></pre>
<p><a name="assert-port-is-not"></a></p>
<h4>assertPortIsNot</h4>
<p>断言当前的 URL 端口不满足给定的端口：</p>
<pre><code>$browser-&gt;assertPortIsNot($port);</code></pre>
<p><a name="assert-path-begins-with"></a></p>
<h4>assertPathBeginsWith</h4>
<p>断言当前的 URL 以给定的字符串开头：</p>
<pre><code>$browser-&gt;assertPathBeginsWith($path);</code></pre>
<p><a name="assert-path-is"></a></p>
<h4>assertPathIs</h4>
<p>断言当前的路径满足给定的路径：</p>
<pre><code>$browser-&gt;assertPathIs('/home');</code></pre>
<p><a name="assert-path-is-not"></a></p>
<h4>assertPathIsNot</h4>
<p>断言当前的路径不满足给定的路径：</p>
<pre><code>$browser-&gt;assertPathIsNot('/home');</code></pre>
<p><a name="assert-route-is"></a></p>
<h4>assertRouteIs</h4>
<p>断言给定的 URL 不满足给定的命名路由的 URL：</p>
<pre><code>$browser-&gt;assertRouteIs($name, $parameters);</code></pre>
<p><a name="assert-query-string-has"></a></p>
<h4>assertQueryStringHas</h4>
<p>断言给定的 query 参数存在：</p>
<pre><code>$browser-&gt;assertQueryStringHas($name);</code></pre>
<p>断言给定的 query 参数存在，并且是给定的值：</p>
<pre><code>$browser-&gt;assertQueryStringHas($name, $value);</code></pre>
<p><a name="assert-query-string-missing"></a></p>
<h4>assertQueryStringMissing</h4>
<p>断言给定的 query 参数不存在：</p>
<pre><code>$browser-&gt;assertQueryStringMissing($name);</code></pre>
<p><a name="assert-fragment-is"></a></p>
<h4>assertFragmentIs</h4>
<p>断言当前的 fragment 满足给定的 fragment：</p>
<pre><code>$browser-&gt;assertFragmentIs('anchor');</code></pre>
<p><a name="assert-fragment-begins-with"></a></p>
<h4>assertFragmentBeginsWith</h4>
<p>断言当前的 fragment 以给定的 fragment 开头：</p>
<pre><code>$browser-&gt;assertFragmentBeginsWith('anchor');</code></pre>
<p><a name="assert-fragment-is-not"></a></p>
<h4>assertFragmentIsNot</h4>
<p>断言当前的 fragment 不满足给定的 fragment：</p>
<pre><code>$browser-&gt;assertFragmentIsNot('anchor');</code></pre>
<p><a name="assert-has-cookie"></a></p>
<h4>assertHasCookie</h4>
<p>断言给定的 cookie 存在：</p>
<pre><code>$browser-&gt;assertHasCookie($name);</code></pre>
<p><a name="assert-has-plain-cookie"></a></p>
<h4>assertHasPlainCookie</h4>
<p>断言存在给定的未加密cookie：</p>
<pre><code>$browser-&gt;assertHasPlainCookie($name);</code></pre>
<p><a name="assert-cookie-missing"></a></p>
<h4>assertCookieMissing</h4>
<p>断言给定的 cookie 不存在：</p>
<pre><code>$browser-&gt;assertCookieMissing($name);</code></pre>
<p><a name="assert-plain-cookie-missing"></a></p>
<h4>assertPlainCookieMissing</h4>
<p>断言不存在给定的未加密cookie：</p>
<pre><code>$browser-&gt;assertPlainCookieMissing($name);</code></pre>
<p><a name="assert-cookie-value"></a></p>
<h4>assertCookieValue</h4>
<p>断言加密的cookie具有给定值：</p>
<pre><code>$browser-&gt;assertCookieValue($name, $value);</code></pre>
<p><a name="assert-plain-cookie-value"></a></p>
<h4>assertPlainCookieValue</h4>
<p>断言未加密的cookie具有给定值：</p>
<pre><code>$browser-&gt;assertPlainCookieValue($name, $value);</code></pre>
<p><a name="assert-see"></a></p>
<h4>assertSee</h4>
<p>断言在页面中有给定的文本：</p>
<pre><code>$browser-&gt;assertSee($text);</code></pre>
<p><a name="assert-dont-see"></a></p>
<h4>assertDontSee</h4>
<p>断言在页面中没有给定的文本：</p>
<pre><code>$browser-&gt;assertDontSee($text);</code></pre>
<p><a name="assert-see-in"></a></p>
<h4>assertSeeIn</h4>
<p>断言在选择器中有给定的文本：</p>
<pre><code>$browser-&gt;assertSeeIn($selector, $text);</code></pre>
<p><a name="assert-dont-see-in"></a></p>
<h4>assertDontSeeIn</h4>
<p>断言在选择器中不存在给定的字符串：</p>
<pre><code>$browser-&gt;assertDontSeeIn($selector, $text);</code></pre>
<p><a name="assert-script"></a></p>
<h4>assertScript</h4>
<p>断言给定的 JavaScript 表达式的值为给定的值：</p>
<pre><code>$browser-&gt;assertScript('window.isLoaded')
        -&gt;assertScript('document.readyState', 'complete');</code></pre>
<p><a name="assert-source-has"></a></p>
<h4>assertSourceHas</h4>
<p>断言在页面中存在给定的源码：</p>
<pre><code>$browser-&gt;assertSourceHas($code);</code></pre>
<p><a name="assert-source-missing"></a></p>
<h4>assertSourceMissing</h4>
<p>断言页面中没有给定的源码：</p>
<pre><code>$browser-&gt;assertSourceMissing($code);</code></pre>
<p><a name="assert-see-link"></a></p>
<h4>assertSeeLink</h4>
<p>断言在页面中存在指定的链接：</p>
<pre><code>$browser-&gt;assertSeeLink($linkText);</code></pre>
<p><a name="assert-dont-see-link"></a></p>
<h4>assertDontSeeLink</h4>
<p>断言页面中没有指定的链接：</p>
<pre><code>$browser-&gt;assertDontSeeLink($linkText);</code></pre>
<p><a name="assert-input-value"></a></p>
<h4>assertInputValue</h4>
<p>断言输入框（input）有给定的值：</p>
<pre><code>$browser-&gt;assertInputValue($field, $value);</code></pre>
<p><a name="assert-input-value-is-not"></a></p>
<h4>assertInputValueIsNot</h4>
<p>断言输入框没有给定的值：</p>
<pre><code>$browser-&gt;assertInputValueIsNot($field, $value);</code></pre>
<p><a name="assert-checked"></a></p>
<h4>assertChecked</h4>
<p>断言复选框（checkbox）被选中：</p>
<pre><code>$browser-&gt;assertChecked($field);</code></pre>
<p><a name="assert-not-checked"></a></p>
<h4>assertNotChecked</h4>
<p>断言复选框没有被选中：</p>
<pre><code>$browser-&gt;assertNotChecked($field);</code></pre>
<p><a name="assert-radio-selected"></a></p>
<h4>assertRadioSelected</h4>
<p>断言单选框（radio）被选中：</p>
<pre><code>$browser-&gt;assertRadioSelected($field, $value);</code></pre>
<p><a name="assert-radio-not-selected"></a></p>
<h4>assertRadioNotSelected</h4>
<p>断言单选框没有被选中：</p>
<pre><code>$browser-&gt;assertRadioNotSelected($field, $value);</code></pre>
<p><a name="assert-selected"></a></p>
<h4>assertSelected</h4>
<p>断言下拉框有给定的值:</p>
<pre><code>$browser-&gt;assertSelected($field, $value);</code></pre>
<p><a name="assert-not-selected"></a></p>
<h4>assertNotSelected</h4>
<p>断言下拉框没有给定的值：</p>
<pre><code>$browser-&gt;assertNotSelected($field, $value);</code></pre>
<p><a name="assert-select-has-options"></a></p>
<h4>assertSelectHasOptions</h4>
<p>断言给定的数组值是可选的：</p>
<pre><code>$browser-&gt;assertSelectHasOptions($field, $values);</code></pre>
<p><a name="assert-select-missing-option"></a></p>
<h4>assertSelectMissingOption</h4>
<p>断言给定的值是不可选的：</p>
<pre><code>$browser-&gt;assertSelectMissingOption($field, $value);</code></pre>
<p><a name="assert-select-missing-options"></a></p>
<h4>assertSelectMissingOptions</h4>
<p>断言给定的数组值是不可选的：</p>
<pre><code>$browser-&gt;assertSelectMissingOptions($field, $values);</code></pre>
<p><a name="assert-select-has-option"></a></p>
<h4>assertSelectHasOption</h4>
<p>断言给定的值在给定的地方是可供选择的：</p>
<pre><code>$browser-&gt;assertSelectHasOption($field, $value);</code></pre>
<p><a name="assert-value"></a></p>
<h4>assertValue</h4>
<p>断言选择器范围内的元素存在指定的值：</p>
<pre><code>$browser-&gt;assertValue($selector, $value);</code></pre>
<p><a name="assert-attribute"></a></p>
<h4>assertAttribute</h4>
<p>断言与给定选择器匹配的元素在提供的属性中具有给定的值：</p>
<pre><code>$browser-&gt;assertAttribute($selector, $attribute, $value);</code></pre>
<p><a name="assert-aria-attribute"></a></p>
<h4>assertAriaAttribute</h4>
<p>断言与给定选择器匹配的元素在给定的aria属性中具有给定的值：</p>
<pre><code>$browser-&gt;assertAriaAttribute($selector, $attribute, $value);</code></pre>
<p>例如，给定标记 <code>&lt;button aria-label="Add"&gt; &lt;/button&gt;</code>，您可以像这样声明 <code>aria-label</code> 属性：</p>
<pre><code>$browser-&gt;assertAriaAttribute('button', 'label', 'Add')</code></pre>
<p><a name="assert-data-attribute"></a></p>
<h4>assertDataAttribute</h4>
<p>断言与给定选择器匹配的元素在提供的data属性中具有给定的值：</p>
<pre><code>$browser-&gt;assertDataAttribute($selector, $attribute, $value);</code></pre>
<p>例如，给定标记 <code>&lt;tr id="row-1" data-content="attendees"&gt;&lt;/tr&gt;</code>, 您可以像这样声明 <code>data-label</code> 属性:</p>
<pre><code>$browser-&gt;assertDataAttribute('#row-1', 'content', 'attendees')</code></pre>
<p><a name="assert-visible"></a></p>
<h4>assertVisible</h4>
<p>断言选择器范围内的元素可见：</p>
<pre><code>$browser-&gt;assertVisible($selector);</code></pre>
<p><a name="assert-present"></a></p>
<h4>assertPresent</h4>
<p>断言选择器范围内的元素是存在的：</p>
<pre><code>$browser-&gt;assertPresent($selector);</code></pre>
<p><a name="assert-missing"></a></p>
<h4>assertMissing</h4>
<p>断言选择器范围内的元素不存在：</p>
<pre><code>$browser-&gt;assertMissing($selector);</code></pre>
<p><a name="assert-dialog-opened"></a></p>
<h4>assertDialogOpened</h4>
<p>断言含有指定消息的 JavaScript 对话框已经打开：</p>
<pre><code>$browser-&gt;assertDialogOpened($message);</code></pre>
<p><a name="assert-enabled"></a></p>
<h4>assertEnabled</h4>
<p>断言指定的字段是启用的：</p>
<pre><code>$browser-&gt;assertEnabled($field);</code></pre>
<p><a name="assert-disabled"></a></p>
<h4>assertDisabled</h4>
<p>断言指定的字段是停用的：</p>
<pre><code>$browser-&gt;assertDisabled($field);</code></pre>
<p><a name="assert-button-enabled"></a></p>
<h4>assertButtonEnabled</h4>
<p>断言指定的按钮是启用的：</p>
<pre><code>$browser-&gt;assertButtonEnabled($button);</code></pre>
<p><a name="assert-button-disabled"></a></p>
<h4>assertButtonDisabled</h4>
<p>断言指定的按钮是关闭的：</p>
<pre><code>$browser-&gt;assertButtonDisabled($button);</code></pre>
<p><a name="assert-focused"></a></p>
<h4>assertFocused</h4>
<p>断言焦点在于指定的字段：</p>
<pre><code>$browser-&gt;assertFocused($field);</code></pre>
<p><a name="assert-not-focused"></a></p>
<h4>assertNotFocused</h4>
<p>断言焦点不在指定的字段：</p>
<pre><code>$browser-&gt;assertNotFocused($field);</code></pre>
<p><a name="assert-authenticated"></a></p>
<h4>assertAuthenticated</h4>
<p>断言用户已经授权</p>
<pre><code>$browser-&gt;assertAuthenticated();</code></pre>
<p><a name="assert-guest"></a></p>
<h4>assertGuest</h4>
<p>断言用户未授权</p>
<pre><code>$browser-&gt;assertGuest();</code></pre>
<p><a name="assert-authenticated-as"></a></p>
<h4>assertAuthenticatedAs</h4>
<p>断言该用户已通过身份验证为给定用户：</p>
<pre><code>$browser-&gt;assertAuthenticatedAs($user);</code></pre>
<p><a name="assert-vue"></a></p>
<h4>assertVue</h4>
<p>断言 Vue 组件数据的属性匹配指定的值：</p>
<pre><code>$browser-&gt;assertVue($property, $value, $componentSelector = null);</code></pre>
<p><a name="assert-vue-is-not"></a></p>
<h4>assertVueIsNot</h4>
<p>断言 Vue 组件数据的属性不匹配指定的值：</p>
<pre><code>$browser-&gt;assertVueIsNot($property, $value, $componentSelector = null);</code></pre>
<p><a name="assert-vue-contains"></a></p>
<h4>assertVueContains</h4>
<p>断言 Vue 组件数据的属性是一个数组，并且该数组包含指定的值：</p>
<pre><code>$browser-&gt;assertVueContains($property, $value, $componentSelector = null);</code></pre>
<p><a name="assert-vue-does-not-contain"></a></p>
<h4>assertVueDoesNotContain</h4>
<p>断言 Vue 组件数据的属性是一个数组，并且该数组不包含指定的值：</p>
<pre><code>$browser-&gt;assertVueDoesNotContain($property, $value, $componentSelector = null);</code></pre>
<p><a name="pages"></a></p>
<h2>Pages</h2>
<p>有时候，需要测试一系列复杂的动作，这会使得测试代码难以阅读和理解。通过页面可以定义出语义化的动作，然后在指定页面中可以使用单个方法。页面还可以定义应用或单个页面通用选择器的快捷方式。</p>
<p><a name="generating-pages"></a></p>
<h3>生成页面</h3>
<p><code>dusk:page</code> Artisan 命令可以生成页面对象。所有的页面对象都位于 <code>tests/Browser/Pages</code> 目录：</p>
<pre><code>php artisan dusk:page Login</code></pre>
<p><a name="configuring-pages"></a></p>
<h3>配置页面</h3>
<p>页面默认拥有 3 个方法： <code>url</code>， <code>assert</code> 和 <code>elements</code>。 在这里我们先详述 <code>url</code> 和 <code>assert</code> 方法， <code>elements</code> 方法将会 <a href="#shorthand-selectors">选择器简写</a>中详述。</p>
<h4><code>url</code> 方法</h4>
<p><code>url</code> 方法应该返回表示页面 URL 的路径。 Dusk 将会在浏览器中使用这个 URL 来导航到具体页面：</p>
<pre><code>/**
 * 获得页面 URL 路径。
 *
 * @return string
 */
public function url()
{
    return '/login';
}</code></pre>
<h4><code>assert</code> 方法</h4>
<p><code>assert</code> 方法可以作出任何断言来验证浏览器是否在指定页面上。这个方法并不是必须的。你可以根据你自己的需求来做出这些断言。这些断言会在你导航到这个页面的时候自动执行：</p>
<pre><code>/**
 *  断言浏览器当前处于指定页面。
 *
 * @return void
 */
public function assert(Browser $browser)
{
    $browser-&gt;assertPathIs($this-&gt;url());
}</code></pre>
<p><a name="navigating-to-pages"></a></p>
<h3>导航至页面</h3>
<p>一旦页面配置好之后，你可以使用 <code>visit</code> 方法导航至页面：</p>
<pre><code>use Tests\Browser\Pages\Login;

$browser-&gt;visit(new Login);</code></pre>
<p>您可以使用 <code>visitRoute</code> 方法导航到命名路由：</p>
<pre><code>$browser-&gt;visitRoute('login');</code></pre>
<p>您可以使用 <code>back</code> 和 <code>forward</code> 方法浏览上一个页面或下一个页面：</p>
<pre><code>$browser-&gt;back();

$browser-&gt;forward();</code></pre>
<p>您可以使用 <code>refresh</code> 方法刷新页面:</p>
<pre><code>$browser-&gt;refresh();</code></pre>
<p>有时您可能已经在给定的页面上，需要将页面的选择器和方法「加载」到当前的测试上下文中。 这在通过按钮重定向到指定页面而没有明确导航到该页面时很常见。 在这种情况下，您可以使用 <code>on</code> 方法加载页面：</p>
<pre><code>use Tests\Browser\Pages\CreatePlaylist;

$browser-&gt;visit('/dashboard')
        -&gt;clickLink('Create Playlist')
        -&gt;on(new CreatePlaylist)
        -&gt;assertSee('@create');</code></pre>
<p><a name="shorthand-selectors"></a></p>
<h3>选择器简写</h3>
<p><code>elements</code> 方法允许你为页面中的任何 CSS 选择器定义简单易记的简写。例如，让我们为应用登录页中的 email 输入框定义一个简写：</p>
<pre><code>/**
 * 获取页面的元素简写
 *
 * @return array
 */
public function elements()
{
    return [
        '@email' =&gt; 'input[name=email]',
    ];
}</code></pre>
<p>现在你可以用这个简写来代替之前在页面中使用的完整 CSS 选择器：</p>
<pre><code>$browser-&gt;type('@email', 'taylor@laravel.com');</code></pre>
<h4>全局的选择器简写</h4>
<p>安装 Dusk 之后，<code>Page</code> 基类存放在你的 <code>tests/Browser/Pages</code> 目录。该类中包含一个 <code>siteElements</code> 方法，这个方法可以用来定义全局的选择器简写，这样在你应用中每个页面都可以使用这些全局选择器简写了：</p>
<pre><code>/**
 * 获取站点全局的选择器简写
 *
 * @return array
 */
public static function siteElements()
{
    return [
        '@element' =&gt; '#selector',
    ];
}</code></pre>
<p><a name="page-methods"></a></p>
<h3>页面方法</h3>
<p>除了页面中已经定义的默认方法之外，你还可以定义在整个测试过程中会使用到的其他方法。例如，假设我们正在开发一个音乐管理应用，在应用中都可能需要一个公共的方法来创建列表，而不是在每一页、每一个测试类中都重写一遍创建播放列表的逻辑，这时候你可以在你的页面类中定义一个 <code>createPlaylist</code> 方法：</p>
<pre><code>&lt;?php

namespace Tests\Browser\Pages;

use Laravel\Dusk\Browser;

class Dashboard extends Page
{
    // 其他页面方法...

    /**
     * 创建一个新的播放列表
     *
     * @param  \Laravel\Dusk\Browser  $browser
     * @param  string  $name
     * @return void
     */
    public function createPlaylist(Browser $browser, $name)
    {
        $browser-&gt;type('name', $name)
                -&gt;check('share')
                -&gt;press('Create Playlist');
    }
}</code></pre>
<p>方法被定义之后，你可以在任何使用到该页的测试中使用这个方法了。浏览器实例会自动传递该页面方法：</p>
<pre><code>use Tests\Browser\Pages\Dashboard;

$browser-&gt;visit(new Dashboard)
        -&gt;createPlaylist('My Playlist')
        -&gt;assertSee('My Playlist');</code></pre>
<p><a name="components"></a></p>
<h2>组件</h2>
<p>组件类似于 Dusk 的 「页面对象」，不过它更多的是贯穿整个应用程序中频繁重用的 UI 和功能片断，比如说导航条或信息通知弹窗。因此，组件并不会绑定于某个明确的 URL。</p>
<p><a name="generating-components"></a></p>
<h3>生成组件</h3>
<p>为了生成一个组件，使用 Artisan 命令 <code>dusk:component</code> 即可生成组件。新生成的组件位于 <code>test/Browser/Components</code> 目录中：</p>
<pre><code>php artisan dusk:component DatePicker</code></pre>
<p>如上所示，这是生成一个 「日期选择器」（date picker） 组件的示例，这个组件可能会贯穿使用在你应用程序的许多页面中。在整个测试套件的大量测试页面中，手动编写日期选择的浏览器自动化逻辑会非常麻烦。 更方便的替代办法是，定义一个表示日期选择器的 Dusk 组件，然后把自动化逻辑封装在该组件内：</p>
<pre><code>&lt;?php

namespace Tests\Browser\Components;

use Laravel\Dusk\Browser;
use Laravel\Dusk\Component as BaseComponent;

class DatePicker extends BaseComponent
{
    /**
     * 获取组件的 root selector
     *
     * @return string
     */
    public function selector()
    {
        return '.date-picker';
    }

    /**
     * 浏览器包含组件的断言
     *
     * @param  Browser  $browser
     * @return void
     */
    public function assert(Browser $browser)
    {
        $browser-&gt;assertVisible($this-&gt;selector());
    }

    /**
     * 读取组件的元素快捷方式
     *
     * @return array
     */
    public function elements()
    {
        return [
            '@date-field' =&gt; 'input.datepicker-input',
            '@year-list' =&gt; 'div &gt; div.datepicker-years',
            '@month-list' =&gt; 'div &gt; div.datepicker-months',
            '@day-list' =&gt; 'div &gt; div.datepicker-days',
        ];
    }

    /**
     * 选择给定日期
     *
     * @param  \Laravel\Dusk\Browser  $browser
     * @param  int  $year
     * @param  int  $month
     * @param  int  $day
     * @return void
     */
    public function selectDate($browser, $year, $month, $day)
    {
        $browser-&gt;click('@date-field')
                -&gt;within('@year-list', function ($browser) use ($year) {
                    $browser-&gt;click($year);
                })
                -&gt;within('@month-list', function ($browser) use ($month) {
                    $browser-&gt;click($month);
                })
                -&gt;within('@day-list', function ($browser) use ($day) {
                    $browser-&gt;click($day);
                });
    }
}</code></pre>
<p><a name="using-components"></a></p>
<h3>使用组件</h3>
<p>组件定义一旦完成，在任何测试页面的日期选择器中选定一个日期就很轻松了。并且，如果需要修改选定日期的逻辑，仅修改该组件即可：</p>
<pre><code>&lt;?php

namespace Tests\Browser;

use Illuminate\Foundation\Testing\DatabaseMigrations;
use Laravel\Dusk\Browser;
use Tests\Browser\Components\DatePicker;
use Tests\DuskTestCase;

class ExampleTest extends DuskTestCase
{
    /**
     * 基本的组件测试示例
     *
     * @return void
     */
    public function testBasicExample()
    {
        $this-&gt;browse(function (Browser $browser) {
            $browser-&gt;visit('/')
                    -&gt;within(new DatePicker, function ($browser) {
                        $browser-&gt;selectDate(2019, 1, 30);
                    })
                    -&gt;assertSee('January');
        });
    }
}</code></pre>
<p><a name="continuous-integration"></a></p>
<h2>持续集成</h2>
<blockquote>
<p>注意：在添加持续集成配置文件之前，请确保你的 <code>.env.testing</code> 文件中 <code>APP_URL</code> 配置项的值是 <code>http://127.0.0.1:8000</code>。</p>
</blockquote>
<p><a name="running-tests-on-circle-ci"></a></p>
<h3>CircleCI</h3>
<p>如果使用 CircleCI 运行 Dusk 测试，则可以参考此配置文件作为起点。与 TravisCI 一样，我们将使用 <code>php artisan serve</code> 命令启动 PHP 的内置 Web 服务器：</p>
<pre><code>version: 2
jobs:
    build:
        steps:
            - run: sudo apt-get install -y libsqlite3-dev
            - run: cp .env.testing .env
            - run: composer install -n --ignore-platform-reqs
            - run: php artisan key:generate
            - run: php artisan dusk:chrome-driver
            - run: npm install
            - run: npm run production
            - run: vendor/bin/phpunit

            - run:
                name: Start Chrome Driver
                command: ./vendor/laravel/dusk/bin/chromedriver-linux
                background: true

            - run:
                name: Run Laravel Server
                command: php artisan serve
                background: true

            - run:
                name: Run Laravel Dusk Tests
                command: php artisan dusk

            - store_artifacts:
                path: tests/Browser/screenshots

            - store_artifacts:
                path: tests/Browser/console

            - store_artifacts:
                path: storage/logs</code></pre>
<p><a name="running-tests-on-codeship"></a></p>
<h3>Codeship</h3>
<p>想要在 <a href="https://codeship.com">Codeship</a> 中运行 Dusk 测试，添加以下的命令到你的 Codeship 项目，这些命令这是一个入门示例，如果需要的话你可以添加更多额外命令：</p>
<pre><code>phpenv local 7.2
cp .env.testing .env
mkdir -p ./bootstrap/cache
composer install --no-interaction --prefer-dist
php artisan key:generate
php artisan dusk:chrome-driver
nohup bash -c "php artisan serve 2&gt;&amp;1 &amp;" &amp;&amp; sleep 5
php artisan dusk</code></pre>
<p><a name="running-tests-on-heroku-ci"></a></p>
<h3>Heroku CI</h3>
<p>要想在 <a href="https://www.heroku.com/continuous-integration">Heroku CI</a> 上运行 Dusk 测试，添加以下 Google Chrome buildpack 和 脚本到 Heroku 的 <code>app.json</code> 文件中：</p>
<pre><code>{
  "environments": {
    "test": {
      "buildpacks": [
        { "url": "heroku/php" },
        { "url": "https://github.com/heroku/heroku-buildpack-google-chrome" }
      ],
      "scripts": {
        "test-setup": "cp .env.testing .env",
        "test": "nohup bash -c './vendor/laravel/dusk/bin/chromedriver-linux &gt; /dev/null 2&gt;&amp;1 &amp;' &amp;&amp; nohup bash -c 'php artisan serve &gt; /dev/null 2&gt;&amp;1 &amp;' &amp;&amp; php artisan dusk"
      }
    }
  }
}</code></pre>
<p><a name="running-tests-on-travis-ci"></a></p>
<h3>Travis CI</h3>
<p>要想通过 <a href="https://travis-ci.org">Travis CI</a> 运行 Dusk 测试，可以使用下面这个 <code>.travis.yml</code> 配置。由于 Travis CI 不是一个图形化的环境，我们还需要一些额外的步骤以便启动 Chrome 浏览器。此外，我们将会使用 <code>php artisan serve</code> 来启动 PHP 自带的 Web 服务器：</p>
<pre><code>language: php

php:
  - 7.3

addons:
  chrome: stable

install:
  - cp .env.testing .env
  - travis_retry composer install --no-interaction --prefer-dist --no-suggest
  - php artisan key:generate
  - php artisan dusk:chrome-driver

before_script:
  - google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost &amp;
  - php artisan serve &amp;

script:
  - php artisan dusk</code></pre>
<p><a name="running-tests-on-github-actions"></a></p>
<h3>GitHub Actions</h3>
<p>如果你正在使用 <a href="https://github.com/features/actions">Github Actions</a> 来运行你的 Dusk 测试，你应该以这个配置文件为起点。像 TravisCI 一样，我们将使用 <code>php artisan serve</code> 命令来启动 php 的 web 服务：</p>
<pre><code>name: CI
on: [push]
jobs:

  dusk-php:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Prepare The Environment
        run: cp .env.example .env
      - name: Create Database
        run: |
          sudo systemctl start mysql
          mysql --user="root" --password="root" -e "CREATE DATABASE 'my-database' character set UTF8mb4 collate utf8mb4_bin;"
      - name: Install Composer Dependencies
        run: composer install --no-progress --no-suggest --prefer-dist --optimize-autoloader
      - name: Generate Application Key
        run: php artisan key:generate
      - name: Upgrade Chrome Driver
        run: php artisan dusk:chrome-driver `/opt/google/chrome/chrome --version | cut -d " " -f3 | cut -d "." -f1`
      - name: Start Chrome Driver
        run: ./vendor/laravel/dusk/bin/chromedriver-linux &amp;
      - name: Run Laravel Server
        run: php artisan serve &amp;
      - name: Run Dusk Tests
        env:
          APP_URL: "http://127.0.0.1:8000"
        run: php artisan dusk</code></pre>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 323);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>