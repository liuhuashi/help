<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>范例 - 开发帮助文档</title> 
    <meta name="keyword" content="mysql-xdevapi.examples"> 
    <meta name="description" content="mysql-xdevapi.examples"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="853" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-baseresult.html" title="BaseResult interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    BaseResult interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-client.html" title="Client class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Client class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-collection.html" title="Collection class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Collection class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-collectionadd.html" title="CollectionAdd class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CollectionAdd class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-collectionfind.html" title="CollectionFind class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CollectionFind class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-collectionmodify.html" title="CollectionModify class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CollectionModify class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-collectionremove.html" title="CollectionRemove class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CollectionRemove class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-columnresult.html" title="ColumnResult class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    ColumnResult class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-crudoperationbindable.html" title="CrudOperationBindable interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CrudOperationBindable interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-crudoperationlimitable.html" title="CrudOperationLimitable interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CrudOperationLimitable interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-crudoperationskippable.html" title="CrudOperationSkippable interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CrudOperationSkippable interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-crudoperationsortable.html" title="CrudOperationSortable interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    CrudOperationSortable interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-databaseobject.html" title="DatabaseObject interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    DatabaseObject interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-docresult.html" title="DocResult class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    DocResult class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-exception.html" title="Exception class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Exception class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-executable.html" title="Executable interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Executable interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-executionstatus.html" title="ExecutionStatus class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    ExecutionStatus class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-expression.html" title="Expression class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Expression class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-result.html" title="Result class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Result class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-rowresult.html" title="RowResult class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    RowResult class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-schema.html" title="Schema class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Schema class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-schemaobject.html" title="SchemaObject interface">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    SchemaObject interface
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-session.html" title="Session class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Session class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-sqlstatement.html" title="SqlStatement class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    SqlStatement class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-sqlstatementresult.html" title="SqlStatementResult class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    SqlStatementResult class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-statement.html" title="Statement class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Statement class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-table.html" title="Table class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Table class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-tabledelete.html" title="TableDelete class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    TableDelete class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-tableinsert.html" title="TableInsert class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    TableInsert class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-tableselect.html" title="TableSelect class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    TableSelect class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-tableupdate.html" title="TableUpdate class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    TableUpdate class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.mysql-xdevapi-warning.html" title="Warning class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Warning class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/intro.mysql-xdevapi.html" title="简介">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    简介
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/mysql-xdevapi.constants.html" title="预定义常量">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    预定义常量
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/mysql-xdevapi.examples.html" title="范例">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    范例
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/mysql-xdevapi.setup.html" title="安装／配置">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装／配置
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/ref.mysql-xdevapi.html" title="Mysql_xdevapi 函数">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Mysql_xdevapi 函数
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysql-xdevapi.constants.html">« 预定义常量</a></li>
      <li style="float: right;"><a href="ref.mysql-xdevapi.html">Mysql_xdevapi 函数 »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="documentation.html">PHP Manual</a></li>
    <li><a href="book.mysql-xdevapi.html">Mysql_xdevapi</a></li>
    <li>范例</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysql-xdevapi.examples" class="chapter">
 <h1>范例</h1>

 <p class="para">
  The central entry point to the X DevAPI is the <span class="function"><strong>mysql_xdevapi\getSession()</strong></span>
  function, which receives a URI to a MySQL 8.0 Server and returns a
  <strong class="classname">mysql_xdevap\Session</strong> object.
 </p>
 <div class="example" id="example-1496">
  <p><strong>示例 #1 Connecting to a MySQL Server</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">try {<br>    </span><span style="color: #0000BB">$session </span><span style="color: #007700">= </span><span style="color: #0000BB">mysql_xdevapi</span><span style="color: #007700">\</span><span style="color: #0000BB">getSession</span><span style="color: #007700">(</span><span style="color: #DD0000">"mysqlx://user:password@host"</span><span style="color: #007700">);<br>} catch(</span><span style="color: #0000BB">Exception $e</span><span style="color: #007700">) {<br>    die(</span><span style="color: #DD0000">"Connection could not be established: " </span><span style="color: #007700">. </span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">());<br>}<br> <br></span><span style="color: #FF8000">// ... use $session<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 <p class="para">
  The session provides full access to the API. For a new MySQL Server installation,
  the first step is to create a database schema with a collection 
  to store data:
 </p>
 <div class="example" id="example-1497">
  <p><strong>示例 #2 Creating a Schema and Collection on the MySQL Server</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$schema </span><span style="color: #007700">= </span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createSchema</span><span style="color: #007700">(</span><span style="color: #DD0000">"test"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$collection </span><span style="color: #007700">= </span><span style="color: #0000BB">$schema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createCollection</span><span style="color: #007700">(</span><span style="color: #DD0000">"example"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 <p class="para">
  When storing data, typically <span class="function"><a href="function.json-encode.html" class="function">json_encode()</a></span> is used to encode
  the data into JSON, which can then be stored inside a collection.
 </p>
 <p class="para">
  The following example stores data into the collection we created earlier, 
  and then retrieve parts of it again.
 </p>
 <div class="example" id="example-1498">
  <p><strong>示例 #3 Storing and Retrieving Data</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$marco </span><span style="color: #007700">= [<br>  </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Marco"</span><span style="color: #007700">,<br>  </span><span style="color: #DD0000">"age"  </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">19</span><span style="color: #007700">,<br>  </span><span style="color: #DD0000">"job"  </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Programmer"<br></span><span style="color: #007700">];<br></span><span style="color: #0000BB">$mike </span><span style="color: #007700">= [<br>  </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Mike"</span><span style="color: #007700">,<br>  </span><span style="color: #DD0000">"age"  </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">39</span><span style="color: #007700">,<br>  </span><span style="color: #DD0000">"job"  </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Manager"<br></span><span style="color: #007700">];<br><br></span><span style="color: #0000BB">$schema </span><span style="color: #007700">= </span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSchema</span><span style="color: #007700">(</span><span style="color: #DD0000">"test"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$collection </span><span style="color: #007700">= </span><span style="color: #0000BB">$schema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCollection</span><span style="color: #007700">(</span><span style="color: #DD0000">"example"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$marco</span><span style="color: #007700">, </span><span style="color: #0000BB">$mike</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(</span><span style="color: #DD0000">"name = 'Mike'"</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">fetchOne</span><span style="color: #007700">());<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>以上例程的输出类似于：</p></div>
  <div class="example-contents screen">
   <div class="cdata"><pre>
array(4) {
  ["_id"]=&gt;
  string(28) "00005ad66aaf0000000000000003"
  ["age"]=&gt;
  int(39)
  ["job"]=&gt;
  string(7) "Manager"
  ["name"]=&gt;
  string(4) "Mike"
}
</pre></div>
  </div>
 </div>
 <p class="para">
  The example demonstrates that the MySQL Server adds an extra field named
  <code class="code">_id</code>, which serves as primary key to the document.
 </p>
 <p class="para">
  The example also demonstrates that retrieved data is sorted alphabetically.
  That specific order comes from the efficient binary storage inside the MySQL server, but
  it should not be relied upon. Refer to the MySQL JSON datatype documentation for details.
 </p>
 <p class="para">
  Optionally use PHP's iterators fetch multiple documents:
 </p>
 <div class="example" id="example-1499">
  <p><strong>示例 #4 Fetching and Iterating Multiple Documents</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$result </span><span style="color: #007700">= </span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">();<br>foreach (</span><span style="color: #0000BB">$result </span><span style="color: #007700">as </span><span style="color: #0000BB">$doc</span><span style="color: #007700">) {<br>  echo </span><span style="color: #DD0000">"</span><span style="color: #007700">${</span><span style="color: #0000BB">doc</span><span style="color: #007700">[</span><span style="color: #DD0000">"name"</span><span style="color: #007700">]}</span><span style="color: #DD0000"> is a </span><span style="color: #007700">${</span><span style="color: #0000BB">doc</span><span style="color: #007700">[</span><span style="color: #DD0000">"job"</span><span style="color: #007700">]}</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>以上例程的输出类似于：</p></div>
  <div class="example-contents screen">
   <div class="cdata"><pre>
Marco is a Programmer.
Mike is a Manager.
</pre></div>
  </div>
 </div>
</div>
</div></div>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 8098);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>