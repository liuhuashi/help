<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>Philosophy - 开发帮助文档</title> 
    <meta name="keyword" content="philosophy.parallel"> 
    <meta name="description" content="philosophy.parallel"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="598" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-channel.html" title="The parallel\Channel class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Channel class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-events-event-type.html" title="The parallel\Events\Event\Type class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Events\Event\Type class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-events-event.html" title="The parallel\Events\Event class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Events\Event class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-events-input.html" title="The parallel\Events\Input class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Events\Input class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-events.html" title="The parallel\Events class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Events class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-future.html" title="The parallel\Future class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Future class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-runtime.html" title="The parallel\Runtime class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Runtime class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/class.parallel-sync.html" title="The parallel\Sync class">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    The parallel\Sync class
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/functional.parallel.html" title="Functional API">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Functional API
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/intro.parallel.html" title="简介">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    简介
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/parallel.setup.html" title="Installation">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Installation
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/philosophy.parallel.html" title="Philosophy">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Philosophy
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="parallel.setup.html">« Installation</a></li>
      <li style="float: right;"><a href="functional.parallel.html">Functional API »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="documentation.html">PHP Manual</a></li>
    <li><a href="book.parallel.html">parallel</a></li>
    <li>Philosophy</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="philosophy.parallel" class="chapter">
 <h1>Philosophy</h1>

 <p class="para">
  This section contains philosophies important to writing parallel code and some details about the internal implementation of parallel.
 </p>
 <div class="simplesect">
   <h3 class="title">Do not communicate by sharing memory; instead, share memory by communicating.</h3>
   <p class="para">
    This philosophy which is embraced by parallel has its origins in Go, one of the most widely admired if not used platforms for writing parallel code at the moment. 
    Go programmers have to work hard to live up to this ideal: PHP and parallel do all the hard work for the programmer, and by default.
   </p>
   <p class="para">
    In conventional threading models found in other languages, generally threads are communicating with one another through nothing more than by virtue of the fact that 
    they operate in the same address space.
    The programmer must deploy mutual exclusion, condition variables, and other low level threading or synchronization primitives in order to ensure proper communication 
    of state and consistency.
   </p>
   <p class="para">
    When the conventional model is inversed, it means that threads only share memory as a result of communication (a variable is passed over a Channel for example).
   </p>
   <p class="para">
    When parallel passes a variable from one thread to another by any means - Task arguments, return via Future, and Channels - it is passed by value. 
    In all but the case of unbuffered channels, the variable is also buffered so that it may not change (or be destroyed) before it is used in whichever thread the variable 
    is being passed to. An unbuffered read over a channel is the only instance in which a thread directly reads memory allocated by another thread, it can do so safely because 
    the thread that owns the memory is waiting for the read to complete before it can continue to manipulate it, and the thread that does not own the memory reads by value. When
    both threads continue, they are no longer sharing memory.
   </p>
   <p class="para">
    This makes writing and reasoning about parallel code much easier than the conventional model of threading. It means the programmer does not need to consider that threads 
    may be manipulating data concurrently, because that is not possible.
   </p>
   <p class="para">
    This also makes PHP the perfect platform for implementing a parallel concurrency API based on CSP (message passing over channels), because PHP itself is shared nothing - 
    PHP threads operate in their own virtual address space by default, and so may only share memory by communicating.
   </p>
 </div>
 <div class="simplesect">
  <h3 class="title">Data should have a definitive single owner</h3>
  <p class="para">
   When approaching the CSP model for the first time, a programmer versed in the traditional model of threading may find themselves looking for concurrent data structures,
   because that is what they are used too: they pass around shared objects for manipulation.
  </p>
  <p class="para">
   When it comes to the CSP model, there is no need for data structures to be shared by many tasks, and indeed, it is simpler if they are not. The data should be owned 
   by a single task, changes to (or operations on) that data structure should be communicated over channels and performed by the owner of the data, the success, failure, 
   or result (state) of the change (or operation) being communicated back.
  </p>
  <p class="para">
   Once again the share nothing nature of PHP and copy by value nature of parallel helps the programmer to achieve this goal, no data will be shared by accident, 
   only ever as a result of communication.
  </p>
 </div>
</div>
</div></div>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 8879);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>