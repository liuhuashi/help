<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>表单组件 - 开发帮助文档</title> 
    <meta name="keyword" content="model-form-fields"> 
    <meta name="description" content="model-form-fields"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="3" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/change-log.html" title="Change log">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Change log
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/content-layout.html" title="页面内容">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    页面内容
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/custom-authentication.html" title="自定义登陆">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    自定义登陆
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/custom-chart.html" title="自定义图表">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    自定义图表
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/custom-navbar.html" title="自定义头部导航条">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    自定义头部导航条
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/extension-api-tester.html" title="Laravel API测试">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    Laravel API测试
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/extension-config.html" title="配置管理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    配置管理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/extension-helpers.html" title="帮助工具">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    帮助工具
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/extension-media-manager.html" title="文件管理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    文件管理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/extension-scheduling.html" title="定时任务">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    定时任务
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/installation.html" title="安装">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    安装
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/LICENSE.html" title="LICENSE">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    LICENSE
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-form-callback.html" title="模型表单回调">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    模型表单回调
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-form-field-management.html" title="组件管理">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    组件管理
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-form-fields.html" title="表单组件">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表单组件
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-form-upload.html" title="文件/图片上传">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    文件/图片上传
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-form-validation.html" title="表单验证">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表单验证
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-form.html" title="基于数据模型的表单">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    基于数据模型的表单
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid-actions.html" title="模型表格行操作">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    模型表格行操作
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid-column.html" title="列操作">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    列操作
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid-custom-tools.html" title="自定义工具">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    自定义工具
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid-data.html" title="表格数据源">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    表格数据源
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid-export.html" title="数据导出">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据导出
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid-exporter.html" title="自定义导出">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    自定义导出
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid-filters.html" title="数据查询过滤">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数据查询过滤
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-grid.html" title="基于数据模型的表格">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    基于数据模型的表格
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/model-tree.html" title="模型树">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    模型树
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/permission.html" title="权限控制">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    权限控制
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/qa.html" title="常见问题汇总">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    常见问题汇总
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/quick-start.html" title="快速开始">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    快速开始
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/README.html" title="laravel-admin">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    laravel-admin
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/upgrade.html" title="升级注意事项">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    升级注意事项
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/laravel-admin_zh/widgets.html" title="前端组件">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    前端组件
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <h1>表单组件</h1>
<p>在<code>model-form</code>中内置了大量的form组件来帮助你快速的构建form表单</p>
<h2>公共方法</h2>
<h3>设置保存值</h3>
<pre><code class="language-php">$form-&gt;text('title')-&gt;value('text...');</code></pre>
<h3>设置默认值</h3>
<pre><code class="language-php">$form-&gt;text('title')-&gt;default('text...');</code></pre>
<h3>设置help信息</h3>
<pre><code class="language-php">$form-&gt;text('title')-&gt;help('help...');</code></pre>
<h3>设置属性</h3>
<pre><code class="language-php">$form-&gt;text('title')-&gt;attribute(['data-title' =&gt; 'title...']);

$form-&gt;text('title')-&gt;attribute('data-title', 'title...');</code></pre>
<h3>设置placeholder</h3>
<pre><code class="language-php">$form-&gt;text('title')-&gt;placeholder('请输入。。。');</code></pre>
<h3>model-form-tab</h3>
<p>如果表单元素太多,会导致form页面太长, 这种情况下可以使用tab来分隔form:</p>
<pre><code class="language-php">
$form-&gt;tab('Basic info', function ($form) {

    $form-&gt;text('username');
    $form-&gt;email('email');

})-&gt;tab('Profile', function ($form) {

   $form-&gt;image('avatar');
   $form-&gt;text('address');
   $form-&gt;mobile('phone');

})-&gt;tab('Jobs', function ($form) {

     $form-&gt;hasMany('jobs', function () {
         $form-&gt;text('company');
         $form-&gt;date('start_date');
         $form-&gt;date('end_date');
     });

  })
</code></pre>
<h2>文本输入框</h2>
<pre><code class="language-php">$form-&gt;text($column, [$label]);

// 添加提交验证规则
$form-&gt;text($column, [$label])-&gt;rules('required|min:10');</code></pre>
<h2>select选择框</h2>
<pre><code class="language-php">$form-&gt;select($column[, $label])-&gt;options([1 =&gt; 'foo', 2 =&gt; 'bar', 'val' =&gt; 'Option name']);</code></pre>
<p>或者从api中获取选项列表：</p>
<pre><code class="language-php">$form-&gt;select($column[, $label])-&gt;options('/api/users');

// 使用ajax并显示所选项目

$form-&gt;select($column[, $label])-&gt;options(Model::class)-&gt;ajax('/api/users');

// 或指定名称和ID

$form-&gt;select($column[, $label])-&gt;options(Model::class, 'name', 'id')-&gt;ajax('/api/users');</code></pre>
<p>其中api接口的格式必须为下面格式：</p>
<pre><code class="language-php">[
    {
        "id": 9,
        "text": "xxx"
    },
    {
        "id": 21,
        "text": "xxx"
    },
    ...
]</code></pre>
<p>如果选项过多，可通过ajax方式动态分页载入选项：</p>
<pre><code class="language-php">$form-&gt;select('user_id')-&gt;options(function ($id) {
    $user = User::find($id);

    if ($user) {
        return [$user-&gt;id =&gt; $user-&gt;name];
    }
})-&gt;ajax('/admin/api/users');</code></pre>
<p><sub>注：如果你修改了<code>config/admin.php</code>配置文件中<code>route.prefix</code>的值，此处的接口路由应该修改为<code>config('admin.route.prefix').'/api/users'</code>。</sub></p>
<p>API <code>/admin/api/users</code>接口的代码：</p>
<pre><code class="language-php">public function users(Request $request)
{
    $q = $request-&gt;get('q');

    return User::where('name', 'like', "%$q%")-&gt;paginate(null, ['id', 'name as text']);
}
</code></pre>
<p>接口返回的数据结构为</p>
<pre><code>{
    "total": 4,
    "per_page": 15,
    "current_page": 1,
    "last_page": 1,
    "next_page_url": null,
    "prev_page_url": null,
    "from": 1,
    "to": 3,
    "data": [
        {
            "id": 9,
            "text": "xxx"
        },
        {
            "id": 21,
            "text": "xxx"
        },
        {
            "id": 42,
            "text": "xxx"
        },
        {
            "id": 48,
            "text": "xxx"
        }
    ]
}</code></pre>
<h3>select 联动</h3>
<p><code>select</code>组件支持父子关系的单向联动：</p>
<pre><code class="language-php">$form-&gt;select('province')-&gt;options(...)-&gt;load('city', '/api/city');

$form-&gt;select('city');
</code></pre>
<p>其中<code>load('city', '/api/city');</code>的意思是，在当前select的选项切换之后，会把当前选项的值通过参数<code>q</code>, 调用接口<code>/api/city</code>，并把api返回的数据填充为city选择框的选项，其中api<code>/api/city</code>返回的数据格式必须符合:</p>
<pre><code class="language-php">[
    {
        "id": 9,
        "text": "xxx"
    },
    {
        "id": 21,
        "text": "xxx"
    },
    ...
]</code></pre>
<p>控制器action的代码示例如下：</p>
<pre><code class="language-php">public function city(Request $request)
{
    $provinceId = $request-&gt;get('q');

    return ChinaArea::city()-&gt;where('parent_id', $provinceId)-&gt;get(['id', DB::raw('name as text')]);
}</code></pre>
<h2>多选框</h2>
<pre><code class="language-php">$form-&gt;multipleSelect($column[, $label])-&gt;options([1 =&gt; 'foo', 2 =&gt; 'bar', 'val' =&gt; 'Option name']);

// 使用ajax并显示所选项目：

$form-&gt;multipleSelect($column[, $label])-&gt;options(Model::class)-&gt;ajax('ajax_url');

// 或指定名称和ID

$form-&gt;multipleSelect($column[, $label])-&gt;options(Model::class, 'name', 'id')-&gt;ajax('ajax_url');</code></pre>
<p>多选框可以处理两种情况，第一种是<code>ManyToMany</code>的关系。</p>
<pre><code>
class Post extends Models
{
    public function tags()
    {
        return $this-&gt;belongsToMany(Tag::class);
    }
}

$form-&gt;multipleSelect('tags')-&gt;options(Tag::all()-&gt;pluck('name', 'id'));
</code></pre>
<p>第二种是将选项数组存储到单字段中，如果字段是字符串类型，那就需要在模型里面为该字段定义<a href="https://laravel.com/docs/5.5/eloquent-mutators">访问器和修改器</a>来存储和读取了。</p>
<p>如果选项过多，可通过ajax方式动态分页载入选项：</p>
<pre><code class="language-php">$form-&gt;select('friends')-&gt;options(function ($ids) {

    return User::find($ids)-&gt;pluck('name', 'id');

})-&gt;ajax('/admin/api/users');</code></pre>
<p><sub>注：如果你修改了<code>config/admin.php</code>配置文件中<code>route.prefix</code>的值，此处的接口路由应该修改为<code>config('admin.route.prefix').'/api/users'</code>。</sub></p>
<p>API <code>/admin/api/users</code>接口的代码：</p>
<pre><code class="language-php">public function users(Request $request)
{
    $q = $request-&gt;get('q');

    return User::where('name', 'like', "%$q%")-&gt;paginate(null, ['id', 'name as text']);
}
</code></pre>
<p>接口返回的数据结构为</p>
<pre><code>{
    "total": 4,
    "per_page": 15,
    "current_page": 1,
    "last_page": 1,
    "next_page_url": null,
    "prev_page_url": null,
    "from": 1,
    "to": 3,
    "data": [
        {
            "id": 9,
            "text": "xxx"
        },
        {
            "id": 21,
            "text": "xxx"
        },
        {
            "id": 42,
            "text": "xxx"
        },
        {
            "id": 48,
            "text": "xxx"
        }
    ]
}</code></pre>
<h2>listbox</h2>
<p>使用方法和<code>multipleSelect</code>类似</p>
<pre><code class="language-php">$form-&gt;listbox($column[, $label])-&gt;options([1 =&gt; 'foo', 2 =&gt; 'bar', 'val' =&gt; 'Option name']);</code></pre>
<h2>textarea输入框</h2>
<pre><code class="language-php">$form-&gt;textarea($column[, $label])-&gt;rows(10);</code></pre>
<h2>radio选择</h2>
<pre><code class="language-php">$form-&gt;radio($column[, $label])-&gt;options(['m' =&gt; 'Female', 'f'=&gt; 'Male'])-&gt;default('m');

// 竖排
$form-&gt;radio($column[, $label])-&gt;options(['m' =&gt; 'Female', 'f'=&gt; 'Male'])-&gt;stacked();</code></pre>
<h2>checkbox选择</h2>
<p><code>checkbox</code>能处理两种数据存储情况，参考<a href="#多选框">多选框</a></p>
<p><code>options()</code>方法用来设置选择项:</p>
<pre><code class="language-php">$form-&gt;checkbox($column[, $label])-&gt;options([1 =&gt; 'foo', 2 =&gt; 'bar', 'val' =&gt; 'Option name']);

// 竖排
$form-&gt;checkbox($column[, $label])-&gt;options([1 =&gt; 'foo', 2 =&gt; 'bar', 'val' =&gt; 'Option name'])-&gt;stacked();</code></pre>
<h2>email个数输入框</h2>
<pre><code class="language-php">$form-&gt;email($column[, $label]);</code></pre>
<h2>密码输入框</h2>
<pre><code class="language-php">$form-&gt;password($column[, $label]);</code></pre>
<h2>url输入框</h2>
<pre><code class="language-php">$form-&gt;url($column[, $label]);</code></pre>
<h2>ip输入框</h2>
<pre><code class="language-php">$form-&gt;ip($column[, $label]);</code></pre>
<h2>电话号码输入框</h2>
<pre><code class="language-php">$form-&gt;mobile($column[, $label])-&gt;options(['mask' =&gt; '999 9999 9999']);</code></pre>
<h2>颜色选择框</h2>
<pre><code class="language-php">$form-&gt;color($column[, $label])-&gt;default('#ccc');</code></pre>
<h2>时间输入框</h2>
<pre><code class="language-php">$form-&gt;time($column[, $label]);

// 设置时间格式，更多格式参考http://momentjs.com/docs/#/displaying/format/
$form-&gt;time($column[, $label])-&gt;format('HH:mm:ss');</code></pre>
<h2>日期输入框</h2>
<pre><code class="language-php">$form-&gt;date($column[, $label]);

// 设置日期格式，更多格式参考http://momentjs.com/docs/#/displaying/format/
$form-&gt;date($column[, $label])-&gt;format('YYYY-MM-DD');</code></pre>
<h2>日期时间输入框</h2>
<pre><code class="language-php">$form-&gt;datetime($column[, $label]);

// 设置日期格式，更多格式参考http://momentjs.com/docs/#/displaying/format/
$form-&gt;datetime($column[, $label])-&gt;format('YYYY-MM-DD HH:mm:ss');</code></pre>
<h2>时间范围选择框</h2>
<p><code>$startTime</code>、<code>$endTime</code>为开始和结束时间字段:</p>
<pre><code class="language-php">$form-&gt;timeRange($startTime, $endTime, 'Time Range');</code></pre>
<h2>日期范围选框</h2>
<p><code>$startDate</code>、<code>$endDate</code>为开始和结束日期字段:</p>
<pre><code class="language-php">$form-&gt;dateRange($startDate, $endDate, 'Date Range');</code></pre>
<h2>时间日期范围选择框</h2>
<p><code>$startDateTime</code>、<code>$endDateTime</code>为开始和结束时间日期:</p>
<pre><code class="language-php">$form-&gt;datetimeRange($startDateTime, $endDateTime, 'DateTime Range');</code></pre>
<h2>货币输入框</h2>
<pre><code class="language-php">$form-&gt;currency($column[, $label]);

// 设置单位符号
$form-&gt;currency($column[, $label])-&gt;symbol('￥');
</code></pre>
<h2>数字输入框</h2>
<pre><code class="language-php">$form-&gt;number($column[, $label]);</code></pre>
<h2>比例输入框</h2>
<pre><code class="language-php">$form-&gt;rate($column[, $label]);</code></pre>
<h2>图片上传</h2>
<p>使用图片上传功能之前需要先完成上传配置，请参考:<a href="/zh/model-form-upload">图片/文件上传</a>.</p>
<p>图片上传目录在文件<code>config/admin.php</code>中的<code>upload.image</code>中配置，如果目录不存在，需要创建该目录并开放写权限。</p>
<p>可以使用压缩、裁切、添加水印等各种方法,需要先安装<a href="http://image.intervention.io/getting_started/installation">intervention/image</a>.</p>
<p>更多使用方法请参考[<a href="http://image.intervention.io/getting_started/introduction">Intervention</a>]：</p>
<pre><code class="language-php">$form-&gt;image($column[, $label]);

// 修改图片上传路径和文件名
$form-&gt;image($column[, $label])-&gt;move($dir, $name);

// 剪裁图片
$form-&gt;image($column[, $label])-&gt;crop(int $width, int $height, [int $x, int $y]);

// 加水印
$form-&gt;image($column[, $label])-&gt;insert($watermark, 'center');

// 添加图片删除按钮
$form-&gt;image($column[, $label])-&gt;removable();
</code></pre>
<h2>文件上传</h2>
<p>使用图片上传功能之前需要先完成上传配置，请参考:<a href="/zh/model-form-upload">图片/文件上传</a>.</p>
<p>文件上传目录在文件<code>config/admin.php</code>中的<code>upload.file</code>中配置，如果目录不存在，需要创建该目录并开放写权限。</p>
<pre><code class="language-php">$form-&gt;file($column[, $label]);

// 修改文件上传路径和文件名
$form-&gt;file($column[, $label])-&gt;move($dir, $name);

// 并设置上传文件类型
$form-&gt;file($column[, $label])-&gt;rules('mimes:doc,docx,xlsx');

// 添加文件删除按钮
$form-&gt;file($column[, $label])-&gt;removable();
</code></pre>
<h2>多图/文件上传</h2>
<pre><code class="language-php">// 多图
$form-&gt;multipleImage($column[, $label]);

// 添加删除按钮
$form-&gt;multipleImage($column[, $label])-&gt;removable();

// 多文件
$form-&gt;multipleFile($column[, $label]);

// 添加删除按钮
$form-&gt;multipleFile($column[, $label])-&gt;removable();</code></pre>
<p>多图/文件上传的时候提交的数据为文件路径数组,可以直接用mysql的<code>JSON</code>类型字段存储,如果用mongodb的话也能直接存储,但是如果用字符串类型来存储的话,就需要指定数据的存储格式了,
比如,如果要用json字符串来存储文件数据,就需要在模型中定义字段的mutator,比如字段名为<code>pictures</code>,定义mutator:</p>
<pre><code class="language-php">public function setPicturesAttribute($pictures)
{
    if (is_array($pictures)) {
        $this-&gt;attributes['pictures'] = json_encode($pictures);
    }
}

public function getPicturesAttribute($pictures)
{
    return json_decode($pictures, true);
}</code></pre>
<p>当然你也可以指定其它任何格式.</p>
<h2>地图控件</h2>
<p>地图组件引用了网络资源，默认关闭,如果要开启这个组件参考<a href="/zh/model-form-field-management">form组件管理</a></p>
<p>地图控件，用来选择经纬度,<code>$latitude</code>, <code>$longitude</code>为经纬度字段，<code>Laravel</code>的<code>locale</code>设置为<code>zh_CN</code>的时候使用腾讯地图，否则使用Google地图：</p>
<pre><code class="language-php">$form-&gt;map($latitude, $longitude, $label);</code></pre>
<h2>滑动选择控件</h2>
<p>可以用来数字类型字段的选择，比如年龄：</p>
<pre><code class="language-php">$form-&gt;slider($column[, $label])-&gt;options(['max' =&gt; 100, 'min' =&gt; 1, 'step' =&gt; 1, 'postfix' =&gt; 'years old']);</code></pre>
<p>更多options请参考:<a href="https://github.com/IonDen/ion.rangeSlider#settings">https://github.com/IonDen/ion.rangeSlider#settings</a></p>
<h2>富文本编辑框</h2>
<p>编辑器组件引用了网络资源，默认关闭,如果要开启这个组件参考<a href="/zh/model-form-field-management">form组件管理</a>.</p>
<pre><code class="language-php">$form-&gt;editor($column[, $label]);</code></pre>
<h2>隐藏域</h2>
<pre><code class="language-php">$form-&gt;hidden($column);</code></pre>
<h2>开关选择</h2>
<p><code>on</code>和<code>off</code>对用开关的两个值<code>1</code>和<code>0</code>:</p>
<pre><code class="language-php">$states = [
    'on'  =&gt; ['value' =&gt; 1, 'text' =&gt; '打开', 'color' =&gt; 'success'],
    'off' =&gt; ['value' =&gt; 0, 'text' =&gt; '关闭', 'color' =&gt; 'danger'],
];

$form-&gt;switch($column[, $label])-&gt;states($states);</code></pre>
<h2>显示字段</h2>
<p>只显示字段，不做任何操作：</p>
<pre><code class="language-php">$form-&gt;display($column[, $label]);

//更复杂的显示
$form-&gt;display($column[, $label])-&gt;with(function ($value) {
    return "&lt;img src="$value" /&gt;";
});</code></pre>
<h2>分割线</h2>
<pre><code class="language-php">$form-&gt;divide();</code></pre>
<h2>Html</h2>
<p>插入html内容，参数可以是实现了<code>Htmlable</code>、<code>Renderable</code>或者实现了<code>__toString()</code>方法的类</p>
<pre><code class="language-php">$form-&gt;html('你的html内容', $label = '');</code></pre>
<h2>标签</h2>
<p>插入逗号(,)隔开的字符串<code>tags</code></p>
<pre><code class="language-php">$form-&gt;tags('keywords');</code></pre>
<p><code>tags</code>同样支持<code>ManyToMany</code>的关系，示例如下：</p>
<pre><code class="language-php">$form-&gt;tags('tags', '文章标签')
    -&gt;pluck('name', 'id') // name 为需要显示的 Tag 模型的字段，id 为主键
    -&gt;options(Tag::all());// 下拉框选项</code></pre>
<p>注意：处理<code>ManyToMany</code>关系时必须调用<code>pluck</code>方法，指定显示的字段名和主键。
此外 <code>options</code> 方法传入一个<code>Collection</code>对象时，<code>options</code>会自动调用该对象的<code>pluck</code>方法转为<code>['主键名' =&gt; '显示字段名']</code> 数组，作为下拉框选项。或者可以直接使用<code>['主键名' =&gt; '显示字段名']</code>这样的数组作为参数。</p>
<p><code>tags</code>还支持<code>saving</code>方法用于处理提交的数据，示例如下：</p>
<pre><code class="language-php">$form-&gt;tags('tags', '文章标签')
    -&gt;pluck('name', 'id')
    -&gt;options(Tag::all())
    -&gt;saving(function ($value) {
        return $value;
    });</code></pre>
<p><code>saving</code> 方法接收一个「参数为 tags 的提交值，返回值为修改后的 tags 提交值」的闭包，可以用于实现自动创建新 tag 或其它功能。</p>
<h2>图标</h2>
<p>选择<code>font-awesome</code>图标</p>
<pre><code class="language-php">$form-&gt;icon('icon');</code></pre>
<h2>一对多</h2>
<p>一对多内嵌表格，用于处理一对多的关系，下面是个简单的例子：</p>
<p>有两张表是一对多关系：</p>
<pre><code class="language-sql">CREATE TABLE `demo_painters` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `bio` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `updated_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE `demo_paintings` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `painter_id` int(10) unsigned NOT NULL,
  `title` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `body` text COLLATE utf8_unicode_ci NOT NULL,
  `completed_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `created_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `updated_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`),
  KEY painter_id (`painter_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;</code></pre>
<p>表的模型为：</p>
<pre><code class="language-php">&lt;?php

namespace App\Models\Demo;

use Illuminate\Database\Eloquent\Model;

class Painter extends Model
{
    public function paintings()
    {
        return $this-&gt;hasMany(Painting::class, 'painter_id');
    }
}

&lt;?php

namespace App\Models\Demo;

use Illuminate\Database\Eloquent\Model;

class Painting extends Model
{
    protected $fillable = ['title', 'body', 'completed_at'];

    public function painter()
    {
        return $this-&gt;belongsTo(Painter::class, 'painter_id');
    }
}</code></pre>
<p>构建表单代码如下：</p>
<pre><code class="language-php">$form-&gt;display('id', 'ID');

$form-&gt;text('username')-&gt;rules('required');
$form-&gt;textarea('bio')-&gt;rules('required');

$form-&gt;hasMany('paintings', function (Form\NestedForm $form) {
    $form-&gt;text('title');
    $form-&gt;image('body');
    $form-&gt;datetime('completed_at');
});

$form-&gt;display('created_at', 'Created At');
$form-&gt;display('updated_at', 'Updated At');

// 也可以设置label

$form-&gt;hasMany('paintings', '画作', function (Form\NestedForm $form) {

});</code></pre>
<h2>内嵌</h2>
<p>用于处理<code>mysql</code>的<code>JSON</code>类型字段数据或者<code>mongodb</code>的<code>object</code>类型数据，也可以将多个field的数据值以<code>JSON</code>字符串的形式存储在<code>mysql</code>的字符串类型字段中</p>
<p>比如<code>orders</code>表中的<code>JSON</code>或字符串类型的<code>extra</code>字段，用来存储多个field的数据，先定义model:</p>
<pre><code class="language-php">class Order extends Model
{
    protected $casts = [
        'extra' =&gt; 'json',
    ];
}</code></pre>
<p>然后在form中使用：</p>
<pre><code class="language-php">$form-&gt;embeds('extra', function ($form) {

    $form-&gt;text('extra1')-&gt;rules('required');
    $form-&gt;email('extra2')-&gt;rules('required');
    $form-&gt;mobile('extra3');
    $form-&gt;datetime('extra4');

    $form-&gt;dateRange('extra5', 'extra6', '范围')-&gt;rules('required');

});

// 自定义标题
$form-&gt;embeds('extra', '附加信息', function ($form) {
    ...
});</code></pre>
<p>回调函数里面构建表单元素的方法调用和外面是一样的。</p>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 45);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>