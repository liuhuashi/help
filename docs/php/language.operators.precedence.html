<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"> 
    <meta name="csrf-token" content=""> 
    <title>运算符优先级 - 开发帮助文档</title> 
    <meta name="keyword" content="language.operators.precedence"> 
    <meta name="description" content="language.operators.precedence"> 
    <meta name="author" content="Moments"> 
    <link href="/favicon.ico" rel="shortcut icon"> 
    <link href="/css/blog.css" rel="stylesheet"> 
    <script src="/js/blog.js"></script> 
</head>
<body>
<header class="sticky-top">
    <nav class="navbar navbar-expand navbar-dark bg-secondary justify-content-between text-uppercase">
        <div class="navbar-nav" style="overflow:hidden;">
            <a class="navbar-brand" href="https://help.pythonschool.com">
                <span class="d-md-none">
                    <svg class="text-warning" width="24" height="24" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#emoji-sunglasses"/>
                    </svg>
                </span>
                <span class="d-none d-md-flex">开发帮助文档</span>
            </a>
            <div class="navbar-nav-scroll" style="overflow: hidden;">
                <ul class="navbar-nav text-nowrap pb-4" style="overflow:auto;">
                                            <li class="nav-item">
                            <a class="nav-link" href="/docs/laravel/index.html">laravel</a>
                        </li>
                                            <li class="nav-item">
                            <a class="nav-link active" href="/docs/php/index.html">php</a>
                        </li>
                                    </ul>
            </div>
        </div>
        <div class="d-inline-flex">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/liuhuashi">
                        <svg class="text-light" width="24" height="24" fill="currentColor">
                            <use xlink:href="/css/bootstrap-icons.svg#github"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="container-fluid">
    <div id="aside-hidden" class="position-fixed" style="left:0;top: 58px;cursor:pointer;z-index: 10000;">
        <svg class="align-text-bottom text-warning" width="16" height="16" fill="currentColor" stroke="currentColor" stroke-width="1">
            <use xlink:href="/css/bootstrap-icons.svg#arrow-left-square"/>
        </svg>
    </div>
    <div class="row">
        <div class="aside col-md-3 col-lg-2 border-right shadow position-sticky" style="overflow:auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
    <form class="row border-bottom p-3 bg-white sticky-top">
        <input id="search-version" class="form-control" data-version="1142" type="search" placeholder="英文逗号分隔,分词搜索">
    </form>
    <ul class="nav navbar-nav nav-pills flex-column pt-2 figure-caption">
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.arithmetic.html" title="算术运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    算术运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.array.html" title="数组运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    数组运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.assignment.html" title="赋值运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    赋值运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.bitwise.html" title="位运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    位运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.comparison.html" title="比较浮点数">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    比较浮点数
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.errorcontrol.html" title="错误控制运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    错误控制运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.execution.html" title="执行运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    执行运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.increment.html" title="递增／递减运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    递增／递减运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.logical.html" title="逻辑运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    逻辑运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.precedence.html" title="运算符优先级">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    运算符优先级
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.string.html" title="字符串运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    字符串运算符
                </a>
            </li>
                    <li class="nav-item">
                <a class="nav-link" href="/docs/php/language.operators.type.html" title="类型运算符">
                    <svg class="align-text-bottom text-dark" width="16" height="16" fill="currentColor">
                        <use xlink:href="/css/bootstrap-icons.svg#eyeglasses"/>
                    </svg>
                    类型运算符
                </a>
            </li>
            </ul>
</div>        <div class="aside-middle col-md-9 col-lg-10 row">
    <div class="col-md-9 col-xl-10" style="overflow: auto;height: calc(100vh - 58px);padding-bottom: calc(100vh/3);">
        <div class="container main-h4-1">
            <div class="page-content">
                <div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.operators.html">« 运算符</a></li>
      <li style="float: right;"><a href="language.operators.arithmetic.html">算术运算符 »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="documentation.html">PHP Manual</a></li>
    <li><a href="language.operators.html">运算符</a></li>
    <li>运算符优先级</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.operators.precedence" class="sect1">
   <h2 class="title">运算符优先级</h2>
   <p class="para">
    运算符优先级指定了两个表达式绑定得有多“紧密”。例如，表达式 <code class="literal">1 + 5 *
    3</code> 的结果是 <code class="literal">16</code> 而不是 <code class="literal">18</code>
    是因为乘号（“*”）的优先级比加号（“+”）高。必要时可以用括号来强制改变优先级。例如：<code class="literal">(1
    + 5) * 3</code> 的值为 <code class="literal">18</code>。
   </p>
   <p class="para">
    如果运算符优先级相同，那运算符的结合方向决定了该如何运算。例如，"-"是左联的，那么 <code class="literal">1 - 2 - 3</code> 就等同于 <code class="literal">(1 - 2) - 3</code>
    并且结果是 <code class="literal">-4</code>. 另外一方面，"="是右联的，所以 <code class="literal">$a = $b = $c</code> 等同于
    <code class="literal">$a = ($b = $c)</code>。
   </p>
   <p class="para">
    没有结合的相同优先级的运算符不能连在一起使用，例如
    <code class="literal">1 &lt; 2 &gt; 1</code> 在PHP是不合法的。但另外一方面表达式
    <code class="literal">1 &lt;= 1 == 1</code> 是合法的, 因为 <code class="literal">==</code> 的优先级低于
    <code class="literal">&lt;=</code>。
   </p>
   <p class="para">
    括号的使用，哪怕在不是必要的场合下，通过括号的配对来明确标明运算顺序，而非靠运算符优先级和结合性来决定，通常能够增加代码的可读性。
   </p>
   <p class="para">
    下表按照优先级从高到低列出了运算符。同一行中的运算符具有相同优先级，此时它们的结合方向决定求值顺序。
    </p><table class="doctable table">
     <caption><strong>运算符优先级</strong></caption>
     
      <thead>
       <tr>
        <th>结合方向</th>
        <th>运算符</th>
        <th>附加信息</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr>
        <td>不适用</td>
        <td>
         <code class="literal">clone</code>
         <code class="literal">new</code>
        </td>
        <td><a href="language.oop5.cloning.html" class="link">clone</a> 和 <a href="language.oop5.basic.html#language.oop5.basic.new" class="link">new</a></td>
       </tr>

       <tr>
        <td>右</td>
        <td><code class="literal">**</code></td>
        <td><a href="language.operators.arithmetic.html" class="link">算术运算符</a></td>
       </tr>

       <tr>
        <td>不适用</td>
        <td>
         <code class="literal">++</code>
         <code class="literal">--</code>
         <code class="literal">~</code>
         <code class="literal">(int)</code>
         <code class="literal">(float)</code>
         <code class="literal">(string)</code>
         <code class="literal">(array)</code>
         <code class="literal">(object)</code>
         <code class="literal">(bool)</code>
         <code class="literal">@</code>
        </td>
        <td>
         <a href="language.types.html" class="link">类型</a>、<a href="language.operators.increment.html" class="link">递增／递减</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">instanceof</code></td>
        <td>
         <a href="language.types.html" class="link">类型</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">!</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td>
         <code class="literal">*</code>
         <code class="literal">/</code>
         <code class="literal">%</code>
        </td>
        <td>
         <a href="language.operators.arithmetic.html" class="link">算术运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td>
         <code class="literal">+</code>
         <code class="literal">-</code>
         <code class="literal">.</code>
        </td>
        <td>
         <a href="language.operators.arithmetic.html" class="link">算术运算符</a> 和 <a href="language.operators.string.html" class="link">字符串运算符</a></td>
       </tr>

       <tr>
        <td>左</td>
        <td>
         <code class="literal">&lt;&lt;</code>
         <code class="literal">&gt;&gt;</code>
        </td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a>
        </td>
       </tr>

       <tr>
        <td>无</td>
        <td>
         <code class="literal">&lt;</code>
         <code class="literal">&lt;=</code>
         <code class="literal">&gt;</code>
         <code class="literal">&gt;=</code>
        </td>
        <td>
         <a href="language.operators.comparison.html" class="link">比较运算符</a>
        </td>
       </tr>

       <tr>
        <td>无</td>
        <td>
         <code class="literal">==</code>
         <code class="literal">!=</code>
         <code class="literal">===</code>
         <code class="literal">!==</code>
         <code class="literal">&lt;&gt;</code>
         <code class="literal">&lt;=&gt;</code>
        </td>
        <td>
         <a href="language.operators.comparison.html" class="link">比较运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">&amp;</code></td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a> 和 <a href="language.references.html" class="link">引用</a></td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">^</code></td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">|</code></td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">&amp;&amp;</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">||</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>右</td>
        <td><code class="literal">??</code></td>
        <td>
         <a href="language.operators.comparison.html#language.operators.comparison.coalesce" class="link">null 合并运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">? :</code></td>
        <td>
         <a href="language.operators.comparison.html#language.operators.comparison.ternary" class="link">三元运算符</a>
        </td>
       </tr>

       <tr>
        <td>右</td>
        <td>
         <code class="literal">=</code>
         <code class="literal">+=</code>
         <code class="literal">-=</code>
         <code class="literal">*=</code>
         <code class="literal">**=</code>
         <code class="literal">/=</code>
         <code class="literal">.=</code>
         <code class="literal">%=</code>
         <code class="literal">&amp;=</code>
         <code class="literal">|=</code>
         <code class="literal">^=</code>
         <code class="literal">&lt;&lt;=</code>
         <code class="literal">&gt;&gt;=</code>
         <code class="literal">??=</code>
        </td>
        <td>
         <a href="language.operators.assignment.html" class="link">赋值运算符</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">yield from</code></td>
        <td>
         <a href="language.generators.syntax.html#control-structures.yield.from" class="link">yield from</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">yield</code></td>
        <td>
         <a href="language.generators.syntax.html#control-structures.yield" class="link">yield</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">print</code></td>
        <td><span class="function"><a href="function.print.html" class="function">print</a></span></td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">and</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">xor</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">or</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

      </tbody>
     
    </table>

   
   <p class="para">
    </p><div class="example" id="example-109">
     <p><strong>示例 #1 结合方向</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$a </span><span style="color: #007700">= </span><span style="color: #0000BB">3 </span><span style="color: #007700">* </span><span style="color: #0000BB">3 </span><span style="color: #007700">% </span><span style="color: #0000BB">5</span><span style="color: #007700">; </span><span style="color: #FF8000">// (3 * 3) % 5 = 4<br>// ternary operator associativity differs from C/C++<br></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">true </span><span style="color: #007700">? </span><span style="color: #0000BB">0 </span><span style="color: #007700">: </span><span style="color: #0000BB">true </span><span style="color: #007700">? </span><span style="color: #0000BB">1 </span><span style="color: #007700">: </span><span style="color: #0000BB">2</span><span style="color: #007700">; </span><span style="color: #FF8000">// (true ? 0 : true) ? 1 : 2 = 2<br><br></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$b </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">$b </span><span style="color: #007700">+= </span><span style="color: #0000BB">3</span><span style="color: #007700">; </span><span style="color: #FF8000">// $a = ($b += 3) -&gt; $a = 5, $b = 5<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   
   <p class="para">
    Operator precedence and associativity only determine how expressions
    are grouped, they do not specify an order of evaluation. PHP does not
    (in the general case) specify in which order an expression is evaluated
    and code that assumes a specific order of evaluation should be avoided,
    because the behavior can change between versions of PHP or depending on
    the surrounding code.
    </p><div class="example" id="example-110">
     <p><strong>示例 #2 Undefined order of evaluation</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$a </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>echo </span><span style="color: #0000BB">$a </span><span style="color: #007700">+ </span><span style="color: #0000BB">$a</span><span style="color: #007700">++; </span><span style="color: #FF8000">// may print either 2 or 3<br><br></span><span style="color: #0000BB">$i </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">] = </span><span style="color: #0000BB">$i</span><span style="color: #007700">++; </span><span style="color: #FF8000">// may set either index 1 or 2<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
    <div class="example" id="example-111">
     <p><strong>示例 #3 <code class="literal">+</code>、<code class="literal">-</code> 、<code class="literal">.</code> 具有相同的优先级</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$x </span><span style="color: #007700">= </span><span style="color: #0000BB">4</span><span style="color: #007700">;<br></span><span style="color: #FF8000">// this line might result in unexpected output:<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"x minus one equals " </span><span style="color: #007700">. </span><span style="color: #0000BB">$x</span><span style="color: #007700">-</span><span style="color: #0000BB">1 </span><span style="color: #007700">. </span><span style="color: #DD0000">", or so I hope\n"</span><span style="color: #007700">;<br></span><span style="color: #FF8000">// because it is evaluated like this line:<br></span><span style="color: #007700">echo ((</span><span style="color: #DD0000">"x minus one equals " </span><span style="color: #007700">. </span><span style="color: #0000BB">$x</span><span style="color: #007700">) - </span><span style="color: #0000BB">1</span><span style="color: #007700">) . </span><span style="color: #DD0000">", or so I hope\n"</span><span style="color: #007700">;<br></span><span style="color: #FF8000">// the desired precedence can be enforced by using parentheses:<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"x minus one equals " </span><span style="color: #007700">. (</span><span style="color: #0000BB">$x</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">) . </span><span style="color: #DD0000">", or so I hope\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>以上例程会输出：</p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
-1, or so I hope
-1, or so I hope
x minus one equals 3, or so I hope
</pre></div>
     </div>
    </div>
   
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    </p><p class="para">
     尽管 <code class="literal">=</code> 比其它大多数的运算符的优先级低，PHP
     仍旧允许类似如下的表达式：<code class="literal">if (!$a = foo())</code>，在此例中
     <code class="literal">foo()</code> 的返回值被赋给了 <var class="varname">$a</var>。
    </p>
   </blockquote>
  </div></div></div>
            </div>
        </div>
    </div>
    <div class="col-md-3 col-xl-2" id="toc-list">
        <ul></ul>
    </div>
</div>    </div>
</div>
<span id="back-top">
<svg width="20" height="20" fill="currentColor">
    <use xlink:href="/css/bootstrap-icons.svg#chevron-up"/>
</svg>
</span>
 
<script>
    // 浏览量统计
    $(function () {
        let formdata = new FormData();
        formdata.append('_token', '');
        formdata.append('id', 7323);
        $.ajax({
            url: $(".sticky-top .navbar-brand").attr('href') + "/api/doc/clicks",
            type: 'POST',
            data: formdata,
            processData: false,
            contentType: false
        });
    });
    // aside-hidden
    $(function () {
        $('#aside-hidden').on('click', function () {
            $('.aside').toggle(0, function () {
                if ($(this).is(':visible')) {
                    $('.aside-middle').removeClass('col-md-12 col-lg-12').addClass('col-md-9 col-lg-10');
                } else {
                    $('.aside-middle').removeClass('col-md-9 col-lg-10').addClass('col-md-12 col-lg-12');
                }
            });
        });
    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1522d01c436f59ddc8389f25bfa9d53e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>